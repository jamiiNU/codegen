var NUTOOL_PIN={};!function(){var e,n,t,l,o,r,s,a,c,d,f,g,_,u,N,p,O,h,P,x,T,I,M,C,U=!0,b=!1,L=!1,S=0,A=0,v=0,y=0,D=0,w=0,F=0,j=0,E="12px Arial",X=275,B=16,R=40,G=30,K=0,W=1,H=10,z=24,Y=25,V=3,Z=3,Q=20,q=7,J=1,ee=0,ie=0,ne=0,te=0,le=0,oe=0,re=0,se=0,ae=0,ce={getContext:null,removeContext:null,addEvent:null},de=0,fe="",ge="",_e="Nuvoton",ue="NuMicro",Ne=" Nuvoton Technology Corp.",pe=null,Oe=20,he=20,Pe=130,xe=5,Te="#FAB92D",Ie="#41AF88",Me="#FC517E",Ce="#9365C9",me=100,Ue=100,be=[],Le=[],ke=[],$e=[],Se=[],Ae=[],ve=[],ye=[],De=[],we=[],Fe=[],je=[],Ee=[],Xe=[],Be=[],Re=[],Ge=[],Ke=[],We=[],He={},ze=["ISD9100","ISD9300","KM1M4BF","KM1M7AF","KM1M7BF","KM1M7CF","M029G","M030G","M031","M051","M0518","M0519","M0564","M071","M091","M0A21","M2003C","M2351","M251","M261","M2L31","M451","M460","M466","M471","M479","M480","M55M1","MA35D1","MINI51","ML51","MS51","MUG51","NANO100","NDA102","NM1120","NM1200","NM1500","NUC029","NUC100","NUC200","NUC400","NUC505"],Ye=["M55M1","M2003C"],Ve=!1,Ze=!1,Qe=!1,qe=!0,Je=!0,ei=!1,ii=[];function ni(){var e,i;for(e=0,i=be.length;e<i;e+=1)be[e].restore();be.length=0,e=null,i=null}function ti(){var i,n,t,l,r,s,a,c,d,f,g=$("#panel"),_=0;if(g[0].setAttribute("style","width:"+(ne-X-8)+"px; height:"+(te-8)+"px; border: 1px solid white; position:absolute; left:"+X+"px; top:0px;"),-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?Qe?g.hover((function(){$(this).css("opacity","1"),$("#pin_side_0").show(),$("#NUC_PinConfiguration_Canvas_Lining").hide(),Vi()}),(function(){$(this).css("opacity",e),$("#pin_side_0").hide(),$("#NUC_PinConfiguration_Canvas_Lining").show()})):g.hover((function(){$(this).css("opacity","1"),$("#pin_side_0").css("opacity","0.8"),$("#NUC_PinConfiguration_Canvas_Lining").css("opacity","0"),Vi()}),(function(){$(this).css("opacity",e),$("#pin_side_0").css("opacity","0.1"),$("#NUC_PinConfiguration_Canvas_Lining").css("opacity","1")})):g.hover((function(){$(this).css("opacity","1"),Vi()}),(function(){$(this).css("opacity",e)})),(t=$("#NUC_PinConfiguration_Canvas")[0]).setAttribute("style","z-index:1; position:absolute; left:0px; top:0px; border: 1px solid white;"),t.setAttribute("width",ee),t.setAttribute("height",ie),r=ce.getContext(t),ce.addEvent(t,"click",en),$("html").hasClass("ie10+")&&ce.addEvent(t,"dblclick",(function(){yn("userDefined")})),r.strokeStyle="#000000",-1!==o.indexOf("SOP")){r.strokeRect(se,ae,re/2,re),(s=r.createLinearGradient(se+re/2,ae+re,0,0)).addColorStop(0,"#000000"),s.addColorStop(1,"#8CA5B9"),r.fillStyle=s,r.fillRect(se,ae,re/2,re),r.beginPath(),r.arc(se+10,ae+10,5,0,2*Math.PI,!0),r.strokeStyle="white",r.stroke(),r.strokeStyle="#000000",d=1;do{d+=1,r.font=d+"px Arial Black"}while(r.measureText(_e).width<re/2);for(_=d,r.save(),r.translate(se+re/4,ae+re/2-r.measureText(_e).width/2),r.rotate(Math.PI/2),r.fillStyle="#FE2E2E",r.fillText(_e,0,0),r.restore(),a=o.slicePriorToX("("),i=0,n=NUTOOL_PIN.g_cfg_chips.length;i<n;i+=1)if(NUTOOL_PIN.g_cfg_chips[i].name+"("+NUTOOL_PIN.g_cfg_chips[i].pkg+")"===o){void 0!==NUTOOL_PIN.g_cfg_chips[i].display&&(a=NUTOOL_PIN.g_cfg_chips[i].display);break}r.fillStyle="white",f=1;do{f+=1,r.font="bold "+f+"px Calibri"}while(r.measureText(a).width<re/2);if(f>d&&(f=d,r.font="bold "+f+"px Calibri"),_=f/2+5,r.save(),r.translate(se+re/4-_,ae+re/2-r.measureText(a).width/2),r.rotate(Math.PI/2),r.fillText(a,0,0),r.restore(),S>12){d=1;do{d+=1,r.font="bold "+d+"px Calibri"}while(r.measureText(NUTOOL_PIN.g_packageNumber).width<re/4);_=_+d/2+5,r.save(),r.translate(se+re/4-_,ae+re/2-r.measureText(NUTOOL_PIN.g_packageNumber).width/2),r.rotate(Math.PI/2),r.fillText(NUTOOL_PIN.g_packageNumber,0,0),r.restore()}for(be=[],i=0;i<2;i+=1)c="pin_side_"+i,g[0].appendChild(Hi("canvas",c)),be[i]=Ji().init(c,$("#"+c),i),be[i].draw()}else if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")){r.strokeRect(se,ae,re,re),(s=r.createLinearGradient(se+re,ae+re,0,0)).addColorStop(0,"#000000"),s.addColorStop(1,"#8CA5B9"),r.fillStyle=s,r.fillRect(se,ae,re,re),r.beginPath(),r.arc(se+10,ae+re-10,5,0,2*Math.PI,!0),r.strokeStyle="white",r.stroke(),r.strokeStyle="#000000",0===$("#NUC_PinConfiguration_Canvas_Lining").length&&$("#panel")[0].appendChild(Hi("canvas","NUC_PinConfiguration_Canvas_Lining")),(l=$("#NUC_PinConfiguration_Canvas_Lining")[0]).setAttribute("style","z-index:1; position:absolute; left:0px; top:0px; border: 1px solid white;"),l.setAttribute("width",ee),l.setAttribute("height",ie),r=ce.getContext(l),d=1;do{d+=1,r.font=d+"px Arial Black"}while(r.measureText(_e).width<re/2);for(r.fillStyle="#FE2E2E",r.fillText(_e,se+re/2-r.measureText(_e).width/2,ae+re/2),a=o.slicePriorToX("("),i=0,n=NUTOOL_PIN.g_cfg_chips.length;i<n;i+=1)if(NUTOOL_PIN.g_cfg_chips[i].name+"("+NUTOOL_PIN.g_cfg_chips[i].pkg+")"===o){void 0!==NUTOOL_PIN.g_cfg_chips[i].display&&(a=NUTOOL_PIN.g_cfg_chips[i].display);break}r.fillStyle="white",f=1;do{f+=1,r.font="bold "+f+"px Calibri"}while(r.measureText(a).width<re/2);f>d&&(f=d,r.font="bold "+f+"px Calibri"),_=S<100?f/2+S/2:f/2+S/10,r.fillText(a,se+re/2-r.measureText(a).width/2,ae+re/2+_),a=o.slicePriorToX(")").sliceAfterX("(")+"(TOP VIEW)",d=1;do{d+=1,r.font="bold "+d+"px Calibri"}while(r.measureText(a).width<re/2);_=S<100?_+d/2+S/2:_+d/2+S/10,r.fillText(a,se+re/2-r.measureText(a).width/2,ae+re/2+_),be=[],c="pin_side_0",g[0].appendChild(Hi("canvas",c)),be[0]=Ji().init(c,$("#"+c),0),be[0].draw()}else{r.strokeRect(se,ae,re,re),(s=r.createLinearGradient(se+re,ae+re,0,0)).addColorStop(0,"#000000"),s.addColorStop(1,"#8CA5B9"),r.fillStyle=s,r.fillRect(se,ae,re,re),r.beginPath(),r.arc(se+10,ae+re-10,5,0,2*Math.PI,!0),r.strokeStyle="white",r.stroke(),r.strokeStyle="#000000",d=1;do{d+=1,r.font=d+"px Arial Black"}while(r.measureText(_e).width<re/2);for(r.fillStyle="#FE2E2E",r.fillText(_e,se+re/2-r.measureText(_e).width/2,ae+re/2),a=o.slicePriorToX("("),i=0,n=NUTOOL_PIN.g_cfg_chips.length;i<n;i+=1)if(NUTOOL_PIN.g_cfg_chips[i].name+"("+NUTOOL_PIN.g_cfg_chips[i].pkg+")"===o){void 0!==NUTOOL_PIN.g_cfg_chips[i].display&&(a=NUTOOL_PIN.g_cfg_chips[i].display);break}r.fillStyle="white",f=1;do{f+=1,r.font="bold "+f+"px Calibri"}while(r.measureText(a).width<re/2);f>d&&(f=d,r.font="bold "+f+"px Calibri"),_=f/2+S/8,r.fillText(a,se+re/2-r.measureText(a).width/2,ae+re/2+_),d=1;do{d+=1,r.font="bold "+d+"px Calibri"}while(r.measureText(NUTOOL_PIN.g_packageNumber).width<re/4);for(_=_+d/2+S/8,r.fillText(NUTOOL_PIN.g_packageNumber,se+re/2-r.measureText(NUTOOL_PIN.g_packageNumber).width/2,ae+re/2+_),be=[],i=0;i<4;i+=1)c="pin_side_"+i,g[0].appendChild(Hi("canvas",c)),be[i]=Ji().init(c,$("#"+c),i),be[i].draw()}!function(){var e,i,n,t,l,r,s,a=ce.getContext($("#NUC_PinConfiguration_Canvas")[0]);if(a.font=E,n="white",-1!==o.indexOf("SOP"))for(e=0,i=S/2;e<i;e+=1)l=se+V,r=ae+z+e*(B+K)+4*B/5,a.fillStyle=n,a.fillText((e+1).toString(),l,r),Ve&&(l=se-R-Z,a.save(),a.fillStyle="black",a.fillText($e[e],l-a.measureText($e[e]).width,r),a.restore()),l=se+re/2,r=ae+re-z-B-e*(B+K)+4*B/5,s=a.measureText((e+1+S/2).toString()),a.fillStyle=n,a.fillText((e+1+S/2).toString(),l-s.width-V,r),Ve&&(l=se+re/2+R+Z,a.fillStyle="black",a.fillText($e[e+S/2],l,r));else if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")){for(e=0,i=j;e<i;e+=1)l=se+V,r=ae+z+G+(j-1-e%j)*(2*G+K)+4,a.fillStyle=n,a.fillText((e+1).toString(),l,r);for(e=0,i=F;e<i;e+=1)l=se+z+G+e*(2*G+K)-4,r=ae+re-5,a.fillStyle=n,a.fillText(NUTOOL_PIN.g_horizontalIndexArray[e],l,r)}else{for(e=0,i=A;e<i;e+=1)t=Math.floor((w-A)/2),l=se+z+(e+t)*(B+K),r=ae+re,a.save(),a.translate(l,r),a.rotate(-Math.PI/2),a.fillStyle=n,a.fillText((e+1).toString(),V,4*B/5),a.restore(),Ve&&(r=ae+re+R,a.save(),a.translate(l,r),a.rotate(-Math.PI/2),a.textAlign="end",a.fillStyle="black",a.fillText($e[e],-V,4*B/5),a.restore());for(e=0,i=v;e<i;e+=1)t=Math.floor((w-v)/2),l=se+re,r=ae+re-z-B-(e+t)*(B+K)+4*B/5,s=a.measureText((e+1+A).toString()),a.fillStyle=n,a.fillText((e+1+A).toString(),l-s.width-V,r),Ve&&(l=se+re+R+Z,a.fillStyle="black",a.fillText($e[e+A],l,r));for(e=0,i=y;e<i;e+=1)t=Math.floor((w-y)/2),l=se+re-z-B-(e+t)*(B+K),r=ae-R,a.save(),a.translate(l,r),a.rotate(-Math.PI/2),s=a.measureText((e+1+A+v).toString()),a.fillStyle=n,a.fillText((e+1+A+v).toString(),-R-s.width-V,4*B/5),a.restore(),Ve&&(a.save(),a.translate(l,r),a.rotate(-Math.PI/2),a.fillStyle="black",a.fillText($e[e+A+v],2*Z,4*B/5),a.restore());for(e=0,i=D;e<i;e+=1)t=Math.floor((w-D)/2),l=se+V,r=ae+z+(e+t)*(B+K)+4*B/5,a.fillStyle=n,a.fillText((e+1+A+v+y).toString(),l,r),Ve&&(l=se-R-Z,a.save(),a.fillStyle="black",a.fillText($e[e+A+v+y],l-a.measureText($e[e+A+v+y]).width,r),a.restore())}e=null,i=null,n=null,a=null,t=null,l=null,r=null,null}(),_n(),i=null,n=null,g=null,t=null,l=null,r=null,s=null,a=null,_=null,c=null,d=null,f=null}function li(e,i){var n,t,l,o,r,s=0,a=/(\d+)|(\D+)/g,c=/\d/;if(isFinite(e)&&isFinite(i))return e-i;if((n=String(e).toLowerCase())===(t=String(i).toLowerCase()))return 0;if(!c.test(n)||!c.test(t))return n>t?1:-1;for(n=n.match(a),t=t.match(a),r=n.length>t.length?t.length:n.length;s<r;)if(l=n[s],o=t[s],s+=1,l!==o)return isFinite(l)&&isFinite(o)?("0"===l.charAt(0)&&(l="."+l),"0"===o.charAt(0)&&(o="."+o),l-o):l>o?1:-1;return n.length-t.length}function oi(){var e,i,n,s,a,c,d,f,g,_,u,N,p,O,h,x,T,I,M,C,m,b,k=[],S=[],A=[],v=[],y=[],D=[],w=[],F=[],j=$("#rootTree_Pin"),E=$("#moduleTree"),B=$("#ChipType_span"),R=$("#MCU_span");if((k=zi(we)).sort(li),NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode)for(var G=0;G<k.length;)/BP[0-9]{1,}\./.test(k[G])?k.splice(G,1):G++;for(y=[],Le=[],ke=[],F=[],e=0,s=k.length;e<s;e+=1){for(S=[],v=[],i=0,a=we[k[e]].length;i<a;i+=1)d=Fe[k[e]][i],S.push(d+"_Pin"+we[k[e]][i]);for(S.sort(li),A=[],_=!1,i=0,a=S.length;i<a;i+=1)if(!(A.length>0&&-1!==$.inArray(i,A))){if(d=S[i],g=!1,0===NUTOOL_PIN.g_cfg_shareBits.length&&i!==S.length-1)for(n=i+1,c=S.length;n<c;n+=1)d.restorePinTreeNodeName()===S[n].restorePinTreeNodeName()?(A.push(n),g=!0,_=!0):d.sliceAfterX("_Pin")===S[n].sliceAfterX("_Pin")&&(_=!0);if(f=d.replaceSpecialCharacters(),N={},h={},g){for(p={},h.id=f,p.data="Pin:"+Qi(d.sliceAfterX("_Pin")),p.attr=h,(w=[]).push(p),ke.push(h.id),n=0,c=A.length;n<c;n+=1)d.restorePinTreeNodeName()===S[A[n]].restorePinTreeNodeName()&&(p={},(h={}).id=S[A[n]],h.id=h.id.replaceSpecialCharacters(),p.data="Pin:"+Qi(h.id.sliceAfterX("_Pin")),p.attr=h,w.push(p),ke.push(h.id));(h={}).id=f.restorePinTreeNodeName()+"_Intermediate",N.data=d.restorePinTreeNodeName(),N.attr=h,N.children=w,Le.push(h.id)}else h.id=f,N.data=d.restorePinTreeNodeName()+"(Pin:"+Qi(d.sliceAfterX("_Pin"))+")",N.attr=h;v.push(N)}_&&F.push(k[e]+"_Root"),O={},(h={}).id=k[e]+"_Root",O.data=k[e],O.attr=h,O.state="closed",O.children=v,y[e]=O}0===E.length&&(Ti(),"Simplified Chinese"===ge?(M="支援模组",C="搜寻..",m="芯片系列:",b="型号:"):"Traditional Chinese"===ge?(M="支援模組",C="搜尋..",m="晶片系列:",b="型號:"):(M="Supported Modules",C="Search..",m="Chip Series:",b="Part No.:"),j[0].appendChild(Hi("div","supportedModules","")),(x=$("#supportedModules")).append("<span id=supportedModules_span></span>"),(T=$("#supportedModules_span")).css("vertical-align","text-top"),T.css("font-size","16px"),T.css("font-weight","bold"),x.append("<input id='searchInput_Pin' type='text' value="+C+">"),I=$("#searchInput_Pin"),j[0].appendChild(Hi("div","moduleTree","Loading...")),E=$("#moduleTree"),B.text(m),B.css("font-size","16px"),B.css("font-weight","bold"),R.text(b),R.css("font-size","16px"),R.css("font-weight","bold"),C=null,m=null,b=null),x[0].setAttribute("style","background-color: #FFFFFF; border-right: 16px solid #F2F2F2; float:left; width:"+(X-16)+"px; height: 22px;"),T.text(M),I[0].setAttribute("style","font-family:Times Arial; position:absolute; left:"+(T.width()+10)+"px; width:"+(X-16-T.width()-10)+"px; height: 16px;"),j.hide(),I.change((function(){ui(this.value)})),E[0].setAttribute("style","background-color: #FFFFFF; overflow-y: scroll; float:left; width:"+X+"px; height: "+(oe-le-6-$("#supportedModules").height())+"px; font-size:16px;"),-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?Qe?E.hover((function(){$(this).css("background-color","#FAFAFA"),Vi(),$("#pin_side_0").show(),$("#NUC_PinConfiguration_Canvas_Lining").hide()}),(function(){$(this).css("background-color","#FFFFFF"),$("#pin_side_0").hide(),$("#NUC_PinConfiguration_Canvas_Lining").show()})):E.hover((function(){$(this).css("background-color","#FAFAFA"),Vi(),$("#pin_side_0").css("opacity","0.8"),$("#NUC_PinConfiguration_Canvas_Lining").css("opacity","0")}),(function(){$(this).css("background-color","#FFFFFF"),$("#pin_side_0").css("opacity","0.1"),$("#NUC_PinConfiguration_Canvas_Lining").css("opacity","1")})):E.hover((function(){$(this).css("background-color","#FAFAFA"),Vi()}),(function(){$(this).css("background-color","#FFFFFF")})),E.jstree({themes:{theme:"classic",icons:!1},json_data:{data:y,progressive_render:!0},search:{case_insensitive:!0},core:{animation:0},plugins:["themes","json_data","types","search","checkbox","ui"]}).bind("hover_node.jstree",(function(e,i){var n,l=i.rslt.obj.attr("id"),o=!1,r="",s=-1;t&&NUTOOL_PIN.g_cfg_gpiosDescriptions.length>0&&-1===l.indexOf("_dot")&&(-1!==l.indexOf("_Pin")&&(n=l.restorePinTreeNodeName(),s=parseInt(l.sliceAfterX("_Pin"),10),o=!0),o&&(r=ln(n=n.restorePinTreeNodeName().restoreSpecialCharacters(),s),mi(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][s-1])&&(r="("+NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][s-1]+") "+r),"unknown"!==r&&Vn(l,r,"right"))),n=null,o=null,r=null,s=null})).bind("check_node.jstree",(function(e,i){var n,t,l,o=i.rslt.obj.attr("id"),s=o.restorePinTreeNodeName();try{l=i.inst._get_parent(i.rslt.obj).attr("id")}catch(e){}if(D=[],gn(),en(),$("#"+o).hasClass("semi-disabled"))!function(e){var i,n,t,l,o,s,a,c,d,f,g,_,u,N,p,O,h,x,T=$("#moduleTree"),I=[],M=[],C=[],m=[],U=[],b=[],k=[];if(h=!0,[],m=[],U=[],b=[],k=[],o=Ei(e.slicePriorToX("_")),O=!1,x=!1,c=0,T.jstree("open_node",$("#"+e)),$("#"+e).find("li").each((function(t,l){if(s=$(l).attr("id"),-1===$.inArray(s,m))if(m.push(s),-1===$.inArray(s,ke))-1!==s.indexOf("_Pin")?((d=ve[parseInt(s.sliceAfterX("_Pin"),10)-1].replaceSpecialCharacters())!==s.restorePinTreeNodeName()?(h=!1,$("#"+s).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")):x=!0,"red"!==$("#"+s+" >a").css("color")&&"rgb(255, 0, 0)"!==$("#"+s+" >a").css("color")||-1!==$.inArray(s.sliceAfterX("Pin"),b)||(U.push(s),b.push(s.sliceAfterX("Pin")))):(O=!1,c=0,T.jstree("open_node",$("#"+s)),$("#"+s).removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),$("#"+s).find("li").each((function(e,i){a=$(i).attr("id"),m.push(a),(d=ve[parseInt(a.sliceAfterX("_Pin"),10)-1].replaceSpecialCharacters())===a.restorePinTreeNodeName()?(O=!0,x=!0):$("#"+a).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),"red"!==$("#"+a+" >a").css("color")&&"rgb(255, 0, 0)"!==$("#"+a+" >a").css("color")||(c+=1),e+1===$("#"+s).find("li").length&&!1===O&&(h=!1,c===$("#"+s).find("li").length&&k.push(s),$("#"+s).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"))})));else if((d=ve[parseInt(s.sliceAfterX("_Pin"),10)-1].replaceSpecialCharacters())===s.restorePinTreeNodeName()?(O=!0,x=!0):$("#"+s).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),"red"!==$("#"+s+" >a").css("color")&&"rgb(255, 0, 0)"!==$("#"+s+" >a").css("color")||(c+=1),t+1===$("#"+e).find("li").length&&!1===O){if(h=!1,c===$("#"+e).find("li").length)for(i=0,n=$("#"+e).find("li").length;i<n;i+=1)if(d=$("#"+e).find("li")[i].id,-1===$.inArray(d.sliceAfterX("Pin"),b)){U.push(d),b.push(d.sliceAfterX("Pin"));break}for($("#"+e).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),i=0,n=Se.length;i<n;i+=1)if(Se[i].sliceAfterX(":")===o){O=!0;break}O?$("#"+o+"_Root").removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"):$("#"+o+"_Root").removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")}})),k.length>0)for(i=0,n=k.length;i<n;i+=1)for(s=k[i],t=0,l=$("#"+s).find("li").length;t<l;t+=1)if(d=$("#"+s).find("li")[t].id,-1===$.inArray(d.sliceAfterX("Pin"),b)){U.push(d),b.push(d.sliceAfterX("Pin"));break}x?$("#"+e).removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"):$("#"+e).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");if(h)void 0!==Re[o]&&Re[o].length>0&&(Re[o].length=0),T.jstree("uncheck_node",$("#"+e));else if(U.length>0){for(p="",i=0;i<U.length;i+=1)d=U[i].sliceAfterX("Pin"),p+="Simplified Chinese"===ge?"第"+Qi(d)+"脚位已被"+qi(ve[parseInt(d,10)-1])+"使用。<br />":"Traditional Chinese"===ge?"第"+Qi(d)+"腳位已被"+qi(ve[parseInt(d,10)-1])+"使用。<br />":"Pin"+Qi(d)+" has been asserted by "+qi(ve[parseInt(d,10)-1])+".<br />";"Simplified Chinese"===ge?(f="冲突发生",g="預期的"+o+"和别的模组冲突。请问你要调整旧的且改设置到现在的模组吗?",_="要",u="不要"):"Traditional Chinese"===ge?(f="衝突發生",g="預期的"+o+"和別的模組衝突。請問你要調整舊的且改設置到現在的模組嗎?",_="要",u="不要"):(f="Conflict Occurred",g="The expected "+o+" conflicts with other modules. Would you like to adjust the old modules and configure to the current one?",_="Yes",u="No"),gn(),N=$('<div id="conflictDialog"><p>'+g+"<br />"+p+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:f,width:500,height:400,show:"fade",hide:"fade",close:function(){$("#conflictDialog").dialog("destroy")},buttons:[{text:_,click:function(){for(C=zi(Ee),Be=[],i=0,n=C.length;i<n;i+=1)Be[C[i]]=Ee[C[i]];for(De=[],i=0,n=ye.length;i<n;i+=1)De[i]=ye[i];for(r="",i=0,n=ve.length;i<n;i+=1)""!==ve[i]&&(r+="Pin"+(i+1)+":"+qi(ve[i])+"\r");for(di(e),P="",I=[],M=[],i=0;i<U.length;i+=1)I.push(parseInt(U[i].sliceAfterX("Pin"),10)),M.push(U[i].sliceAfterX("Pin"));o=Ei(U[0].slicePriorToX("_")),si(U[0],o,I,M)}},{text:u,click:function(){$("#conflictDialog").dialog("isOpen")&&$("#conflictDialog").dialog("destroy"),di(e)}}]}),$("#conflictDialog").dialog("widget").draggable("option","axis","x y"),$("#conflictDialog").dialog("widget").draggable({containment:"window",scroll:!1}),L&&($("#conflictDialog").dialog("option","buttons")[0].click.apply(N),$("#conflictDialog").dialog("isOpen")&&$("#conflictDialog").dialog("destroy")),f=null,g=null,_=null,u=null}else di(e);Wi(),i=null,n=null,t=null,l=null,T=null,o=null,s=null,a=null,[],m=[],C=[],O=null,h=null,x=null}(o);else{if(void 0===l){for(n=0,t=we[s].length;n<t;n+=1)D.push(we[s][n]);u=s,E.jstree("open_node",$("#"+o))}else D[0]=parseInt(o.sliceAfterX("Pin"),10),u=Ei(l.slicePriorToX("_"));Je?ci(o,u,D):ri(!0,o,u,D),!U&&L&&$("#NUC_PinConfiguration_Canvas")[0].setAttribute("innerText",o),n=null,t=null,o=null,s=null}})).bind("uncheck_node.jstree",(function(i,n){var t,l,o=n.rslt.obj.attr("id"),r=o.restorePinTreeNodeName();try{t=n.inst._get_parent(n.rslt.obj).attr("id")}catch(e){}if(D=[],gn(),void 0===t)D=we[r],u=Ei(r);else{if(-1!==o.indexOf("_Intermediate")){for(e=0,s=ke.length;e<s;e+=1)ke[e].restorePinTreeNodeName()===o.restorePinTreeNodeName()&&(l=ke[e],u=Ei(l.slicePriorToX("_")),D[0]=parseInt(l.sliceAfterX("_Pin"),10),l.restorePinTreeNodeName()===ve[D[0]-1].replaceSpecialCharacters()&&(fi(l,u,D),Wi()));return l=null,void null}D[0]=parseInt(o.sliceAfterX("Pin"),10),u=Ei(t.slicePriorToX("_"))}ri(!1,o,u,D),o=null,r=null,t=null})).bind("open_node.jstree",(function(i,n){var t,l,o,r,a,c=n.rslt.obj.attr("id"),d=c.restorePinTreeNodeName();try{t=n.inst._get_parent(n.rslt.obj).attr("id")}catch(e){}if(void 0===t&&-1!==$.inArray(c,F))for(e=0,s=Le.length;e<s;e+=1)-1!==Le[e].indexOf(d)&&($("#"+Le[e]).addClass("semi-disabled"),$("#"+Le[e]+" >a").css("background-color","#B0C4DE"));if(void 0===t&&void 0!==Re[d]&&Re[d].length>0){for(Je=!0,e=0,s=Re[d].length;e<s;e+=1)E.jstree("open_node",$("#"+Re[d][e].restorePinTreeNodeName()+"_Intermediate")),E.jstree("check_node",$("#"+Re[d][e]));Re[d].length=0,Je=!1,Wi()}$(n.rslt.obj).find("li").each((function(e,i){l=$(i).attr("id"),t=Ei(l.slicePriorToX("_")),-1!==l.indexOf("_Pin")?(r=Ae[parseInt(l.sliceAfterX("_Pin"),10)-1],0!==l.indexOf(r)&&!mi(r)||-1!==l.indexOf(r)&&!1===$("#"+l).hasClass("jstree-checked")?($("#"+l+" >a").css("color","red"),$("#"+c+" >a").css("color","red")):(void 0===Re[t]||void 0!==Re[t]&&0===Re[t].length)&&-1!==(a=$.inArray(l,Ge))&&($("#"+l+" >a").css("color","blue"),Ge.splice(a,1))):(E.jstree("open_node",$("#"+l)),$("#"+l).find("li").each((function(e,i){o=$(i).attr("id"),t=Ei(o.slicePriorToX("_")),r=Ae[parseInt(o.sliceAfterX("_Pin"),10)-1],-1===o.indexOf(r)&&!mi(r)||-1!==o.indexOf(r)&&!1===$("#"+o).hasClass("jstree-checked")?($("#"+o+" >a").css("color","red"),$("#"+l+" >a").css("color","red"),$("#"+c+" >a").css("color","red")):(void 0===Re[t]||void 0!==Re[t]&&0===Re[t].length)&&-1!==(e=$.inArray(o,Ge))&&($("#"+o+" >a").css("color","blue"),Ge.splice(e,1))})),E.jstree("close_node",$("#"+l)))})),c=null,d=null,t=null,l=null,o=null,r=null,a=null})).bind("select_node.jstree",(function(e,i){var n,t,l=i.rslt.obj.attr("id");E.jstree("open_node",$("#"+l)),$("#"+l).find("li").each((function(e,i){-1!==(n=$(i).attr("id")).indexOf("_Pin")?E.jstree("open_node",$("#"+n)):(E.jstree("open_node",$("#"+n)),$("#"+n).find("li").each((function(e,i){t=$(i).attr("id"),E.jstree("open_node",$("#"+t))})))})),l=null,n=null,t=null})).bind("loaded.jstree",(function(){for(e=0,s=F.length;e<s;e+=1)$("#"+F[e]).addClass("semi-disabled"),$("#"+F[e]+" >a").css("background-color","#B0C4DE");qe?(Je=!0,function(){var e,i,n,t,o,s,a,c,d,f,g,_,u,N,p,O,h,P,x,T,I,M,C,m,U,b,L,k=[],S=0,A=[],v=[],y=r,D=1;if(k=zi(je),"NUC400"===l||"M451HD"===l||"M451LD"===l||"M4521"===l||"NANO100AN"===l||"NANO100BN"===l||"NANO112"===l||"NUC505"===l||"NUC121AE"===l||"NUC123AE"===l||"NANO103"===l||0===l.indexOf("M47")||"M480MD"===l||"M480LD"===l||"AX58200"===l||0===l.indexOf("M25")||"M261"===l||0===l.indexOf("M235")||0===l.indexOf("M029")||0===l.indexOf("M030")||0===l.indexOf("M031")||0===l.indexOf("M091")||"M0564"===l||"M05641"===l||0===l.indexOf("NUC126")||"M071QV"===l||"NUC029xGE"===l||"NUC029KGE"===l||"MINI57"===l||"NM1120"===l||"NDA102"===l||"MA35D1"===l||0===l.indexOf("M2003")){for(e=0,o=k.length;e<o;e+=1)if(0!==je[k[e]])for(S=je[k[e]],c=-1===k[e].indexOf("MFPH")&&-1===k[e].indexOf("_H_MFP"),i=0;i<8;i+=1){if((f=(f=(S&(d=15<<4*i>>>0))>>>0)>>>4*i>>>0)&&(N=c?i:i+8,u="P"+k[e].slice(k[e].indexOf("P")+1,k[e].indexOf("P")+2)+"."+N.toString(),-1!==(_=$.inArray(u,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex])))){for(P=Di(k[e],N),n=1,s=NUTOOL_PIN.g_cfg_gpios[P].f.length;n<s;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[P].f[n].indexOf(":"+f)){p=(p=NUTOOL_PIN.g_cfg_gpios[P].f[n]).slicePriorToX(":"),(n+=1)<s&&-1!==NUTOOL_PIN.g_cfg_gpios[P].f[n].indexOf(":"+f)&&(-1!==r.indexOf("Pin"+Qi(_+1))?p!==(O=(O=r.slice(r.indexOf("Pin"+Qi(_+1)))).sliceBetweenXandX(":","\r").trim())&&(p=O):-1!==r.indexOf("Pin "+Qi(_+1))&&p!==(O=(O=r.slice(r.indexOf("Pin "+Qi(_+1)))).sliceBetweenXandX(":","\r").trim())&&(p=O));break}h=Ei(h=p),p=p.replaceSpecialCharacters(),-1!==h.indexOf("_")&&(h=h.slicePriorToX("_")),A[0]=_+1,ci(p+"_Pin"+(_+1),h,A),void 0===Re[h]?(Re[h]=[],Re[h][0]=p+"_Pin"+(_+1)):Re[h].push(p+"_Pin"+(_+1))}if(0===(S=(S&~d)>>>0))break}}else if("M0A21"===l||0===l.indexOf("M46")||0===l.indexOf("M2L31")||0===l.indexOf("M55M1")){for(e=0,o=k.length;e<o;e+=1)if(0!==je[k[e]])for(S=je[k[e]],m=parseInt(k[e].substr(-1),10),i=0;i<4;i+=1){if((f=(f=(S&(d=255<<8*i>>>0))>>>0)>>>8*i>>>0)&&(N=i+4*m,u="P"+k[e].slice(k[e].indexOf("P")+1,k[e].indexOf("P")+2)+"."+N.toString(),-1!==(_=$.inArray(u,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex])))){for(P=Di(k[e],N),n=1,s=NUTOOL_PIN.g_cfg_gpios[P].f.length;n<s;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[P].f[n].indexOf(":"+f)){p=(p=NUTOOL_PIN.g_cfg_gpios[P].f[n]).slicePriorToX(":"),(n+=1)<s&&-1!==NUTOOL_PIN.g_cfg_gpios[P].f[n].indexOf(":"+f)&&(-1!==r.indexOf("Pin"+Qi(_+1))?p!==(O=(O=r.slice(r.indexOf("Pin"+Qi(_+1)))).sliceBetweenXandX(":","\r").trim())&&(p=O):-1!==r.indexOf("Pin "+Qi(_+1))&&p!==(O=(O=r.slice(r.indexOf("Pin "+Qi(_+1)))).sliceBetweenXandX(":","\r").trim())&&(p=O));break}h=Ei(h=p),p=p.replaceSpecialCharacters(),-1!==h.indexOf("_")&&(h=h.slicePriorToX("_")),A[0]=_+1,ci(p+"_Pin"+(_+1),h,A),void 0===Re[h]?(Re[h]=[],Re[h][0]=p+"_Pin"+(_+1)):Re[h].push(p+"_Pin"+(_+1))}if(0===(S=(S&~d)>>>0))break}}else if(0===l.indexOf("ML5")||0===l.indexOf("MS51")||0===l.indexOf("MUG51")||0===l.indexOf("KM1M7")||0===l.indexOf("KM1M4")){for(e=0,o=k.length;e<o;e+=1)if(0!==je[k[e]])for(S=je[k[e]],i=0;i<8;i+=1){if((f=(f=(S&(d=15<<4*i>>>0))>>>0)>>>4*i>>>0)&&(N=i,u="P"+k[e].slice(k[e].indexOf("P")+1,k[e].indexOf("P")+2)+"."+N.toString(),-1!==(_=$.inArray(u,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex])))){for(P=Di(k[e],N),n=1,s=NUTOOL_PIN.g_cfg_gpios[P].f.length;n<s;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[P].f[n].indexOf(":"+f)){p=(p=NUTOOL_PIN.g_cfg_gpios[P].f[n]).slicePriorToX(":"),(n+=1)<s&&-1!==NUTOOL_PIN.g_cfg_gpios[P].f[n].indexOf(":"+f)&&(-1!==r.indexOf("Pin"+Qi(_+1))?p!==(O=(O=r.slice(r.indexOf("Pin"+Qi(_+1)))).sliceBetweenXandX(":","\r").trim())&&(p=O):-1!==r.indexOf("Pin "+Qi(_+1))&&p!==(O=(O=r.slice(r.indexOf("Pin "+Qi(_+1)))).sliceBetweenXandX(":","\r").trim())&&(p=O));break}h=Ei(h=p),p=p.replaceSpecialCharacters(),-1!==h.indexOf("_")&&(h=h.slicePriorToX("_")),A[0]=_+1,ci(p+"_Pin"+(_+1),h,A),void 0===Re[h]?(Re[h]=[],Re[h][0]=p+"_Pin"+(_+1)):Re[h].push(p+"_Pin"+(_+1))}if(0===(S=(S&~d)>>>0))break}}else if("ISD9100"===l||"ISD9300"===l){for(e=0,o=k.length;e<o;e+=1)if(0!==je[k[e]])for(S=je[k[e]],i=0;i<16;i+=1){if((f=(f=(S&(d=3<<2*i>>>0))>>>0)>>>2*i>>>0)&&(N=i,u="P"+k[e].slice(k[e].indexOf("P")+1,k[e].indexOf("P")+2)+"."+N.toString(),-1!==(_=$.inArray(u,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex])))){for(P=Di(k[e],N),n=1,s=NUTOOL_PIN.g_cfg_gpios[P].f.length;n<s;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[P].f[n].indexOf(":"+f)){p=(p=NUTOOL_PIN.g_cfg_gpios[P].f[n]).slicePriorToX(":"),(n+=1)<s&&-1!==NUTOOL_PIN.g_cfg_gpios[P].f[n].indexOf(":"+f)&&(-1!==r.indexOf("Pin"+Qi(_+1))?p!==(O=(O=r.slice(r.indexOf("Pin"+Qi(_+1)))).sliceBetweenXandX(":","\r").trim())&&(p=O):-1!==r.indexOf("Pin "+Qi(_+1))&&p!==(O=(O=r.slice(r.indexOf("Pin "+Qi(_+1)))).sliceBetweenXandX(":","\r").trim())&&(p=O));break}h=Ei(h=p),p=p.replaceSpecialCharacters(),-1!==h.indexOf("_")&&(h=h.slicePriorToX("_")),A[0]=_+1,ci(p+"_Pin"+(_+1),h,A),void 0===Re[h]?(Re[h]=[],Re[h][0]=p+"_Pin"+(_+1)):Re[h].push(p+"_Pin"+(_+1))}if(0===(S=(S&~d)>>>0))break}}else if("NUC200AE"===l||"NUC2201"===l||"M071R1S"===l||"NUC029xEE"===l||"NUC100AN_BN"===l||"NUC100CN"===l||"NUC100DN"===l){for(e=0,o=k.length;e<o;e+=1)if(-1===k[e].indexOf("ALT")&&0!==je[k[e]])for(i=0;i<32;i+=1){if(_=-1,f=((S=je[k[e]])&(d=1<<i>>>0))>>>i>>>0)for(O=k[e]+"["+i+"]",n=0,s=NUTOOL_PIN.g_cfg_gpioMatrix.length;n<s;n+=1){for(t=1,a=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<a;t+=1)if(-1!==NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t].indexOf(O)){u=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[0],_=$.inArray(u,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]);break}if(-1!==_){for(f=0,t=1,a=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<a;t+=1)M=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t],d=1<<(m=parseInt(M.slice(M.indexOf("[")+1,M.indexOf("]")),10))>>>0,C=M.slicePriorToX("["),f+=(((S=je[C])&d)>>>m)*Math.pow(2,t-1),C=M.slicePriorToX(":"),-1===$.inArray(C,NUTOOL_PIN.g_cfg_shareBits)&&(je[C]=S&~d);for(p="",P=Di(u,parseInt(u.sliceAfterX("."),10)),t=1,a=NUTOOL_PIN.g_cfg_gpios[P].f.length;t<a;t+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[P].f[t].indexOf(":"+f)){p=(p=NUTOOL_PIN.g_cfg_gpios[P].f[t]).slicePriorToX(":"),(t+=1)<a&&-1!==NUTOOL_PIN.g_cfg_gpios[P].f[t].indexOf(":"+f)&&(-1!==r.indexOf("Pin"+Qi(_+1))?p!==(O=(O=r.slice(r.indexOf("Pin"+Qi(_+1)))).sliceBetweenXandX(":","\r").trim())&&(p=O):-1!==r.indexOf("Pin "+Qi(_+1))&&p!==(O=(O=r.slice(r.indexOf("Pin "+Qi(_+1)))).sliceBetweenXandX(":","\r").trim())&&(p=O));break}if(""===p)continue;h=Ei(h=p),p=p.replaceSpecialCharacters(),-1!==h.indexOf("_")&&(h=h.slicePriorToX("_")),A[0]=_+1,ci(p+"_Pin"+(_+1),h,A),void 0===Re[h]?(Re[h]=[],Re[h][0]=p+"_Pin"+(_+1)):Re[h].push(p+"_Pin"+(_+1));break}}if(0===je[k[e]])break}}else for(e=0,o=k.length;e<o;e+=1)if(0!==je[k[e]])for(i=0;i<32;i+=1){if(_=-1,f=((S=je[k[e]])&(d=1<<i>>>0))>>>i>>>0)for(O=k[e]+"["+i+"]",n=0,s=NUTOOL_PIN.g_cfg_gpioMatrix.length;n<s;n+=1){for(t=1,a=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<a;t+=1)if(-1!==NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t].indexOf(O)){u=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[0],_=$.inArray(u,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]);break}if(-1!==_){for(f=0,t=1,a=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<a;t+=1)M=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t],d=1<<(m=parseInt(M.slice(M.indexOf("[")+1,M.indexOf("]")),10))>>>0,C=M.slicePriorToX("["),f+=(((S=je[C])&d)>>>m)*Math.pow(2,t-1),je[C]=S&~d;for(p="",P=Di(u,parseInt(u.sliceAfterX("."),10)),t=1,a=NUTOOL_PIN.g_cfg_gpios[P].f.length;t<a;t+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[P].f[t].indexOf(":"+f)){p=(p=NUTOOL_PIN.g_cfg_gpios[P].f[t]).slicePriorToX(":"),(t+=1)<a&&-1!==NUTOOL_PIN.g_cfg_gpios[P].f[t].indexOf(":"+f)&&(-1!==r.indexOf("Pin"+Qi(_+1))?p!==(O=(O=r.slice(r.indexOf("Pin"+Qi(_+1)))).sliceBetweenXandX(":","\r").trim())&&(p=O):-1!==r.indexOf("Pin "+Qi(_+1))&&p!==(O=(O=r.slice(r.indexOf("Pin "+Qi(_+1)))).sliceBetweenXandX(":","\r").trim())&&(p=O));break}if(""===p)continue;h=Ei(h=p),p=p.replaceSpecialCharacters(),-1!==h.indexOf("_")&&(h=h.slicePriorToX("_")),A[0]=_+1,ci(p+"_Pin"+(_+1),h,A),void 0===Re[h]?(Re[h]=[],Re[h][0]=p+"_Pin"+(_+1)):Re[h].push(p+"_Pin"+(_+1));break}}if(0===je[k[e]])break}U="IN_ICE_MODE";for(;-1!==y.indexOf(U);){for(L=!0,b=y.indexOf(U),D=1;":"!==y.charAt(b-D);)if(b-(D+=1)<0||D>30){L=!1;break}if(!L)break;for(-1!==(h=p=(p=y.slice(b-D+1,b)+U).replaceSpecialCharacters()).indexOf("_")&&(h=h.slicePriorToX("_")),h=Ei(h),L=!0,b-=D,D=1;"n"!==y.charAt(b-D);)if(b-(D+=1)<0||D>30){L=!1;break}if(!L)break;g=y.slice(b-D+1).slicePriorToX(":"),g=parseInt(g,10),A[0]=g,ci(p+"_Pin"+(_+1),h,A),void 0===Re[h]?(Re[h]=[],Re[h][0]=p+"_Pin"+g):Re[h].push(p+"_Pin"+g),y=y.slice(y.indexOf(U)+1)}for(e=0,o=ye.length;e<o;e+=1)if(""===ve[ye[e]]){for(x=(x=$e[ye[e]]).slice(x.indexOf("P"));-1!==x.indexOf(".")&&2!==x.indexOf(".");)x=(x=x.slice(1)).slice(x.indexOf("P"));T=(x=x.slicePriorToX("/")).replaceSpecialCharacters()+"_Pin"+(ye[e]+1),I=Ei(x),A[0]=ye[e]+1,ci(T,I,A),void 0===Re[I]?(Re[I]=[],Re[I][0]=T):Re[I].push(T)}for(v=zi(Re),e=0,o=v.length;e<o;e+=1)$("#"+v[e]+"_Root").addClass("jstree-undetermined");je=[],k=[],A=[],v=[],L=null,U=null,b=null,y=null,D=null,c=null,S=null,d=null,f=null,_=null,u=null,N=null,p=null,O=null,h=null,P=null,null,null,x=null,T=null,I=null,M=null,C=null,m=null,e=null,i=null,n=null,t=null,o=null,null,s=null,a=null}(),Wi(),r=null):(qe=!0,Si()),Je=!1,$("#ChipType").show(),$("#MCU").show(),$("#moduleTree").height(oe-$("#ChipType").height()-$("#MCU").height()-le-6-$("#supportedModules").height()),$("#ChipTypeSelect").show(),$("#MCUselect").show(),$("#rootTree_Pin").show(),$("#panel").css("overflow-x","scroll"),$("#panel").css("overflow-y","scroll"),$("#ChipType").css("border-right","16px solid #F2F2F2"),$("#MCU").css("border-right","16px solid #F2F2F2"),-1===o.indexOf("WLCSP")&&-1===o.indexOf("BGA")||(Qe?($("#pin_side_0").hide(),$("#NUC_PinConfiguration_Canvas_Lining").show()):($("#pin_side_0").css("opacity","0.1"),$("#NUC_PinConfiguration_Canvas_Lining").css("opacity","1"))),Sn(),"undefined"!=typeof NUTOOL_PER&&"PinConfigure"!==NUTOOL_PER.getg_currentTool()&&($("#parentOfPanel").hide(),$("#ChipType").hide(),$("#MCU").hide(),$("#rootTree_Pin").hide()),NUTOOL_PIN.g_bModuleTreeLoaded=!0})).bind("destroy.jstree",(function(){k=[],S=[],A=[],v=[],y=[],D=[],w=[],F=[],Re=[],Ge=[],d=null,f=null,g=null,_=null,u=null,N=null,p=null,O=null,h=null,j=null,E=null,B=null,R=null,x=null,T=null,I=null,M=null}))}function ri(e,i,n,t){var l,o,s,a,c,d,f,g,_,u,N,p,O,h,x,T=!1,I=[],M=[],C=[],m=Se.length,b="",k=Te,S=$("#moduleTree");function A(e,i){if($("#"+$(i).attr("id")).hasClass("jstree-checked")||$("#"+$(i).attr("id")).hasClass("jstree-undetermined"))return h=!0,!1}function v(e,t){if($("#"+$(t).attr("id")).hasClass("jstree-checked"))return $("#"+i.restorePinTreeNodeName()+"_Intermediate").removeClass("jstree-unchecked jstree-checked").addClass("jstree-undetermined"),$("#"+Ei(n)+"_Root").removeClass("jstree-unchecked jstree-checked").addClass("jstree-undetermined"),!1}for(l=0,s=Se.length;l<s;l+=1)I[l]=Se[l].slicePriorToX(":");if(e){for(Ti(),l=0;l<m;l+=1)-1!==$.inArray(parseInt(I[l],10),t)&&(1!==t.length&&Se[l]!==I[l]+":"+n||1===t.length&&ve[I[l]-1].replaceSpecialCharacters()!==i.restorePinTreeNodeName())&&(b+="Simplified Chinese"===ge?"第"+Qi(I[l])+"脚位已被"+qi(ve[I[l]-1])+"使用。<br />":"Traditional Chinese"===ge?"第"+Qi(I[l])+"腳位已被"+qi(ve[I[l]-1])+"使用。<br />":"Pin"+Qi(I[l])+" has been asserted by "+qi(ve[I[l]-1])+".<br />",T=!0);T&&("Simplified Chinese"===ge?(d="冲突发生",f="預期的"+n+"和别的模组冲突。请问你要调整旧的且改设置到现在的模组吗?",g="要",_="不要"):"Traditional Chinese"===ge?(d="衝突發生",f="預期的"+n+"和別的模組衝突。請問你要調整舊的且改設置到現在的模組嗎?",g="要",_="不要"):(d="Conflict Occurred",f="The expected "+n+" conflicts with other modules. Would you like to adjust the old modules and configure to the current one?",g="Yes",_="No"),gn(),u=$('<div id="conflictDialog"><p>'+f+"<br />"+b+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:d,width:500,height:400,show:"fade",hide:"fade",close:function(){$("#conflictDialog").dialog("destroy")},buttons:[{text:g,click:function(){for(C=zi(Ee),Be=[],l=0,s=C.length;l<s;l+=1)Be[C[l]]=Ee[C[l]];for(De=[],l=0,s=ye.length;l<s;l+=1)De[l]=ye[l];for(r="",l=0,s=ve.length;l<s;l+=1)""!==ve[l]&&(r+="Pin"+(l+1)+":"+qi(ve[l])+"\r");P="",si(i,n,t,I),$("#conflictDialog").dialog("isOpen")&&$("#conflictDialog").dialog("destroy")}},{text:_,click:function(){for(l=0,s=t.length;l<s;l+=1)-1===$.inArray(t[l].toString(),I)&&M.push(t[l]);for($("#conflictDialog").dialog("isOpen")&&$("#conflictDialog").dialog("destroy"),l=0,s=M.length;l<s;l+=1)N=(N=Fe[n][$.inArray(M[l],we[n])]+"_Pin"+M[l]).replaceSpecialCharacters(),$("#moduleTree").jstree("check_node",$("#"+N))}}]}),$("#conflictDialog").dialog("widget").draggable("option","axis","x y"),$("#conflictDialog").dialog("widget").draggable({containment:"window",scroll:!1}),d=null,f=null,g=null,_=null)}if(T&&e){if(1===t.length&&-1!==i.indexOf("_Pin"))$("#"+i).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),-1!==i.indexOf("_")&&($("#"+i.restorePinTreeNodeName()+"_Intermediate").removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),h=!1,$("#"+Ei(n)+"_Root").find("li").each((function(e,i){if($("#"+$(i).attr("id")).hasClass("jstree-checked")||$("#"+$(i).attr("id")).hasClass("jstree-undetermined"))return h=!0,$("#"+Ei(n)+"_Root").removeClass("jstree-unchecked jstree-checked").addClass("jstree-undetermined"),!1})),h||($("#"+i.slicePriorToX("_")).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),$("#"+Ei(n)+"_Root").removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")),$("#"+i.restorePinTreeNodeName()+"_Intermediate").find("li").each((function(e,t){if($("#"+$(t).attr("id")).hasClass("jstree-checked"))return $("#"+i.restorePinTreeNodeName()+"_Intermediate").removeClass("jstree-unchecked jstree-checked").addClass("jstree-undetermined"),$("#"+Ei(n)+"_Root").removeClass("jstree-unchecked jstree-checked").addClass("jstree-undetermined"),!1})));else for(l=0,s=t.length;l<s;l+=1){for(p=Fe[n][l],i=(i=p+"_Pin"+t[l]).replaceSpecialCharacters(),h=!1,o=0,a=Se.length;o<a;o+=1)t[l]===parseInt(Se[o].slicePriorToX(":"),10)&&0===i.indexOf(Se[o].sliceAfterX(":"))&&(h=!0);h||($("#"+i).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),$("#"+Ei(n)+"_Root").removeClass("jstree-unchecked jstree-checked").addClass("jstree-undetermined")),-1!==i.indexOf("_")&&($("#"+i.restorePinTreeNodeName()+"_Intermediate").removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),h=!1,$("#"+Ei(n)+"_Root").find("li").each(A),h||($("#"+i.slicePriorToX("_")).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),$("#"+Ei(n)+"_Root").removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")),$("#"+i.restorePinTreeNodeName()+"_Intermediate").find("li").each(v))}L&&$("#conflictDialog").dialog("option","buttons")[0].click.apply(u)}else{if(e){if(-1!==$.inArray(i.restorePinTreeNodeName()+"_Intermediate",Le))for(l=0,s=ke.length;l<s;l+=1)ke[l].restorePinTreeNodeName()===i.restorePinTreeNodeName()&&i!==ke[l]&&S.jstree("uncheck_node",$("#"+ke[l]));if(1===t.length&&0===i.indexOf("EBI")&&(O=$e[parseInt(i.sliceAfterX("_Pin"),10)-1]).indexOf("EBI")!==O.lastIndexOf("EBI"))for(;-1!==O.indexOf("EBI");)-1!==(O=O.slice(O.indexOf("EBI"))).indexOf("/")?(i.restorePinTreeNodeName()!==O.slice(O.indexOf("EBI"),O.indexOf("/"))&&S.jstree("uncheck_node",$("#"+O.slice(O.indexOf("EBI"),O.indexOf("/"))+"_Pin"+i.sliceAfterX("_Pin"))),O=O.slice(O.indexOf("/")+1)):(i.restorePinTreeNodeName()!==O.slice(O.indexOf("EBI"))&&S.jstree("uncheck_node",$("#"+O.slice(O.indexOf("EBI"))+"_Pin"+i.sliceAfterX("_Pin"))),O=O.slice(1))}if(m=t.length,e)if(1===t.length&&-1!==i.indexOf("_Pin"))gi(t[0]-1,i.restorePinTreeNodeName(),!1);else for(l=0,s=t.length;l<s;l+=1)p=Fe[n][l],gi(t[l]-1,p,!1);else for(l=0,s=t.length;l<s;l+=1)n!==Ae[t[l]-1]&&""!==Ae[t[l]-1]||(Ae[t[l]-1]=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][t[l]-1],gi(t[l]-1,"",!0));if(e){if(Ke.length>0)k=Te;else if(0!==We.length)for(o=0,a=We.length;o<a;o+=1)We[o]===t[l]&&We.splice(o,1);for(l=0;l<m;l+=1){for(x=!1,o=0,a=Se.length;o<a;o+=1)if(t[l]===parseInt(Se[o].slicePriorToX(":"),10)){Se[o]=t[l]+":"+n,x=!0;break}x||Se.push(t[l]+":"+n),1!==t.length?un(t[l]-1,n):-1!==i.indexOf("_Pin")?un(t[l]-1,i.restorePinTreeNodeName(),!0):un(t[l]-1,i),Zi(t[l],k),Ae[t[l]-1]=n}Wi()}else{for(l=0;l<m;l+=1)if(-1!==(c=$.inArray(t[l]+":"+n,Se))&&(Se.splice(c,1),un(t[l]-1,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][t[l]-1]),Zi(t[l],"#FFFFFF"),0!==We.length))for(o=0,a=We.length;o<a;o+=1)We[o]===t[l]&&We.splice(o,1);Wi()}if(e)if(1===t.length&&-1!==i.indexOf("_Pin"))_i(i,t[0],!0),L&&(de+=1,!U&&window.console&&window.console.log(de+". "+i));else{for(l=0,s=t.length;l<s;l+=1)_i((p=Fe[n][l])+"_Pin"+t[l],t[l],!0);L&&(de+=1,!U&&window.console&&window.console.log(de+". "+n))}else for(l=0,s=t.length;l<s;l+=1)_i((p=Fe[n][l])+"_Pin"+t[l],t[l],!1);T=null,I=[],M=[],C=[],m=null,b=null,N=null,p=null,null,S=null,m=null,x=null,k=null,h=null}}function si(e,i,n,t){var l,o,r,s,a,c,d,f,g,_,u,N,p,O,h,x=$("#moduleTree"),T=[],I=[];function M(e,i){if(_=$(i).attr("id"),"red"===$("#"+_+" >a").css("color")||"rgb(255, 0, 0)"===$("#"+_+" >a").css("color")||O)$("#"+_).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");else{for(O=!0,(p=[])[0]=parseInt(_.sliceAfterX("Pin"),10),""!==P&&(f=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==p[0].toString()&&"removed"!==f&&"end"!==f&&(P+=ve[parseInt(f,10)-1]+":"+f+"/end;"),P+=_.restorePinTreeNodeName()+":"+p[0],r=0,s=T.length;r<s;r+=1)if(0===T[r].indexOf(_.restorePinTreeNodeName()+"_Pin")){P+="/"+T[r].sliceAfterX("Pin"),T.splice(r,1);break}P+=";",ci(_,N,p),$("#"+_).removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),$("#"+_+" >a").css("color","blue")}}function C(e,i){if(_=$(i).attr("id"),d=parseInt(_.sliceAfterX("Pin"),10),-1===$.inArray(d,n)&&(h=ai(_,n,0,T)),h)return!1}for(l=0,o=n.length;l<o;l+=1)if(d=n[l],-1!==$.inArray(d.toString(),t)){if(g=(g=ve[d-1]+"_Pin"+d).replaceSpecialCharacters(),x.jstree("uncheck_node",$("#"+g)),T.push(g),!$("#"+g).hasClass("jstree-unchecked")){if(N=Ei(g.slicePriorToX("_")),(p=[])[0]=d,fi(g,N,p),void 0!==Re[N]){for(r=0,s=Re[N].length;r<s;r+=1)if(Re[N][r]===g){Re[N][r]="";break}for(r=0,s=Re[N].length;r<s&&""===Re[N][r];r+=1)r===s-1&&$("#"+N+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}x.jstree("close_node",$("#"+N+"_Root"))}-1!==$.inArray(g,ke)&&I.push(g.restorePinTreeNodeName()+"_Intermediate")}if(1===n.length&&-1!==e.indexOf("_Pin"))x.jstree("check_node",$("#"+e));else for(l=0,o=n.length;l<o;l+=1)for(r=0,s=we[i].length;r<s;r+=1)we[i][r]===n[l]&&(u=Fe[i][r].replaceSpecialCharacters(),x.jstree("check_node",$("#"+u+"_Pin"+n[l])));if(I.length>0){for(l=0,o=I.length;l<o;l+=1){if(O=!1,N=Ei(I[l].slicePriorToX("_")),$("#"+I[l]).find("li").length>0)$("#"+I[l]).find("li").each(M);else for(_=I[l].restorePinTreeNodeName(),r=0,s=ke.length;r<s;r+=1)if(0===ke[r].indexOf(_+"_Pin")){for(d=ke[r].sliceAfterX("_Pin"),h=!1,a=0,c=Se.length;a<c;a+=1)if(Se[a].slicePriorToX(":")===d){h=!0;break}if(!h){for(O=!0,_=ke[r],(p=[])[0]=parseInt(_.sliceAfterX("Pin"),10),""!==P&&(f=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==p[0].toString()&&"removed"!==f&&"end"!==f&&(P+=ve[parseInt(f,10)-1]+":"+f+"/end;"),P+=_.restorePinTreeNodeName()+":"+p[0],r=0,s=T.length;r<s;r+=1)if(0===T[r].indexOf(_.restorePinTreeNodeName()+"_Pin")){P+="/"+T[r].sliceAfterX("Pin"),T.splice(r,1);break}for(P+=";",ci(_,N,p),a=0,c=Ge.length;a<c;a+=1)if(0===Ge[a].indexOf(_.restorePinTreeNodeName()+"_Pin")){Ge.splice(a,1);break}Ge.push(_),void 0===Re[N]?(Re[N]=[],Re[N][0]=_):Re[N].push(_);break}}if(O)$("#"+N+"_Root").removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),$("#"+I[l]).removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined");else{if(h=!1,$("#"+I[l]).find("li").length>0)$("#"+I[l]).find("li").each(C);else for(_=I[l].restorePinTreeNodeName(),r=0,s=ke.length;r<s&&(0!==ke[r].indexOf(_+"_Pin")||(d=parseInt(ke[r].sliceAfterX("_Pin"),10),-1===$.inArray(d,n)&&(h=ai(ke[r],n,0,T)),!h));r+=1);h||$("#"+I[l]).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")}}for(Wi(),""!==P&&"removed"!==(f=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))&&"end"!==f&&(P+=ve[parseInt(f,10)-1]+":"+f+"/end;"),r=0,s=T.length;r<s;r+=1)P+=T[r].restorePinTreeNodeName().restoreSpecialCharacters()+":"+T[r].sliceAfterX("_Pin")+"/removed;";""===P||L||In(P)}else{for(""!==P&&"removed"!==(f=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))&&"end"!==f&&(P+=ve[parseInt(f,10)-1]+":"+f+"/end;"),r=0,s=T.length;r<s;r+=1)P+=T[r].restorePinTreeNodeName().restoreSpecialCharacters()+":"+T[r].sliceAfterX("_Pin")+"/removed;";""===P||L||In(P)}L&&(""!==P&&!U&&window.console&&window.console.log(P),function(){var e,i,n,t,l,o=[],r=ve.slice().sort(),s=[],a=[],c=[],d="";for(e=0,i=r.length;e<i;e++)""!==r[e]&&r[e]===r[e+1]&&o.push("Pin"+e+":"+r[e]);if(o.length>0)fe+="Failed: duplicate name occurs. "+o,!U&&window.console&&window.console.log("Failed: duplicate name occurs. "+o);else{for(!U&&window.console&&window.console.log("Duplicate function test passed."),e=0,i=(s=zi(Ee).sort()).length;e<i;e++)a.push((s[e]+":0x"+Gi(Ee[s[e]]).toUpperCase()).trim()),c.push((s[e]+":0x"+Gi(Be[s[e]]).toUpperCase()).trim());for(l=!0,e=0,i=ve.length-1;e<i;e++)""!==(n=ve[e])&&(Zn(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e],n,a)||(l=!1,t="Failed: Pin"+(e+1)+" / "+NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e]+" / "+n+" / "+a+" / Undo: "+c,fe+=t,d+=t));l?!U&&window.console&&window.console.log("MFP register-function verification test passed."):!U&&window.console&&window.console.log(d)}$("#NUC_PinConfiguration_Canvas")[0].setAttribute("innerText",fe)}()),l=null,o=null,r=null,s=null,a=null,c=null,d=null,f=null,e=null,g=null,_=null,u=null,x=null,N=null,p=[],T=[],I=[],O=null,h=null}function ai(e,i,n,t){var l,o,r,s,a,c,d,f,g,_,u,N,p,O,h,x=[],T=[];$("#moduleTree");function I(i,n){(p=$(n).attr("id"))!==e&&$("#"+p).hasClass("jstree-checked")&&(h=!0,""!==P&&(g=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==x[0].toString()&&"removed"!==g&&"end"!==g&&(P+=ve[parseInt(g,10)-1]+":"+g+"/end;"),P+=e.restorePinTreeNodeName()+":"+x[0]+"/"+p.sliceAfterX("Pin")+";"),p!==e&&$("#"+p).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")}if(f=parseInt(e.sliceAfterX("Pin"),10),N=ve[f-1].replaceSpecialCharacters(),-1===$.inArray(N+"_Pin"+f,ke)||-1!==$.inArray(f,i)||n>=10)return!1;if(i.push(f),n+=1,O=!1,h=!1,T=[],_=Ei(N.slicePriorToX("_")),u=N+"_Intermediate",$("#"+u).find("li").length>0)$("#"+u).find("li").each((function(e,i){p=$(i).attr("id"),"red"===$("#"+p+" >a").css("color")||"rgb(255, 0, 0)"===$("#"+p+" >a").css("color")||p.sliceAfterX("_Pin")===f.toString()||O?p.sliceAfterX("_Pin")!==f.toString()&&(T.push(p),$("#"+p).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")):(O=!0,(x=[])[0]=parseInt(p.sliceAfterX("Pin"),10),""!==P&&(g=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==x[0].toString()&&"removed"!==g&&"end"!==g&&(P+=ve[parseInt(g,10)-1]+":"+g+"/end;"),P+=p.restorePinTreeNodeName()+":"+x[0]+"/"+f+";",ci(p,_,x),$("#"+p).removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),$("#"+p+" >a").css("color","blue"))}));else for(l=0,o=ke.length;l<o;l+=1)if(0===ke[l].indexOf(N+"_Pin")){if((d=(p=ke[l]).sliceAfterX("_Pin"))===f.toString())h=!0;else for(h=!1,a=0,c=Se.length;a<c;a+=1)if(Se[a].slicePriorToX(":")===d){h=!0;break}if(!h&&!O){for(O=!0,(x=[])[0]=parseInt(p.sliceAfterX("Pin"),10),""!==P&&(g=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==x[0].toString()&&"removed"!==g&&"end"!==g&&(P+=ve[parseInt(g,10)-1]+":"+g+"/end;"),P+=p.restorePinTreeNodeName()+":"+x[0]+"/"+f+";",ci(p,_,x),a=0,c=Ge.length;a<c;a+=1)if(0===Ge[a].indexOf(p.restorePinTreeNodeName()+"_Pin")){Ge.splice(a,1);break}if(Ge.push(p),void 0===Re[_]?(Re[_]=[],Re[_][0]=p):Re[_].push(p),void 0!==Re[_]){for(r=0,s=Re[_].length;r<s;r+=1)if(Re[_][r]===N+"_Pin"+f){Re[_][r]="";break}for(r=0,s=Re[_].length;r<s&&""===Re[_][r];r+=1)r===s-1&&$("#"+_+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}break}p.sliceAfterX("_Pin")!==f.toString()&&T.push(p)}if(O){if($("#"+N+"_Pin"+f).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),(x=[])[0]=parseInt(e.sliceAfterX("Pin"),10),_=Ei(e.slicePriorToX("_")),$("#"+e.restorePinTreeNodeName()+"_Intermediate").find("li").length>0)$("#"+e.restorePinTreeNodeName()+"_Intermediate").find("li").each((function(i,n){(p=$(n).attr("id"))===e||!$("#"+p).hasClass("jstree-checked")&&-1===$.inArray(p,t)||(""!==P&&(g=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==x[0].toString()&&"removed"!==g&&"end"!==g&&(P+=ve[parseInt(g,10)-1]+":"+g+"/end;"),P+=e.restorePinTreeNodeName()+":"+x[0]+"/"+p.sliceAfterX("Pin")+";"),p!==e&&$("#"+p).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")}));else for(r=0,s=ke.length;r<s;r+=1)if(0===ke[r].indexOf(e.restorePinTreeNodeName()+"_Pin")&&(p=ke[r])!==e&&(p.restorePinTreeNodeName()===ve[parseInt(p.sliceAfterX("Pin"),10)-1]||-1!==$.inArray(p,t))){""!==P&&(g=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==x[0].toString()&&"removed"!==g&&"end"!==g&&(P+=ve[parseInt(g,10)-1]+":"+g+"/end;"),P+=e.restorePinTreeNodeName()+":"+x[0]+"/"+p.sliceAfterX("Pin")+";";break}for(r=0,s=t.length;r<s;r+=1)if(0===t[r].indexOf(e.restorePinTreeNodeName()+"_Pin")){t.splice(r,1);break}if(ci(e,_,x),$("#"+_+"_Root").removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),$("#"+e.restorePinTreeNodeName()+"_Intermediate").removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),$("#"+e).removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),$("#"+e+" >a").css("color","blue"),0===$("#"+e.restorePinTreeNodeName()+"_Intermediate").find("li").length){for(a=0,c=Ge.length;a<c;a+=1)if(0===Ge[a].indexOf(e.restorePinTreeNodeName()+"_Pin")){Ge.splice(a,1);break}if(Ge.push(e),void 0===Re[_]?(Re[_]=[],Re[_][0]=e):Re[_].push(e),void 0!==Re[_]){for(r=0,s=Re[_].length;r<s;r+=1)if(Re[_][r]===p){Re[_][r]="";break}for(r=0,s=Re[_].length;r<s&&""===Re[_][r];r+=1)r===s-1&&$("#"+_+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}}return!0}if(T.length>0){for(l=0;l<T.length;l+=1)if(h=ai(T[l],i,n,t)){if((x=[])[0]=parseInt(e.sliceAfterX("Pin"),10),_=Ei(e.slicePriorToX("_")),h=!1,$("#"+e.restorePinTreeNodeName()+"_Intermediate").find("li").length>0)$("#"+e.restorePinTreeNodeName()+"_Intermediate").find("li").each(I);else for(r=0,s=ke.length;r<s;r+=1)if(0===ke[r].indexOf(e.restorePinTreeNodeName()+"_Pin")&&(p=ke[r])!==e&&p.restorePinTreeNodeName()===ve[parseInt(p.sliceAfterX("Pin"),10)-1]){h=!0,""!==P&&(g=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==x[0].toString()&&"removed"!==g&&"end"!==g&&(P+=ve[parseInt(g,10)-1]+":"+g+"/end;"),P+=e.restorePinTreeNodeName()+":"+x[0]+"/"+p.sliceAfterX("Pin")+";";break}if(h){for(r=0,s=t.length;r<s;r+=1)if(0===t[r].indexOf(e.restorePinTreeNodeName()+"_Pin")){t.splice(r,1);break}}else{for(""!==P&&(g=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==x[0].toString()&&"removed"!==g&&"end"!==g&&(P+=ve[parseInt(g,10)-1]+":"+g+"/end;"),P+=e.restorePinTreeNodeName()+":"+x[0],r=0,s=t.length;r<s;r+=1)if(0===t[r].indexOf(e.restorePinTreeNodeName()+"_Pin")){P+="/"+t[r].sliceAfterX("Pin"),p=t[r],t.splice(r,1);break}P+=";"}if(ci(e,_,x),$("#"+_+"_Root").removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),$("#"+e.restorePinTreeNodeName()+"_Intermediate").removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),$("#"+e).removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),$("#"+e+" >a").css("color","blue"),0===$("#"+e.restorePinTreeNodeName()+"_Intermediate").find("li").length){for(a=0,c=Ge.length;a<c;a+=1)if(0===Ge[a].indexOf(e.restorePinTreeNodeName()+"_Pin")){Ge.splice(a,1);break}if(Ge.push(e),void 0===Re[_]?(Re[_]=[],Re[_][0]=e):Re[_].push(e),void 0!==Re[_]){for(r=0,s=Re[_].length;r<s;r+=1)if(Re[_][r]===p){Re[_][r]="";break}for(r=0,s=Re[_].length;r<s&&""===Re[_][r];r+=1)r===s-1&&$("#"+_+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}}return!0}return!1}l=null,o=null,r=null,s=null,a=null,c=null,d=null,f=null,g=null,_=null,u=null,x=[],T=[],N=null,p=null,O=null,h=null}function ci(e,i,n){var t,l,o,r,s,a,c=n.length;$("#moduleTree");if(0!==We.length)for(o=0,r=We.length;o<r;o+=1)We[o]===n[t]&&We.splice(o,1);if(1===n.length&&-1!==e.indexOf("_Pin"))gi(n[0]-1,e.restorePinTreeNodeName(),!1);else for(t=0,l=n.length;t<l;t+=1)a=Fe[i][t],gi(n[t]-1,a,!1);for(t=0;t<c;t+=1){for(s=!1,o=0,r=Se.length;o<r;o+=1)if(n[t]===parseInt(Se[o].slicePriorToX(":"),10)){Se[o]=n[t]+":"+i,s=!0;break}s||Se.push(n[t]+":"+i),1!==n.length?un(n[t]-1,i):-1!==e.indexOf("_Pin")?un(n[t]-1,e.restorePinTreeNodeName(),!0):un(n[t]-1,e,!0),Zi(n[t],Te),Ae[n[t]-1]=i}if(1===n.length&&-1!==e.indexOf("_Pin"))_i(e,n[0],!0),L&&(de+=1,!U&&window.console&&window.console.log(de+". "+e));else{for(t=0,l=n.length;t<l;t+=1)_i((a=Fe[i][t])+"_Pin"+n[t],n[t],!0);L&&(de+=1,!U&&window.console&&window.console.log(de+". "+i))}a=null,c=n.length=null,s=null,t=null,l=null,o=null,r=null,c=n.length}function di(e){var i,n,t,l,o,r,s,a,c=$("#moduleTree"),d=[],f=[];function g(e,i){if(r=$(i).attr("id"),ve[parseInt(r.sliceAfterX("_Pin"),10)-1].replaceSpecialCharacters()===r.restorePinTreeNodeName())return s=!0,a=!0,!1}function _(e,i){r=$(i).attr("id"),"red"===$("#"+r+" >a").css("color")||"rgb(255, 0, 0)"===$("#"+r+" >a").css("color")||a||(l=r.restorePinTreeNodeName()+"_Intermediate",(d=[])[0]=parseInt(r.sliceAfterX("Pin"),10),ci(r,t,d),s=!0,a=!0),ve[parseInt(r.sliceAfterX("_Pin"),10)-1].replaceSpecialCharacters()===r.restorePinTreeNodeName()?$("#"+r).removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"):$("#"+r).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")}for(s=!1,a=!1,f=[],t=Ei(e.slicePriorToX("_")),$("#"+e).find("li").each((function(e,i){-1!==(o=$(i).attr("id")).indexOf("_Pin")&&-1===$.inArray(o.restorePinTreeNodeName()+"_Intermediate",f)?("red"===$("#"+o+" >a").css("color")||"rgb(255, 0, 0)"===$("#"+o+" >a").css("color")||a||(-1===$.inArray(o,ke)?((d=[])[0]=parseInt(o.sliceAfterX("Pin"),10),ci(o,t,d),s=!0):(s=!1,l=o.restorePinTreeNodeName()+"_Intermediate",c.jstree("open_node",$("#"+l)),$("#"+l).find("li").each((function(e,i){if(r=$(i).attr("id"),ve[parseInt(r.sliceAfterX("_Pin"),10)-1].replaceSpecialCharacters()===r.restorePinTreeNodeName())return s=!0,!1})),s||((d=[])[0]=parseInt(o.sliceAfterX("Pin"),10),ci(o,t,d)),s=!0,a=!0)),ve[parseInt(o.sliceAfterX("_Pin"),10)-1].replaceSpecialCharacters()===o.restorePinTreeNodeName()?$("#"+o).removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"):$("#"+o).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")):-1!==o.indexOf("_Intermediate")&&f.push(o)})),i=0,n=f.length;i<n;i+=1)a=!1,c.jstree("open_node",$("#"+f[i])),$("#"+f[i]).find("li").each(g),$("#"+f[i]).find("li").each(_),a?$("#"+f[i]).removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"):$("#"+f[i]).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");s?($("#"+e).removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),$("#"+t+"_Root").removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined")):$("#"+e).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),Wi(),i=null,n=null,c=null,t=null,d=[],l=null,o=null,r=null,f=[],s=null,a=null}function fi(e,i,n){var t,l,o,r,s,a=n.length;for(t=0;t<a;t+=1)if(-1!==(s=$.inArray(n[t]+":"+i,Se))&&(Se.splice(s,1),un(n[t]-1,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][n[t]-1]),Ae[n[t]-1]=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][n[t]-1],0!==We.length))for(l=0,r=We.length;l<r;l+=1)We[l]===n[t]&&We.splice(l,1);for(t=0,o=n.length;t<o;t+=1)i!==Ae[n[t]-1]&&(gi(n[t]-1,"",!0),_i(e+"_Pin"+n[t],n[t],!1)),Zi(n[t],"#FFFFFF");t=null,o=null,l=null,r=null,a=null}function gi(e,i,n){var t,l,r,s,a,c,d=4;if(s=-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?ce.getContext($("#pin_side_0")[0]):ce.getContext($("#NUC_PinConfiguration_Canvas")[0]),n||-1===i.indexOf("_dot")&&2!==i.indexOf(".")||-1!==$.inArray(e,ye)||(void 0===ye?ye[0]=e:ye.push(e)),n&&0!==ye.length)for(t=0,l=ye.length;t<l;t+=1)ye[t]===e&&ye.splice(t,1);i=i.restorePinTreeNodeName().restoreSpecialCharacters(),n?ve[e]="":(ve[e]=i,U||L||$("#NUC_PinConfiguration_Canvas")[0].setAttribute("innerText",i)),i=qi(i),s.font=E,-1!==o.indexOf("SOP")?(r=e-Math.floor(e/S*2)*S/2,e<=S/2-1?(a=se-R-Z,c=ae+z+r*(B+K)+4*B/5,s.save(),s.fillStyle="#FFFFFF",s.fillRect(a-ee/2+1,c-4*B/5-d/2-1,ee/2,B+d),s.fillStyle="#000000",n&&Ve&&s.fillText($e[e],a-s.measureText($e[e]).width,c),n||s.fillText(i,a-s.measureText(i).width,c),s.restore()):(a=se+re/2+R+Z,c=ae+re-z-B-r*(B+K)+4*B/5,s.fillStyle="#FFFFFF",s.fillRect(a,c-4*B/5-d/2-1,ee/2,B+d),s.fillStyle="#000000",n&&Ve&&s.fillText($e[e],a,c),n||s.fillText(i,a,c))):-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?(a=z+G+Math.floor(e/j)*(2*G+K),c=z+G+(j-1-e%j)*(2*G+K),s.beginPath(),s.arc(a,c,G,0,2*Math.PI,!0),s.fillStyle="#FFFFFF",s.fill(),s.fillStyle="#000000",""===i&&(i=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e]),i.length>6&&(i=i.slice(0,6)+".."),s.fillText(i,a-s.measureText(i).width/2,c+parseInt(s.font,10)/2)):e<A?(r=e+Math.floor((w-A)/2),a=se+z+r*(B+K),c=ae+re+R,s.save(),s.translate(a,c),s.rotate(-Math.PI/2),s.textAlign="end",s.fillStyle="#FFFFFF",s.fillRect(-ie/2-V,-d/2-1,ie/2,B+d),s.fillStyle="#000000",n&&Ve&&s.fillText($e[e],-V,4*B/5),n||s.fillText(i,-V,4*B/5),s.restore()):e>=A&&e<A+v?(r=e-A+Math.floor((w-v)/2),a=se+re+R+Z,c=ae+re-z-B-r*(B+K)+4*B/5,s.fillStyle="#FFFFFF",s.fillRect(a,c-4*B/5-d/2-1,ee/2,B+d),s.fillStyle="#000000",n&&Ve&&s.fillText($e[e],a,c),n||s.fillText(i,a,c)):e>=A+v&&e<A+v+y?(r=e-A-v+Math.floor((w-y)/2),a=se+re-z-B-r*(B+K),c=ae-R,s.save(),s.translate(a,c),s.rotate(-Math.PI/2),s.fillStyle="#FFFFFF",s.fillRect(2*Z-2*W,-d/2-1,ie/2,B+d),s.fillStyle="#000000",n&&Ve&&s.fillText($e[e],2*Z,3*B/4),n||s.fillText(i,2*Z,3*B/4),s.restore()):e>=A+v+y&&e<S&&(r=e-A-v-y+Math.floor((w-D)/2),a=se-R-Z,c=ae+z+r*(B+K)+4*B/5,s.save(),s.fillStyle="#FFFFFF",s.fillRect(a-ee/2+1,c-4*B/5-d/2-1,ee/2,B+d),s.fillStyle="#000000",n&&Ve&&s.fillText($e[e],a-s.measureText($e[e]).width,c),n||s.fillText(i,a-s.measureText(i).width,c),s.restore()),r=null,s=null,a=null,c=null,d=null,t=null,l=null}function _i(e,i,n){var t,l,o,r,s,a,c,d=$e[i-1],f=[],g=[];function _(e,i){if("red"===$("#"+$(i).attr("id")+" >a").css("color")||"rgb(255, 0, 0)"===$("#"+$(i).attr("id")+" >a").css("color"))return $("#"+f[t]+" >a").css("color","red"),!1}function u(e,i){if("red"===$("#"+$(i).attr("id")+" >a").css("color")||"rgb(255, 0, 0)"===$("#"+$(i).attr("id")+" >a").css("color"))return $("#"+g[t]+" >a").css("color","red"),!1}if(n)for(;""!==d;)-1!==d.indexOf("/")?(s=d.slicePriorToX("/")+"_Pin"+i,a=d.slicePriorToX("/")+"_Intermediate"):(s=d+"_Pin"+i,a=d+"_Intermediate"),s=s.replaceSpecialCharacters(),a=a.replaceSpecialCharacters(),e=e.replaceSpecialCharacters(),s.restorePinTreeNodeName()!==e.restorePinTreeNodeName()?"red"===$("#"+s+" >a").css("color")&&"rgb(255, 0, 0)"===$("#"+s+" >a").css("color")||($("#"+s+" >a").css("color","red"),$("#"+a+" >a").css("color","red"),-1!==s.indexOf("_")&&$("#"+Ei(s.slicePriorToX("_"))+"_Root >a").css("color","red")):"black"===$("#"+s+" >a").css("color")&&"rgb(0, 0, 0)"===$("#"+s+" >a").css("color")||($("#"+s+" >a").css("color","black"),$("#"+a+" >a").css("color","black"),-1===$.inArray(a,f)&&f.push(a),-1!==s.indexOf("_")&&(c=Ei(s.slicePriorToX("_"))+"_Root",0===$("#"+c).find("li").length&&"red"===$("#"+c+" >a").css("color")||"rgb(255, 0, 0)"===$("#"+c+" >a").css("color")||($("#"+c+" >a").css("color","black"),-1===$.inArray(c,g)&&g.push(c)))),d=-1!==d.indexOf("/")?d.sliceAfterX("/"):"";else for(;""!==d;){if(-1!==d.indexOf("/")?(s=d.slicePriorToX("/")+"_Pin"+i,a=d.slicePriorToX("/")+"_Intermediate"):(s=d+"_Pin"+i,a=d+"_Intermediate"),s=s.replaceSpecialCharacters(),a=a.replaceSpecialCharacters(),s.restorePinTreeNodeName()===ve[i-1].replaceSpecialCharacters()||""===ve[i-1]){if(("black"!==$("#"+s+" >a").css("color")||"rgb(0, 0, 0)"!==$("#"+s+" >a").css("color"))&&($("#"+s+" >a").css("color","black"),$("#"+a+" >a").css("color","black"),-1===$.inArray(a,f)&&f.push(a),-1!==s.indexOf("_")&&(c=Ei(s.slicePriorToX("_"))+"_Root","red"===$("#"+c+" >a").css("color")||"rgb(255, 0, 0)"===$("#"+c+" >a").css("color"))))if($("#"+c+" >a").css("color","black"),0!==$("#"+c).find("li").length)-1===$.inArray(c,g)&&g.push(c);else for(c=c.restorePinTreeNodeName(),t=0,o=we[c].length;t<o;t+=1)for(l=0,r=Se.length;l<r;l+=1)if(we[c][t]===parseInt(Se[l].slicePriorToX(":"),10)&&c!==Se[l].sliceAfterX(":")){$("#"+c+"_Root >a").css("color","red");break}}else"red"===$("#"+s+" >a").css("color")&&"rgb(255, 0, 0)"===$("#"+s+" >a").css("color")||($("#"+s+" >a").css("color","red"),$("#"+a+" >a").css("color","red"),-1!==s.indexOf("_")&&$("#"+Ei(s.slicePriorToX("_"))+"_Root >a").css("color","red"));d=-1!==d.indexOf("/")?d.sliceAfterX("/"):""}for(t=0,o=f.length;t<o;t+=1)$("#"+f[t]).find("li").each(_);for(t=0,o=g.length;t<o;t+=1)$("#"+g[t]).find("li").each(u);d=null,s=null,a=null,c=null,t=null,l=null,o=null,r=null}function ui(e){var i,n,t,l,o,r,s,a,c,d=$("#moduleTree"),f=$("#searchInput_Pin"),g=e,_=[],u=[],N=[];function p(e,i){return e-i}if(/^\d+$/.test(e)||e.length<2||e.length>15||0===e.toLowerCase().indexOf("pin:")&&4===e.length)return d.jstree("close_all"),d.jstree("clear_search"),void(""!==e?(Ti(),e.length<2?Oi("最小输入字元为两个。请更换至更合适的搜寻。","最小輸入字元為兩個。請更換至更合適的搜尋。","The minimum inputting characters are two. Please change to a proper search."):Oi("预期的搜寻将花费很多时间。请更换至更合适的搜寻。","預期的搜尋將花費很多時間。請更換至更合適的搜尋。","The expected search will take much time. Please change to a proper search."),f.val("")):f.val(""));try{if(-1!==e.toLowerCase().indexOf("pin:")){if(-1!==(e=e.slice(e.toLowerCase().indexOf("pin:")+4)).indexOf(")")&&(e=e.slicePriorToX(")")),parseInt(e,10)>S)return;for(a=$e[parseInt(e,10)-1],N=[],i=0,n=a.length;i<n;i+=1)"/"===a[i]&&N.push(i);if(0===N.length)-1!==(s=Ei(s=a)).indexOf("_")&&(s=s.slicePriorToX("_")),-1===$.inArray(s,_)&&_.push(s);else for(i=0,n=N.length+1;i<n;i+=1)-1!==(s=Ei(s=0===i?a.slice(0,N[0]):i===n-1?a.slice(N[n-2]+1):a.slice(N[i-1]+1,N[i]))).indexOf("_")&&(s=s.slicePriorToX("_")),-1===$.inArray(s,_)&&_.push(s)}else for(i=0;i<S;i+=1)if(-1!==(a=$e[i]).toLowerCase().indexOf(e.toLowerCase())){for(u=[],t=0,l=a.length;t<l;t+=1)0===a.slice(t).toLowerCase().indexOf(e.toLowerCase())&&u.push(t);for(N=[],t=0,l=a.length;t<l;t+=1)"/"===a[t]&&N.push(t);for(t=0,l=u.length;t<l;t+=1)if(0===N.length)s=a;else{for(N.push(u[t]),N.sort(p),o=0,r=N.length;o<r;o+=1)if(N[o]===u[t]){c=o;break}s=0===c?a.slice(0,N[1]):c===N.length-1?a.slice(N[N.length-2]+1):a.slice(N[c-1]+1,N[c+1]),N.splice(c,1),-1!==(s=Ei(s)).indexOf("_")&&(s=s.slicePriorToX("_")),-1===$.inArray(s,_)&&_.push(s)}}for(i=0,n=_.length;i<n;i+=1)d.jstree("open_node",$("#"+_[i]+"_Root"));d.jstree("close_all"),d.jstree("search",g)}catch(e){}i=null,n=null,t=null,l=null,g=null,d=null,f=null,s=null,_=[],a=null,c=null,u=[],N=[]}function Ni(){$("#ChipType").hide(),$("#MCU").hide(),$("#panel").css("overflow","hidden"),$("#ChipType").css("border","white"),$("#MCU").css("border","white")}function pi(){$(document).mousedown((function(e){var i=((e=e||window.event).target||e.srcElement).id;return"panel"!==i&&"NUC_PinConfiguration_Canvas"!==i&&"NUC_PinConfiguration_Canvas_Lining"!==i&&("ChipTypeSelect"===i&&Tn((function(){$("#ChipTypeSelect").focus()})),"MCUselect"===i&&Tn((function(){$("#MCUselect").focus()})),"searchInput_Pin"===i&&$("#searchInput_Pin").val(""),i=0,this)}))}function Oi(e,i,n){Ti(),"Simplified Chinese"===ge?window.alert(e):"Traditional Chinese"===ge?window.alert(i):window.alert(n)}function hi(){var e=!0;return function(){var e,i,n,t,s,a,c,d,f=!1,g="",_="",u=!1,N=[],p=[];if(!b)for(e=0,i=ze.length;e<i;e+=1)-1!==Ye.indexOf(ze[e])&&ze.splice(e,1);if(r="",t=n=NUTOOL_PIN.g_readConfigFileContentText,!n||/^\s*$/.test(n))return r=n,"undefined"==typeof NUTOOL_PER?void 0===NUTOOL_PIN.g_chipType_default||""===NUTOOL_PIN.g_chipType_default||void 0===NUTOOL_PIN.g_partNumber_package_default||""===NUTOOL_PIN.g_partNumber_package_default?(void 0!==l&&"NUC400"!==l&&fn(g="NUC_"+l+"_Content.js",_="NUC_NUC400_Content.js","js"),o="NUC472VI8AE(LQFP100)",l="NUC400"):(void 0===l?fn(g="NUC_NUC400_Content.js",_="NUC_"+NUTOOL_PIN.g_chipType_default+"_Content.js","js"):void 0!==l&&l!==NUTOOL_PIN.g_chipType_default&&fn(g="NUC_"+l+"_Content.js",_="NUC_"+NUTOOL_PIN.g_chipType_default+"_Content.js","js"),o=NUTOOL_PIN.g_partNumber_package_default,l=NUTOOL_PIN.g_chipType_default):(void 0!==l&&"M251"!==l&&fn(g="NUC_"+l+"_Content.js",_="NUC_M251_Content.js","js"),o="M251EB2AE(TSSOP28)",l="M251"),f;for(;-1!==n.indexOf("\r")&&n.indexOf("\r")<n.indexOf("MCU:");)n=n.sliceAfterX("\r");s=n.sliceBetweenXandX("MCU:","\r");if(s=s.trim(),a=Ai(s),-1===$.inArray(ji(a),ze))return Oi("从配置档读出的芯片型号 "+a+" 不正确。","從配置檔讀出的晶片型號 "+a+" 不正確。","The chip type of "+a+" read from the config file is incorrect."),n=null,s=null,a=null,f=null;void 0!==l?fn(g="NUC_"+l+"_Content.js",_="NUC_"+a+"_Content.js","js"):void 0===l&&fn(g="undefined"==typeof NUTOOL_PER?void 0===NUTOOL_PIN.g_chipType_default||""===NUTOOL_PIN.g_chipType_default?"NUC_NUC400_Content.js":"NUC_"+NUTOOL_PIN.g_chipType_default+"_Content.js":"NUC_M251_Content.js",_="NUC_"+a+"_Content.js","js");for(e=0,i=NUTOOL_PIN.g_cfg_chips.length;e<i;e+=1)if(NUTOOL_PIN.g_cfg_chips[e].name+"("+NUTOOL_PIN.g_cfg_chips[e].pkg+")"===s){f=!0;break}if(f){for(void 0!==o?d=o:"undefined"==typeof NUTOOL_PER?void 0===NUTOOL_PIN.g_chipType_default||""===NUTOOL_PIN.g_chipType_default||void 0===NUTOOL_PIN.g_partNumber_package_default||""===NUTOOL_PIN.g_partNumber_package_default?(d="NUC472VI8AE(LQFP100)",l="NUC400"):(d=NUTOOL_PIN.g_partNumber_package_default,l=NUTOOL_PIN.g_chipType_default):(d="M251EB2AE(TSSOP28)",l="M251"),o=s,NUTOOL_PIN.decidepackageNumber(),e=0,i=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex].length;e<i;e+=1)mi(c=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e])&&N.push(c);if("M451HD"===a||"M451LD"===a||"M4521"===a||"NUC121AE"===a||"M0564"===a||"M05641"===a||0===a.indexOf("NUC126")||"M071QV"===a||"NUC029xGE"===a||"NUC029KGE"===a||"NUC400"===a||0===a.indexOf("M47")||"M480MD"===a||"M480LD"===a||"AX58200"===a||0===a.indexOf("M25")||"NDA102"===a||"M261"===a||0===a.indexOf("M235")||0===a.indexOf("M029")||0===a.indexOf("M030")||0===a.indexOf("M031")||0===a.indexOf("M091")||"NANO103"===a||"NUC505"===a||"NUC123AE"===a||"MA35D1"===a||0===a.indexOf("M2003"))for(e=0,i=N.length;e<i;e+=1)c=parseInt(N[e].sliceAfterX("."),10)<8?"G"+N[e].slicePriorToX(".")+"_MFPL":"G"+N[e].slicePriorToX(".")+"_MFPH",-1===$.inArray(c,p)&&p.push(c);else if("M0A21"===a||0===a.indexOf("M46")||0===a.indexOf("M2L31")||0===a.indexOf("M55M1"))for(e=0,i=N.length;e<i;e+=1)c="G"+N[e].slicePriorToX(".")+"_MFP"+Math.floor(parseInt(N[e].sliceAfterX("."),10)/4),-1===$.inArray(c,p)&&p.push(c);else if("NANO100AN"===a||"NANO100BN"===a||"NANO112"===a)for(e=0,i=N.length;e<i;e+=1)c=parseInt(N[e].sliceAfterX("."),10)<8?N[e].slicePriorToX(".")+"_L_MFP":N[e].slicePriorToX(".")+"_H_MFP",-1===$.inArray(c,p)&&p.push(c);else if("NM1500"===a||"M0519"===a||"M051DN_DE"===a||"M051BN"===a||"M051AN"===a||"M058S"===a||"MINI51AN"===a||"MINI51DE"===a||"MINI55"===a||"MINI58"===a||"NUC029AE"===a||"NUC029TAE"===a||"NUC029AN"===a||"NM1200"===a)for(e=0,i=N.length;e<i;e+=1)c=N[e].slicePriorToX(".")+"_MFP",-1===$.inArray(c,p)&&p.push(c);else if(0===a.indexOf("ML5")||0===a.indexOf("MS51")||0===a.indexOf("MUG51"))for(e=0,i=N.length;e<i;e+=1)c=N[e].slicePriorToX(".")+"MF76543210",-1===$.inArray(c,p)&&p.push(c);else if(0===a.indexOf("KM1M7AF")||0===a.indexOf("KM1M7BF"))for(e=0,i=N.length;e<i;e+=1)c="IO"+N[e].slicePriorToX(".")+"MD",-1===$.inArray(c,p)&&p.push(c);else if(0===a.indexOf("KM1M4BF")){for(e=0,i=N.length;e<i;e+=1)c="IO"+N[e].slicePriorToX(".")+"MD",-1===$.inArray(c,p)&&p.push(c);0===l.indexOf("KM1M4BF5")&&p.push("SELSWD")}else if(0===a.indexOf("KM1M7CF")){for(e=0,i=N.length;e<i;e+=1)c="IO"+N[e].slicePriorToX(".")+"MD",-1===$.inArray(c,p)&&p.push(c);for(e=0;e<14;e+=1)e<10?p.push("FPSA0"+e+"_SEL"):p.push("FPSA"+e+"_SEL");for(e=0;e<12;e+=1)e<10?p.push("FPSB0"+e+"_SEL"):p.push("FPSB"+e+"_SEL")}else for(e=0,i=N.length;e<i;e+=1)c="G"+N[e].slicePriorToX(".")+"_MFP",-1===$.inArray(c,p)&&p.push(c);for(e=0,i=(N=["ALT_MFP","ALT_MFP1","ALT_MFP2","ALT_MFP3","ALT_MFP4","ALT_MFP5","ALT_MFP6","ALT_MFP7","ALT_MFP8","ALT_MFP9"]).length;e<i;e+=1)c=N[e],void 0!==NUTOOL_PIN.g_cfg_regDescriptions[c]&&-1===$.inArray(c,p)&&p.push(c);for("MINI55"!==a&&"NM1200"!==a||(p.push("ADCHER"),p.push("ADCR"),p.push("PIN_SEL")),e=0,i=p.length;e<i;e+=1)if(-1===n.indexOf(p[e])){c=p[e],u=!0,o=d;break}}f?u?(Oi("在配置档里找不到必需的MFP寄存器 "+c+"。","在配置檔裡找不到必需的MFP暫存器 "+c+"。","The prerequisite MFP register of "+c+" is missing in the config file."),""!==_&&""!==g&&fn(_,g,"js"),f=!1):(r=t,o=s,l=a,$("#ChipTypeSelect").val(ji(l)),function(e){var i,n,t,l,o,r,s=e,a="SYS->";if(""!==e&&void 0!==e){for(0!==NUTOOL_PIN.g_cfg_gpiosDefines.length&&NUTOOL_PIN.g_cfg_gpiosDefines[0].f.length>1&&0===NUTOOL_PIN.g_cfg_gpiosDefines[0].f[1].indexOf("GPIO:GPIO_")&&(a="GPIO_MD->"),ye=[];-1!==e.indexOf("GPIOpin:");)t=(i=e.slice(e.indexOf("GPIOpin:"))).slice(i.indexOf("GPIOpin:")+8,i.indexOf("\r")),mi(r=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][parseInt(t,10)])&&(void 0===ye?ye[0]=parseInt(t,10):ye.push(parseInt(t,10))),e=i.slice(1);for(He={};-1!==e.indexOf("UserDefined:");)r=(t=(n=e.slice(e.indexOf("UserDefined:"))).slice(n.indexOf("UserDefined:")+12,n.indexOf("\r"))).sliceAfterX("=>"),t=t.slicePriorToX("=>"),He[t]=r,e=n.slice(1);for(e=s;-1!==e.indexOf(a);)o=(l=e.sliceAfterX(a)).slice(l.indexOf(" = ")+3,l.indexOf("\r")),isNaN(parseInt(o.slice(2),16))?Oi("寄存器的值"+l.slicePriorToX("\r")+"存在一些错误，请更正它并重载配置档。","暫存器的值"+l.slicePriorToX("\r")+"存在一些錯誤，請更正它並重載配置檔。","The register value of "+l.slicePriorToX("\r")+" in the config file is incorrect.Please correct it and re-load the config file again."):je[l.slicePriorToX(" = ")]=parseInt(o.slice(2),16),e=l.slice(1);for(e=s;-1!==e.indexOf("ALT_MFP");)o=(l=e.slice(e.indexOf("ALT_MFP"))).slice(l.indexOf(" = ")+3,l.indexOf("\r")),isNaN(parseInt(o.slice(2),16))?Oi("寄存器的值"+l.slicePriorToX("\r")+"存在一些错误，请更正它并重载配置档。","暫存器的值"+l.slicePriorToX("\r")+"存在一些錯誤，請更正它並重載配置檔。","The register value of "+l.slicePriorToX("\r")+" in the config file is incorrect.Please correct it and re-load the config file again."):je[l.slicePriorToX(" = ")]=parseInt(o.slice(2),16),e=l.slice(1)}i=null,t=null,l=null,o=null,s=null,r=null}(r)):(Oi("从配置档读出的封装名称 "+s+" 不正确","從配置檔讀出的封裝名稱 "+s+" 不正確。","The package name "+s+" read from the config file is incorrect."),""!==_&&""!==g&&fn(_,g,"js"),o="undefined"==typeof NUTOOL_PER?void 0===NUTOOL_PIN.g_partNumber_package_default||""===NUTOOL_PIN.g_partNumber_package_default?"NUC472VI8AE(LQFP100)":NUTOOL_PIN.g_partNumber_package_default:"M251EB2AE(TSSOP28)");NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&Qn();return e=null,i=null,a=null,N=[],p=[],n=null,s=null,t=null,g=null,_=null,c=null,null,u=null,bMismatchedRedundant=null,d=null,f}()||(e=!1),NUTOOL_PIN.decidepackageNumber(),Pi(),e}function Pi(){return 33===(S=parseInt(NUTOOL_PIN.g_packageNumber.slice(NUTOOL_PIN.g_packageNumber.indexOf(NUTOOL_PIN.g_packageNumber.match(/\d/))),10))&&(S=32),-1!==NUTOOL_PIN.g_packageNumberIndex.toLowerCase().indexOf("pin:")?(A=parseInt(NUTOOL_PIN.g_packageNumberIndex.sliceBetweenXandX("D","R"),10),v=parseInt(NUTOOL_PIN.g_packageNumberIndex.sliceBetweenXandX("R","U"),10),y=parseInt(NUTOOL_PIN.g_packageNumberIndex.sliceBetweenXandX("U","L"),10),D=parseInt(NUTOOL_PIN.g_packageNumberIndex.sliceBetweenXandX("L",")"),10)):(A=S/4,v=S/4,y=S/4,D=S/4),w=Math.max(A,v,y,D),this}function xi(){return I=30,K=2,e=.95,T="\f",ce.getContext=function(e){return e.getContext("2d")},ce.removeContext=function(e){e.remove()},ce.addEvent=function(e,i,n){e.addEventListener(i,n,!1)},$("html").addClass("ie10+"),"undefined"==typeof NUTOOL_PER&&(fn("","/tabulator/promise-polyfill.js","js"),fn("","/tabulator/js/tabulator.js","js"),fn("","/tabulator/css/tabulator.css","css")),!1}function Ti(){var e=localStorage.getItem("UIlanguage");ge=void 0===e||null==e?"English":e,e=null}function Ii(){var e=localStorage.getItem("DisplayTooltip");t=void 0===e||null==e||"No"!==e,e=null}function Mi(){$(document).keypress((function(e){e.which}))}function Ci(e){return!isNaN(parseFloat(e))&&isFinite(e)}function mi(e){return!(void 0===e||"P"!==e.slice(0,1)||"."!==e.slice(2,3)||!Ci(e.sliceAfterX(".")))||!(!NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode||void 0===e||"B"!==e.slice(0,1)||"P"!==e.slice(1,2)||!Ci(e.sliceAfterX(".")))}function Ui(e){return!!(NUTOOL_PIN.g_cfg_Tooltip_Pin.length>0&&NUTOOL_PIN.g_cfg_Tooltip_Pin.includes(e))}function bi(e){return!!(NUTOOL_PIN.g_cfg_WPPin.length>0&&NUTOOL_PIN.g_cfg_WPPin.includes(e))}function Li(e){var i=Di(e,parseInt(e.sliceAfterX("."),10));return"M2L31"==l&&!isNaN(i)&&("QFN33"==NUTOOL_PIN.g_packageNumber&&("PC.0"==e||"PC.1"==e)||NUTOOL_PIN.g_cfg_gpios[i].f.filter((function(e){return-1!=e.indexOf("CCDB")})).length>0)}function ki(){var e,i,n,t,l,r,s,a,c,d,f,g,_,u,N,p=0,O=0,h=0,P=0;if(0===$("#NUC_PinConfiguration_Canvas").length&&$("#panel")[0].appendChild(Hi("canvas","NUC_PinConfiguration_Canvas")),s=$("#NUC_PinConfiguration_Canvas")[0],(a=ce.getContext(s)).font=E,N=a.measureText("012345678901234567890123456789").width,K=Qe?0:2,z=20,-1!==o.indexOf("SOP")){for(e=0,t=S/2;e<t;e+=1){for(f="",d=(c=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e])+":0",i=0,l=NUTOOL_PIN.g_cfg_gpios.length;i<l;i+=1)if(d===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=NUTOOL_PIN.g_cfg_gpios[i].f.length-1;n>=0;n-=1)f+=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":"),0!==n&&(f+="/");break}for(""===f&&(f=c),$e[e]=f,_="",d=(c=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e+S/2])+":0",i=0,l=NUTOOL_PIN.g_cfg_gpios.length;i<l;i+=1)if(d===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=0,r=NUTOOL_PIN.g_cfg_gpios[i].f.length;n<r;n+=1)_+=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":"),n!==NUTOOL_PIN.g_cfg_gpios[i].f.length-1&&(_+="/");break}""===_&&(_=c),$e[e+S/2]=_,Ve&&(a.measureText(f).width>p&&(p=a.measureText(f).width),a.measureText(_).width>h&&(h=a.measureText(_).width))}re=S/2*(B+K)-K+2*z,Ve?(p<N&&(p=N),h<N&&(h=N),P<N&&(P=N),O<N&&(O=N),se=p+R+re/4,ae=130+R+re/4):(se=N+R+Y,ae=130+R+Y)}else if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")){for(K=14,z=24,F=j=Math.sqrt(S),e=0,t=S;e<t;e+=1){for(f="",d=(c=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e])+":0",i=0,l=NUTOOL_PIN.g_cfg_gpios.length;i<l;i+=1)if(d===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=NUTOOL_PIN.g_cfg_gpios[i].f.length-1;n>=0;n-=1)f+=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":"),0!==n&&(f+="/");break}""===f&&(f=c),$e[e]=f}re=Math.sqrt(S)*(2*G+K)-K+2*z,se=N+R+Y,ae=N+R+Y}else{for(e=0,t=A;e<t;e+=1){for(g="",d=(c=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e])+":0",i=0,l=NUTOOL_PIN.g_cfg_gpios.length;i<l;i+=1)if(d===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=NUTOOL_PIN.g_cfg_gpios[i].f.length-1;n>=0;n-=1)g+=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":"),0!==n&&(g+="/");break}""===g&&(g=c),$e[e]=g,Ve&&a.measureText(g).width>O&&(O=a.measureText(g).width)}for(e=0,t=v;e<t;e+=1){for(_="",d=(c=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e+A])+":0",i=0,l=NUTOOL_PIN.g_cfg_gpios.length;i<l;i+=1)if(d===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=0,r=NUTOOL_PIN.g_cfg_gpios[i].f.length;n<r;n+=1)_+=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":"),n!==NUTOOL_PIN.g_cfg_gpios[i].f.length-1&&(_+="/");break}""===_&&(_=c),$e[e+A]=_,Ve&&a.measureText(_).width>h&&(h=a.measureText(_).width)}for(e=0,t=y;e<t;e+=1){for(u="",d=(c=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e+A+v])+":0",i=0,l=NUTOOL_PIN.g_cfg_gpios.length;i<l;i+=1)if(d===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=0,r=NUTOOL_PIN.g_cfg_gpios[i].f.length;n<r;n+=1)u+=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":"),n!==NUTOOL_PIN.g_cfg_gpios[i].f.length-1&&(u+="/");break}""===u&&(u=c),$e[e+A+v]=u,Ve&&a.measureText(u).width>P&&(P=a.measureText(u).width)}for(e=0,t=D;e<t;e+=1){for(f="",d=(c=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e+A+v+y])+":0",i=0,l=NUTOOL_PIN.g_cfg_gpios.length;i<l;i+=1)if(d===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=NUTOOL_PIN.g_cfg_gpios[i].f.length-1;n>=0;n-=1)f+=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":"),0!==n&&(f+="/");break}""===f&&(f=c),$e[e+A+v+y]=f,Ve&&a.measureText(f).width>p&&(p=a.measureText(f).width)}re=w*(B+K)-K+2*z,Ve?(p<N&&(p=N),h<N&&(h=N),P<N&&(P=N),O<N&&(O=N),se=p+R+re/4,ae=P+R+re/4):(se=N+R+Y,ae=N+R+Y)}Ve?(ee=se+re+h+R+re/4,ie=ae+re+O+R+re/4):(ee=se+re+R+Y+N,ie=ae+re+R+Y+N),ne=screen.availWidth,te=screen.availHeight,oe=te-10,e=null,i=null,n=null,t=null,l=null,r=null,s=null,a=null,c=null,d=null,f=null,g=null,_=null,u=null,p=null,O=null,h=null,P=null,N=null}function $i(){var e,i;for(e=0,i=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex].length;e<i;e+=1)Ae[e]=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e],ve[e]="";e=null,i=null}function Si(){"NUC400"===l&&void 0!==Ee.GPG_MFPH?wi("GPG_MFPH:0x00001100"):"M451HD"!==l&&"M451LD"!==l&&"M4521"!==l||void 0===Ee.GPF_MFPL?0!==l.indexOf("M47")&&"M480MD"!==l&&"M480LD"!==l&&"AX58200"!==l&&"M251"!==l&&"M261"!==l&&"NDA102"!==l&&"M2351"!==l&&0!==l.indexOf("M029")&&0!==l.indexOf("M030")&&0!==l.indexOf("M031")&&0!==l.indexOf("M2003")||void 0===Ee.GPF_MFPL?"NUC121AE"===l&&void 0!==Ee.GPF_MFPL?wi("GPF_MFPL:0x00110011"):"NANO100AN"!==l&&"NANO100BN"!==l||void 0===Ee.PF_L_MFP?"NANO112"===l&&void 0!==Ee.PF_L_MFP?wi("PF_L_MFP:0x00FFFFFF"):"NUC123AE"===l&&void 0!==Ee.GPF_MFPL?wi("GPF_MFPL:0x00001100"):"NANO103"===l&&void 0!==Ee.GPF_MFPL?wi("GPF_MFPL:0x77777777"):"M051AN"!==l&&"M051BN"!==l&&"M051DN_DE"!==l&&"M058S"!==l&&"MINI51AN"!==l&&"MINI51DE"!==l&&"MINI55"!==l&&"MINI58"!==l&&"NUC029AE"!==l&&"NUC029TAE"!==l&&"NUC029AN"!==l&&"NM1200"!==l||void 0===Ee.P4_MFP?0===l.indexOf("KM1M4BF0")&&void 0!==Ee.IOPDMD?wi("IOPDMD:0x00101000"):$("#moduleTree").jstree("check_node",$("#ICE_Root")):wi("P4_MFP:0x000000C0"):wi("PF_L_MFP:0x00007777"):wi("GPF_MFPL:0x000000EE"):wi("GPF_MFPL:0x01100000")}function Ai(e){var i;return-1===e.indexOf("(")&&(e+="("),i=0===e.indexOf("NDA102")?"NDA102":0===e.indexOf("M05641")?"M05641":0===e.indexOf("M0564")?"M0564":0===e.indexOf("M4521")?"M4521":0===e.indexOf("M45")||0===e.indexOf("M4TK")?"D"===(i=(i=(i=e).slicePriorToX("(")).slice(i.length-4,i.length-3))||"C"===i?"M451LD":"M451HD":0===e.indexOf("M466")?"M466":0===e.indexOf("M46")&&e.lastIndexOf("GCAE")+4===e.slicePriorToX("(").length?"M460LD":0===e.indexOf("M46")?"M460HD":0===e.indexOf("M471")?"M471":0===e.indexOf("M479")?"M479":0===e.indexOf("M48")?-1!==e.indexOf("8AE")||-1!==e.indexOf("CAE")?"M480LD":"M480MD":0===e.indexOf("KM1M7AF")?"KM1M7AF":0===e.indexOf("KM1M7BF")?"KM1M7BF":0===e.indexOf("KM1M7CF")?"KM1M7CF":0===e.indexOf("KM1M4BF02")||0===e.indexOf("KM1M4BF03")||0===e.indexOf("KM1M4BF04")?"KM1M4BF0":0===e.indexOf("KM1M4BF05")?"KM1M4BF05":0===e.indexOf("KM1M4BF52")||0===e.indexOf("KM1M4BF53")||0===e.indexOf("KM1M4BF54")?"KM1M4BF5":0===e.indexOf("M253")?"M253":0===e.indexOf("M251")||0===e.indexOf("M252")?"M251":0===e.indexOf("M256MD2AE")||0===e.indexOf("M254SD2AE")||0===e.indexOf("M254MD2AE")||0===e.indexOf("M256SD2AE")?"M256D":0===e.indexOf("M258SG6AE")||0===e.indexOf("M256QG6AE")||0===e.indexOf("M254KG6AE")||0===e.indexOf("M254SG6AE")||0===e.indexOf("M258QG6AE")||0===e.indexOf("M258KG6AE")?"M258G":0===e.indexOf("M254")||0===e.indexOf("M256")||0===e.indexOf("M258")?"M258":0===e.indexOf("M26")?"M261":0===e.indexOf("M2354")?"M2354":0===e.indexOf("M2351")?"M2351":0===e.indexOf("M0A2")?"M0A21":0===e.indexOf("M2L31")?"M2L31":0===e.indexOf("M2003C")?"M2003C":0===e.indexOf("M029G")?"M029G":0===e.indexOf("M030G")?"M030G":0===e.indexOf("M031GG")||0===e.indexOf("M031GT")?"M030G_31G":0===e.indexOf("M091")?"M091":0===e.indexOf("M030FD2AE")||0===e.indexOf("M030TD2AE")||0===e.indexOf("M030LD2AE")||0===e.indexOf("M032FC1AE")||0===e.indexOf("M032EC1AE")||0===e.indexOf("M032TC1AE")||0===e.indexOf("M032TD2AE")||0===e.indexOf("M032LC2AE")||0===e.indexOf("M032LD2AE")?"M031KM":0===e.indexOf("M031BT")?"M031BT":0===e.indexOf("M032BTAG8AN")||(0===e.indexOf("M031")||0===e.indexOf("M032"))&&"G"===e.charAt(5)?"M031G":0===e.indexOf("M032BTAIAAN")||(0===e.indexOf("M031")||0===e.indexOf("M032"))&&"I"===e.charAt(5)?"M031I":0===e.indexOf("M031")||0===e.indexOf("M032")?"M031":0===e.indexOf("M0518")?"M0518":0===e.indexOf("M071M")?"M071M":0===e.indexOf("M071Q")||0===e.indexOf("M071V")?"M071QV":0===e.indexOf("M071R1")||0===e.indexOf("M071S")?"M071R1S":0===e.indexOf("ML56")||0===e.indexOf("ML54")?"ML56":0===e.indexOf("ML51")?"D"===e.charAt(5)?"ML5156":"ML51":0!==e.indexOf("MS51")||-1===e.indexOf("C0AE(")&&-1===e.indexOf("C0BE(")&&-1===e.indexOf("B0AE(")?0!==e.indexOf("MS51")||-1===e.indexOf("B9AE(")&&-1===e.indexOf("B9BE(")?0===e.indexOf("MUG51")?"MUG51":0===e.indexOf("MS51IA9AE")?"MS51_8KDB":0===e.indexOf("MS51")&&-1!==e.indexOf("A9AE(")?"MS51_8K":0===e.indexOf("M0519")?"M0519":0===e.indexOf("M0515LDE")?"M0515LDE":0!==e.indexOf("M05")||-1===e.indexOf("DN(")&&-1===e.indexOf("DE(")?0===e.indexOf("MHC54ZDN")||0===e.indexOf("PL054TDN")?"M051DN_DE":0===e.indexOf("M05")&&-1!==e.indexOf("BN(")||0===e.indexOf("E32")?"M051BN":0===e.indexOf("M058S")?"M058S":0===e.indexOf("M05")&&-1!==e.indexOf("AN(")?"M051AN":0===e.indexOf("MINI57")?"MINI57":0===e.indexOf("MINI58")?"MINI58":0===e.indexOf("MINI5")&&-1!==e.indexOf("AN(")?"MINI51AN":0===e.indexOf("MINI5")&&-1!==e.indexOf("AE(")||0===e.indexOf("MINI54XFHC")||0===e.indexOf("MINI55")||0===e.indexOf("NVS06AL")?"MINI55":0===e.indexOf("MINI5")&&-1!==e.indexOf("DE(")||0===e.indexOf("MINI54FHC")?"MINI51DE":0===e.indexOf("NUC2201")?"NUC2201":0===e.indexOf("NUC2")&&-1!==e.indexOf("AN(")?"NUC200AN":0===e.indexOf("NUC2")&&-1!==e.indexOf("AE(")?"NUC200AE":0===e.indexOf("NUC029MDE")?"NUC029MDE":0===e.indexOf("NUC029KGE")?"NUC029KGE":0===e.indexOf("NUC029LDE")||0===e.indexOf("NUC029SDE")?"NUC029xDE":0===e.indexOf("NUC029LGE")||0===e.indexOf("NUC029SGE")?"NUC029xGE":0===e.indexOf("NUC029LEE")||0===e.indexOf("NUC029SEE")?"NUC029xEE":0===e.indexOf("NUC029TAE")?"NUC029TAE":0===e.indexOf("NUC029")&&-1!==e.indexOf("AE(")?"NUC029AE":0===e.indexOf("NUC029")&&-1!==e.indexOf("AN(")?"NUC029AN":0!==e.indexOf("NANO120")&&0!==e.indexOf("NANO100")||-1===e.indexOf("AN(")?0!==e.indexOf("NANO100")&&0!==e.indexOf("NANO110")&&0!==e.indexOf("NANO120")&&0!==e.indexOf("NANO130")||-1===e.indexOf("BN(")?0===e.indexOf("NANO103")&&-1!==e.indexOf("AE(")?"NANO103":0===e.indexOf("NANO1")&&-1!==e.indexOf("AN(")?"NANO112":0===e.indexOf("NM112")?"NM1120":0===e.indexOf("NM11")||0===e.indexOf("NM12")?"NM1200":0===e.indexOf("NM15")?"NM1500":0===e.indexOf("NUC121")||0===e.indexOf("NUC125")?"NUC121AE":0===e.indexOf("NUC122")&&-1!==e.indexOf("AN(")?"NUC122AN":0!==e.indexOf("NUC123")||-1===e.indexOf("AN0(")&&-1===e.indexOf("AN1(")?0!==e.indexOf("NUC123")||-1===e.indexOf("AE0(")&&-1===e.indexOf("AE1(")?0!==e.indexOf("NUC1")||-1===e.indexOf("AN(")&&-1===e.indexOf("BN(")?0===e.indexOf("NUC1")&&-1!==e.indexOf("CN(")?"NUC100CN":0===e.indexOf("NUC1")&&-1!==e.indexOf("DN(")?"NUC100DN":0===e.indexOf("NUC1311")?"NUC1311":0===e.indexOf("NUC13")?"NUC131":0===e.indexOf("NUC1261")?"NUC1261":0===e.indexOf("NUC1262")?"NUC1262":0===e.indexOf("NUC1263")?"NUC1263":0===e.indexOf("NUC126")?"NUC126":0===e.indexOf("NUC505")?"NUC505":0===e.indexOf("I91")?"ISD9100":0===e.indexOf("I93")?"ISD9300":0===e.indexOf("AX58200")?"AX58200":0===e.indexOf("MA35D1")?"MA35D1":0===e.indexOf("M55M1")?"M55M1":"NUC400":"NUC100AN_BN":"NUC123AE":"NUC123AN":"NANO100BN":"NANO100AN":"M051DN_DE":"MS51_16K":"MS51_32K"}function vi(){var e,i,n,t=[],o=[];for(i=0,n=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex].length;i<n;i+=1)e=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][i],NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&(code=parseInt(e.sliceAfterX("BP").slicePriorToX("."))+65,char=String.fromCharCode(code),e=e.replace(/BP[0-9]{1,}\./,"P"+char+".")),mi(e)&&t.push(e);if("M451HD"===l||"M451LD"===l||"M4521"===l||"NUC121AE"===l||"M0564"===l||"M05641"===l||0===l.indexOf("NUC126")||"M071QV"===l||"NUC029xGE"===l||"NUC029KGE"===l||"NUC400"===l||0===l.indexOf("M47")||"M480MD"===l||"M480LD"===l||"AX58200"===l||0===l.indexOf("M25")||"NDA102"===l||"M261"===l||0===l.indexOf("M235")||0===l.indexOf("M029")||0===l.indexOf("M030")||0===l.indexOf("M031")||0===l.indexOf("M091")||"NANO103"===l||"NUC505"===l||"NUC123AE"===l||"MA35D1"===l||0===l.indexOf("M2003"))for(i=0,n=t.length;i<n;i+=1)e=parseInt(t[i].sliceAfterX("."),10)<8?"G"+t[i].slicePriorToX(".")+"_MFPL":"G"+t[i].slicePriorToX(".")+"_MFPH",-1===$.inArray(e,o)&&o.push(e);else if("M0A21"===l||0===l.indexOf("M46")||0===l.indexOf("M2L31")||0===l.indexOf("M55M1"))for(i=0,n=t.length;i<n;i+=1)e="G"+t[i].slicePriorToX(".")+"_MFP"+Math.floor(parseInt(t[i].sliceAfterX("."),10)/4),-1===$.inArray(e,o)&&o.push(e);else if("NANO100AN"===l||"NANO100BN"===l||"NANO112"===l)for(i=0,n=t.length;i<n;i+=1)e=parseInt(t[i].sliceAfterX("."),10)<8?t[i].slicePriorToX(".")+"_L_MFP":t[i].slicePriorToX(".")+"_H_MFP",-1===$.inArray(e,o)&&o.push(e);else if("NM1500"===l||"M0519"===l||"M051DN_DE"===l||"M051BN"===l||"M051AN"===l||"M058S"===l||"MINI51AN"===l||"MINI51DE"===l||"MINI55"===l||"MINI58"===l||"NUC029AE"===l||"NUC029TAE"===l||"NUC029AN"===l||"NM1200"===l)for(i=0,n=t.length;i<n;i+=1)e=t[i].slicePriorToX(".")+"_MFP",-1===$.inArray(e,o)&&o.push(e);else if(0===l.indexOf("ML5")||0===l.indexOf("MS51")||0===l.indexOf("MUG51"))for(i=0,n=t.length;i<n;i+=1)e=t[i].slicePriorToX(".")+"MF76543210",-1===$.inArray(e,o)&&o.push(e);else if(0===l.indexOf("KM1M7AF")||0===l.indexOf("KM1M7BF"))for(i=0,n=t.length;i<n;i+=1)e="IO"+t[i].slicePriorToX(".")+"MD",-1===$.inArray(e,o)&&o.push(e);else if(0===l.indexOf("KM1M4BF")){for(i=0,n=t.length;i<n;i+=1)e="IO"+t[i].slicePriorToX(".")+"MD",-1===$.inArray(e,o)&&o.push(e);0===l.indexOf("KM1M4BF5")&&o.push("SELSWD")}else if(0===l.indexOf("KM1M7CF")){for(i=0,n=t.length;i<n;i+=1)e="IO"+t[i].slicePriorToX(".")+"MD",-1===$.inArray(e,o)&&o.push(e);for(i=0;i<14;i+=1)i<10?o.push("FPSA0"+i+"_SEL"):o.push("FPSA"+i+"_SEL");for(i=0;i<12;i+=1)i<10?o.push("FPSB0"+i+"_SEL"):o.push("FPSB"+i+"_SEL")}else for(i=0,n=t.length;i<n;i+=1)e="G"+t[i].slicePriorToX(".")+"_MFP",-1===$.inArray(e,o)&&o.push(e);for(i=0,n=(t=["ALT_MFP","ALT_MFP1","ALT_MFP2","ALT_MFP3","ALT_MFP4","ALT_MFP5","ALT_MFP6","ALT_MFP7","ALT_MFP8","ALT_MFP9"]).length;i<n;i+=1)e=t[i],void 0!==NUTOOL_PIN.g_cfg_regDescriptions[e]&&-1===$.inArray(e,o)&&o.push(e);for(i=0,n=o.length;i<n;i+=1)Ee[o[i]]=0;"MINI55"!==l&&"NM1200"!==l||(Ee.ADCHER=0,Ee.ADCR=0,Ee.PIN_SEL=0),t=[],e=null,i=null,n=null}function yi(e,i){var n,t,o,r,s,a,c,d,f,g=0,_=0,u=0,N=0,p="";if(NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&(code=parseInt(e.sliceAfterX("BP").slicePriorToX("."))+65,char=String.fromCharCode(code),e=e.replace(/BP[0-9]{1,}\./,"P"+char+".")),"NUC400"===l||"M451HD"===l||"M451LD"===l||"M4521"===l||"NUC505"===l||"NUC121AE"===l||"NUC123AE"===l||"NANO103"===l||0===l.indexOf("M47")||"M480MD"===l||"M480LD"===l||"AX58200"===l||0===l.indexOf("M25")||"NDA102"===l||"M261"===l||0===l.indexOf("M235")||0===l.indexOf("M029")||0===l.indexOf("M030")||0===l.indexOf("M031")||0===l.indexOf("M091")||"M0564"===l||"M05641"===l||0===l.indexOf("NUC126")||"M071QV"===l||"NUC029xGE"===l||"NUC029KGE"===l||"MA35D1"===l||0===l.indexOf("M2003"))n=e.slice(0,2),(a=parseInt(e.slice(3),10))<8&&(f=!0),f?(g=15<<4*a>>>0,t=(Ee[c="G"+n+"_MFPL"]&~g)>>>0,i=i<<4*a>>>0,Ee[c]=(t|i)>>>0):(g=15<<4*(a-8)>>>0,t=(Ee[d="G"+n+"_MFPH"]&~g)>>>0,i=i<<4*(a-8)>>>0,Ee[d]=(t|i)>>>0);else if("M0A21"===l||0===l.indexOf("M46")||0===l.indexOf("M2L31")||0===l.indexOf("M55M1"))n=e.slice(0,2),g=255<<8*((a=parseInt(e.slice(3),10))-4*(s=Math.floor(a/4)))>>>0,t=(Ee[c="G"+n+"_MFP"+s]&~g)>>>0,i=i<<8*(a-4*s)>>>0,Ee[c]=(t|i)>>>0;else if("MINI57"===l||"NM1120"===l)n=e.slice(0,2),g=15<<4*(a=parseInt(e.slice(3),10))>>>0,t=(Ee[c="G"+n+"_MFP"]&~g)>>>0,i=i<<4*a>>>0,Ee[c]=(t|i)>>>0;else if("NANO100AN"===l||"NANO100BN"===l||"NANO112"===l)n=e.slice(0,2),(a=parseInt(e.slice(3),10))<8&&(f=!0),f?(g=15<<4*a>>>0,t=(Ee[c=n+"_L_MFP"]&~g)>>>0,i=i<<4*a>>>0,Ee[c]=(t|i)>>>0):(g=15<<4*(a-8)>>>0,t=(Ee[d=n+"_H_MFP"]&~g)>>>0,i=i<<4*(a-8)>>>0,Ee[d]=(t|i)>>>0);else if(0===l.indexOf("ML5")||0===l.indexOf("MS51")||0===l.indexOf("MUG51"))n=e.slice(0,2),g=15<<4*(a=parseInt(e.slice(3),10))>>>0,t=(Ee[c=n+"MF76543210"]&~g)>>>0,i=i<<4*a>>>0,Ee[c]=(t|i)>>>0;else if(0===l.indexOf("KM1M7")||0===l.indexOf("KM1M4"))n=e.slice(0,2),g=15<<4*(a=parseInt(e.slice(3),10))>>>0,t=(Ee[c="IO"+n+"MD"]&~g)>>>0,i=i<<4*a>>>0,Ee[c]=(t|i)>>>0;else if("ISD9100"===l||"ISD9300"===l)n=e.slice(0,2),g=3<<2*(a=parseInt(e.slice(3),10))>>>0,t=(Ee[c="G"+n+"_MFP"]&~g)>>>0,i=i<<2*a>>>0,Ee[c]=(t|i)>>>0;else if("MINI55"===l||"NM1200"===l){for(_=0,o=NUTOOL_PIN.g_cfg_gpioMatrix.length;_<o;_+=1)if(e===NUTOOL_PIN.g_cfg_gpioMatrix[_].f[0]){for(u=1,r=NUTOOL_PIN.g_cfg_gpioMatrix[_].f.length;u<r;u+=1)n=(p=NUTOOL_PIN.g_cfg_gpioMatrix[_].f[u]).slicePriorToX("["),g=1<<(s=parseInt(p.slice(p.indexOf("[")+1,p.indexOf("]")),10))>>>0,N=0,i&1<<parseInt(p.sliceAfterX(":"),10)&&(N=1<<s>>>0),t=(Ee[n]&~g)>>>0,Ee[n]=(t|N)>>>0;break}"P3.2"===e&&1===i&&(Ee.PIN_SEL=0)}else for(_=0,o=NUTOOL_PIN.g_cfg_gpioMatrix.length;_<o;_+=1)if(e===NUTOOL_PIN.g_cfg_gpioMatrix[_].f[0]){for(u=1,r=NUTOOL_PIN.g_cfg_gpioMatrix[_].f.length;u<r;u+=1)n=(p=NUTOOL_PIN.g_cfg_gpioMatrix[_].f[u]).slicePriorToX("["),g=1<<(s=parseInt(p.slice(p.indexOf("[")+1,p.indexOf("]")),10))>>>0,N=0,i&1<<parseInt(p.sliceAfterX(":"),10)&&(N=1<<s>>>0),t=(Ee[n]&~g)>>>0,Ee[n]=(t|N)>>>0;break}n=null,g=null,t=null,_=null,u=null,o=null,r=null,s=null,N=null,p=null,a=null,c=null,d=null,f=null}function Di(e,i){var n,t,o,r=-1;return NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&(t=parseInt(e.sliceAfterX("BP").slicePriorToX("."))+65,o=String.fromCharCode(t),e=e.replace(/BP[0-9]{1,}\./,"P"+o+".")),e=e.replace("GP","P"),"M0519"===l||"M051DN_DE"===l||"M051BN"===l||"M051AN"===l||"M058S"===l||"MINI51AN"===l||"MINI51DE"===l||"MINI55"===l||"MINI58"===l||"NUC029AE"===l||"NUC029TAE"===l||"NUC029AN"===l||"NM1200"===l||"NM1500"===l?n=8*parseInt(e.slice(1,2),16)+parseInt(e.slice(3),10):0===l.indexOf("ML5")||0===l.indexOf("MS51")||0===l.indexOf("MUG51")?n=8*parseInt(e.slice(1,2),16)+i:0===l.indexOf("KM1M7")||0===l.indexOf("KM1M4")?(r=e.indexOf("P"),n=8*parseInt(e.slice(r+1,r+2),16)+i):n="MINI57"===l||"NM1120"===l||"M0A21"===l?8*(e.slice(1,2).charCodeAt(0)-"A".charCodeAt(0))+i:16*(e.slice(1,2).charCodeAt(0)-"A".charCodeAt(0))+i,n}function wi(e){var i,n,t,o,r,s,a,c,d,f,g,_,u,N,p,O,h,P,x,T=[],I=$("#moduleTree");if(s=a=parseInt(e.toLowerCase().slice(e.indexOf("0x")+2),16),"NUC400"===l||"M451HD"===l||"M451LD"===l||"M4521"===l||"NANO100AN"===l||"NANO100BN"===l||"NANO112"===l||"NUC505"===l||"NUC121AE"===l||"NUC123AE"===l||"NANO103"===l||0===l.indexOf("M47")||"M480MD"===l||"M480LD"===l||"AX58200"===l||0===l.indexOf("M25")||"M261"===l||0===l.indexOf("M235")||0===l.indexOf("M029")||0===l.indexOf("M030")||0===l.indexOf("M031")||0===l.indexOf("M091")||"M0564"===l||"M05641"===l||0===l.indexOf("NUC126")||"M071QV"===l||"NUC029xGE"===l||"NUC029KGE"===l||"MINI57"===l||"NM1120"===l||"NDA102"===l||"MA35D1"===l||0===l.indexOf("M2003"))for(x=-1===e.indexOf("MFPH")&&-1===e.indexOf("_H_MFP"),i=0;i<8;i+=1){if(d=(a&(c=15<<4*i>>>0))>>>4*i>>>0)if(f=x?i:i+8,g="P"+e.slice(e.indexOf("P")+1,e.indexOf("P")+2)+"."+f.toString(),NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&(code=g.charCodeAt(1)-65,g=g.replace(/P[A-Z]\./,"BP"+code+".")),-1!==(u=$.inArray(g,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]))){for(p="",N=Di(e,f),n=1,o=NUTOOL_PIN.g_cfg_gpios[N].f.length;n<o;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[N].f[n].indexOf(":"+d)){p=(p=NUTOOL_PIN.g_cfg_gpios[N].f[n]).slicePriorToX(":");break}if(""===p){s&=~c;continue}_=Ei(_=p),p=p.replaceSpecialCharacters(),-1!==_.indexOf("_")&&(_=_.slicePriorToX("_")),T[0]=u+1,I.jstree("check_node",$("#"+p+"_Pin"+(u+1))),$("#"+p+"_Pin"+(u+1)).hasClass("jstree-checked")||(I.jstree("open_node",$("#"+_+"_Root")),I.jstree("open_node",$("#"+p+"_Intermediate")),I.jstree("check_node",$("#"+p+"_Pin"+(u+1))))}else s&=~c;if(0===(a&=~c))break}else if("M0A21"===l||0===l.indexOf("M46")||0===l.indexOf("M2L31")||0===l.indexOf("M55M1"))for(P=parseInt(e.substr(7,1),10),i=0;i<4;i+=1){if(d=(a&(c=255<<8*i>>>0))>>>8*i>>>0)if(f=i+4*P,g="P"+e.slice(e.indexOf("P")+1,e.indexOf("P")+2)+"."+f.toString(),NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&(code=g.charCodeAt(1)-65,g=g.replace(/P[A-Z]\./,"BP"+code+".")),-1!==(u=$.inArray(g,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]))){for(p="",N=Di(e,f),n=1,o=NUTOOL_PIN.g_cfg_gpios[N].f.length;n<o;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[N].f[n].indexOf(":"+d)){p=(p=NUTOOL_PIN.g_cfg_gpios[N].f[n]).slicePriorToX(":");break}if(""===p){s&=~c;continue}_=Ei(_=p),p=p.replaceSpecialCharacters(),-1!==_.indexOf("_")&&(_=_.slicePriorToX("_")),T[0]=u+1,I.jstree("check_node",$("#"+p+"_Pin"+(u+1))),$("#"+p+"_Pin"+(u+1)).hasClass("jstree-checked")||(I.jstree("open_node",$("#"+_+"_Root")),I.jstree("open_node",$("#"+p+"_Intermediate")),I.jstree("check_node",$("#"+p+"_Pin"+(u+1))))}else s&=~c;if(0===(a&=~c))break}else if(0===l.indexOf("ML5")||0===l.indexOf("MS51")||0===l.indexOf("MUG51")||0===l.indexOf("KM1M7")||0===l.indexOf("KM1M4"))for(i=0;i<8;i+=1){if(d=(a&(c=15<<4*i>>>0))>>>4*i>>>0)if(f=i,g="P"+e.slice(e.indexOf("P")+1,e.indexOf("P")+2)+"."+f.toString(),NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&(code=g.charCodeAt(1)-65,g=g.replace(/P[A-Z]\./,"BP"+code+".")),-1!==(u=$.inArray(g,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]))){for(p="",N=Di(e,f),n=1,o=NUTOOL_PIN.g_cfg_gpios[N].f.length;n<o;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[N].f[n].indexOf(":"+d)){p=(p=NUTOOL_PIN.g_cfg_gpios[N].f[n]).slicePriorToX(":");break}if(""===p){s&=~c;continue}_=Ei(_=p),p=p.replaceSpecialCharacters(),-1!==_.indexOf("_")&&(_=_.slicePriorToX("_")),T[0]=u+1,I.jstree("check_node",$("#"+p+"_Pin"+(u+1))),$("#"+p+"_Pin"+(u+1)).hasClass("jstree-checked")||(I.jstree("open_node",$("#"+_+"_Root")),I.jstree("open_node",$("#"+p+"_Intermediate")),I.jstree("check_node",$("#"+p+"_Pin"+(u+1))))}else s&=~c;if(0===(a&=~c))break}else if("ISD9100"===l||"ISD9300"===l)for(i=0;i<16;i+=1){if(d=(a&(c=3<<2*i>>>0))>>>2*i>>>0)if(f=i,g="P"+e.slice(e.indexOf("P")+1,e.indexOf("P")+2)+"."+f.toString(),NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&(code=g.charCodeAt(1)-65,g=g.replace(/P[A-Z]\./,"BP"+code+".")),-1!==(u=$.inArray(g,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]))){for(N=Di(e,f),p="",n=1,o=NUTOOL_PIN.g_cfg_gpios[N].f.length;n<o;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[N].f[n].indexOf(":"+d)){p=(p=NUTOOL_PIN.g_cfg_gpios[N].f[n]).slicePriorToX(":");break}if(""===p){s&=~c;continue}_=Ei(_=p),p=p.replaceSpecialCharacters(),-1!==_.indexOf("_")&&(_=_.slicePriorToX("_")),T[0]=u+1,I.jstree("check_node",$("#"+p+"_Pin"+(u+1))),$("#"+p+"_Pin"+(u+1)).hasClass("jstree-checked")||(I.jstree("open_node",$("#"+_+"_Root")),I.jstree("open_node",$("#"+p+"_Intermediate")),I.jstree("check_node",$("#"+p+"_Pin"+(u+1))))}else s&=~c;if(0===(a&=~c))break}else for(i=0;i<32;i+=1){if(u=-1,d=(a&(c=1<<i>>>0))>>>i>>>0){for(O=e.slice(e.indexOf("P"),e.indexOf(":"))+"["+i+"]",n=0,o=NUTOOL_PIN.g_cfg_gpioMatrix.length;n<o;n+=1){for(t=1,r=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<r;t+=1)if(-1!==NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t].indexOf(O)){g=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[0],u=$.inArray(g,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]);break}if(-1!==u){for(d=0,t=1,r=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<r;t+=1)h=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t],c=1<<(P=parseInt(h.slice(h.indexOf("[")+1,h.indexOf("]")),10))>>>0,h.slicePriorToX("["),d+=((a&c)>>>P)*Math.pow(2,t-1),a&=~c;for(N=8*parseInt(g.slice(1,2),16)+parseInt(g.slice(3),10),p="",t=1,r=NUTOOL_PIN.g_cfg_gpios[N].f.length;t<r;t+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[N].f[t].indexOf(":"+d)){p=(p=NUTOOL_PIN.g_cfg_gpios[N].f[t]).slicePriorToX(":");break}if(""===p){for(t=1,r=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<r;t+=1)h=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t],s&=~(c=1<<(P=parseInt(h.slice(h.indexOf("[")+1,h.indexOf("]")),10))>>>0);continue}_=Ei(_=p),p=p.replaceSpecialCharacters(),-1!==_.indexOf("_")&&(_=_.slicePriorToX("_")),T[0]=u+1,I.jstree("check_node",$("#"+p+"_Pin"+(u+1))),$("#"+p+"_Pin"+(u+1)).hasClass("jstree-checked")||(I.jstree("open_node",$("#"+_+"_Root")),I.jstree("open_node",$("#"+p+"_Intermediate")),I.jstree("check_node",$("#"+p+"_Pin"+(u+1))));break}}-1===u&&(s&=~c)}if(0===a)break}return e=e.slice(0,e.indexOf("0x")+2)+Gi(s),null,i=null,n=null,null,null,o=null,s=null,a=null,c=null,d=null,f=null,g=null,_=null,T=[],u=null,N=null,p=null,I=null,O=null,h=null,null,P=null,e}function Fi(e){var i,n,t,o,r,s,a,c,d,f,g,_,u,N,p,O=parseInt(e.toLowerCase().slice(e.indexOf("0x")+2),16),h=[];if("NUC400"===l||"M451HD"===l||"M451LD"===l||"M4521"===l||"NANO100AN"===l||"NANO100BN"===l||"NANO112"===l||"NUC505"===l||"NUC121AE"===l||"NUC123AE"===l||"NANO103"===l||0===l.indexOf("M47")||"M480MD"===l||"M480LD"===l||"AX58200"===l||0===l.indexOf("M25")||"M261"===l||0===l.indexOf("M235")||0===l.indexOf("M029")||0===l.indexOf("M030")||0===l.indexOf("M031")||0===l.indexOf("M091")||"M0564"===l||"M05641"===l||0===l.indexOf("NUC126")||"M071QV"===l||"NUC029xGE"===l||"NUC029KGE"===l||"MINI57"===l||"NM1120"===l||"NDA102"===l||"MA35D1"===l||0===l.indexOf("M2003"))for(p=-1===e.indexOf("MFPH")&&-1===e.indexOf("_H_MFP"),n=0;n<8;n+=1)if((O&15<<4*n>>>0)>>>4*n>>>0,d=p?n:n+8,f="P"+e.slice(e.indexOf("P")+1,e.indexOf("P")+2)+"."+d.toString(),-1!==(u=$.inArray(f,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]))&&""!==ve[u]&&(g=(g=ve[u]+"_Pin"+(u+1)).replaceSpecialCharacters(),$("#moduleTree").jstree("uncheck_node",$("#"+g)),!$("#"+g).hasClass("jstree-unchecked")&&(_=Ei(g.slicePriorToX("_")),h[0]=u+1,fi(g,_,h),$("#"+g).addClass("jstree-unchecked"),void 0!==Re[_]))){for(i=0,r=Re[_].length;i<r;i+=1)if(Re[_][i]===g){Re[_][i]="";break}for(i=0,r=Re[_].length;i<r&&""===Re[_][i];i+=1)i===r-1&&$("#"+_+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}if("M0A21"===l||0===l.indexOf("M46")||0===l.indexOf("M2L31")||0===l.indexOf("M55M1")){for(c=parseInt(e.substr(-1),10),n=0;n<4;n+=1)if((O&255<<8*n>>>0)>>>8*n>>>0,d=n+4*c,f="P"+e.slice(e.indexOf("P")+1,e.indexOf("P")+2)+"."+d.toString(),-1!==(u=$.inArray(f,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]))&&""!==ve[u]&&(g=(g=ve[u]+"_Pin"+(u+1)).replaceSpecialCharacters(),$("#moduleTree").jstree("uncheck_node",$("#"+g)),!$("#"+g).hasClass("jstree-unchecked")&&(_=Ei(g.slicePriorToX("_")),h[0]=u+1,fi(g,_,h),$("#"+g).addClass("jstree-unchecked"),void 0!==Re[_]))){for(i=0,r=Re[_].length;i<r;i+=1)if(Re[_][i]===g){Re[_][i]="";break}for(i=0,r=Re[_].length;i<r&&""===Re[_][i];i+=1)i===r-1&&$("#"+_+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}}else if(0===l.indexOf("ML5")||0===l.indexOf("MS51")||0===l.indexOf("MUG51")||0===l.indexOf("KM1M7")||0===l.indexOf("KM1M4")){for(n=0;n<8;n+=1)if((O&15<<4*n>>>0)>>>4*n>>>0,d=n,f="P"+e.slice(e.indexOf("P")+1,e.indexOf("P")+2)+"."+d.toString(),-1!==(u=$.inArray(f,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]))&&""!==ve[u]&&(g=(g=ve[u]+"_Pin"+(u+1)).replaceSpecialCharacters(),$("#moduleTree").jstree("uncheck_node",$("#"+g)),!$("#"+g).hasClass("jstree-unchecked")&&(_=Ei(g.slicePriorToX("_")),h[0]=u+1,fi(g,_,h),$("#"+g).addClass("jstree-unchecked"),void 0!==Re[_]))){for(i=0,r=Re[_].length;i<r;i+=1)if(Re[_][i]===g){Re[_][i]="";break}for(i=0,r=Re[_].length;i<r&&""===Re[_][i];i+=1)i===r-1&&$("#"+_+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}}else if("ISD9100"===l||"ISD9300"===l){for(n=0;n<16;n+=1)if((O&3<<2*n>>>0)>>>2*n>>>0,d=n,f="P"+e.slice(e.indexOf("P")+1,e.indexOf("P")+2)+"."+d.toString(),-1!==(u=$.inArray(f,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]))&&""!==ve[u]&&(g=(g=ve[u]+"_Pin"+(u+1)).replaceSpecialCharacters(),$("#moduleTree").jstree("uncheck_node",$("#"+g)),!$("#"+g).hasClass("jstree-unchecked")&&(_=Ei(g.slicePriorToX("_")),h[0]=u+1,fi(g,_,h),$("#"+g).addClass("jstree-unchecked"),void 0!==Re[_]))){for(i=0,r=Re[_].length;i<r;i+=1)if(Re[_][i]===g){Re[_][i]="";break}for(i=0,r=Re[_].length;i<r&&""===Re[_][i];i+=1)i===r-1&&$("#"+_+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}}else for(n=0;n<32;n+=1)if(u=-1,(O&1<<n>>>0)>>>n>>>0)for(N=e.slice(e.indexOf("P"),e.indexOf(":"))+"["+n+"]",t=0,s=NUTOOL_PIN.g_cfg_gpioMatrix.length;t<s;t+=1){for(o=1,a=NUTOOL_PIN.g_cfg_gpioMatrix[t].f.length;o<a;o+=1)if(-1!==NUTOOL_PIN.g_cfg_gpioMatrix[t].f[o].indexOf(N)){f=NUTOOL_PIN.g_cfg_gpioMatrix[t].f[0],u=$.inArray(f,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]);break}if(-1!==u&&""!==ve[u]&&(g=(g=ve[u]+"_Pin"+(u+1)).replaceSpecialCharacters(),$("#moduleTree").jstree("uncheck_node",$("#"+g)),!$("#"+g).hasClass("jstree-unchecked")&&(_=Ei(g.slicePriorToX("_")),h[0]=u+1,fi(g,_,h),$("#"+g).addClass("jstree-unchecked"),void 0!==Re[_]))){for(i=0,r=Re[_].length;i<r;i+=1)if(Re[_][i]===g){Re[_][i]="";break}for(i=0,r=Re[_].length;i<r&&""===Re[_][i];i+=1)i===r-1&&$("#"+_+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}}i=null,n=null,t=null,r=null,s=null,O=null,c=null,d=null,f=null,g=null,_=null,h=[],u=null,N=null}function ji(e){var i;return i=e,0===e.indexOf("NUC1")?i="NUC100":0===e.indexOf("NUC2")?i="NUC200":0===e.indexOf("NANO1")?i="NANO100":0===e.indexOf("NDA102")?i="NDA102":0===e.indexOf("M0518")?i="M0518":0===e.indexOf("M0519")?i="M0519":0===e.indexOf("M0564")?i="M0564":0===e.indexOf("M029G")?i="M029G":0===e.indexOf("M030G")?i="M030G":0===e.indexOf("M091")?i="M091":0===e.indexOf("M030")||0===e.indexOf("M031")?i="M031":0===e.indexOf("M05")?i="M051":0===e.indexOf("M071")?i="M071":0===e.indexOf("MINI5")?i="MINI51":0===e.indexOf("M25")?i="M251":0===e.indexOf("M235")?i="M2351":0===e.indexOf("M45")?i="M451":0===e.indexOf("M466")?i="M466":0===e.indexOf("M46")?i="M460":0===e.indexOf("M48")?i="M480":0===e.indexOf("KM1M7AF")?i="KM1M7AF":0===e.indexOf("KM1M7BF")?i="KM1M7BF":0===e.indexOf("KM1M7CF")?i="KM1M7CF":0===e.indexOf("KM1M4BF")?i="KM1M4BF":0===e.indexOf("NUC029")?i="NUC029":0===e.indexOf("MS51")?i="MS51":0===e.indexOf("ML5")?i="ML51":0===e.indexOf("MUG51")?i="MUG51":0===e.indexOf("M2L31")?i="M2L31":0===e.indexOf("M55M1")?i="M55M1":0===e.indexOf("M2003C")&&(i="M2003C"),i}function Ei(e){var i,n;if(void 0===Ei.specialModuleNames)if(0===l.indexOf("MUG51")?Ei.specialModuleNames=["P0","P1","P2","P3","P4","P5","P6","P7","P8","P9"]:Ei.specialModuleNames=["PA","PB","PC","PD","PE","PF","PG","PH","PI","PI","PI","PJ","PK","PL","PM","PN","P0","P1","P2","P3","P4","P5","P6","P7","P8","P9"],"NUC400"===l)Ei.specialModuleNames.push("BRAKE"),Ei.specialModuleNames.push("INT"),Ei.specialModuleNames.push("TAMPER");else if(0===l.indexOf("M029G")||0===l.indexOf("M030G"))Ei.specialModuleNames.push("DAC"),Ei.specialModuleNames.push("INT");else if(0===l.indexOf("NUC1262")||0===l.indexOf("NUC1263"))Ei.specialModuleNames.push("LLSI"),Ei.specialModuleNames.push("INT");else if(0===l.indexOf("M0A21")||0===l.indexOf("M030")||0===l.indexOf("M031")||0===l.indexOf("M091")||0===l.indexOf("M2L31")||0===l.indexOf("MS51")||"M0564"===l||"M05641"===l||"M0515LDE"===l||"M071M"===l||"MINI58"===l||"NUC029KGE"===l||"NUC029xGE"===l||"NUC121AE"===l||0===l.indexOf("NUC126")||"M071QV"===l||"NUC1311"===l)Ei.specialModuleNames.push("INT");else if("NM1120"===l)Ei.specialModuleNames.push("TM");else if("MINI57"===l)Ei.specialModuleNames.push("TM"),Ei.specialModuleNames.splice(Ei.specialModuleNames.indexOf("PG"),1);else if("M0519"===l)Ei.specialModuleNames.push("TM"),Ei.specialModuleNames.push("INT");else if(0===l.indexOf("ML5"))Ei.specialModuleNames.push("TK"),Ei.specialModuleNames.push("INT");else if(0===l.indexOf("MUG51"))Ei.specialModuleNames.push("TK"),Ei.specialModuleNames.push("INT");else if("M451LD"===l||"M451HD"===l||"M4521"===l)Ei.specialModuleNames.push("TK"),Ei.specialModuleNames.push("INT"),Ei.specialModuleNames.push("TAMPER");else if(0===l.indexOf("M46")||0===l.indexOf("M47")||"M480MD"===l||"M480LD"===l||"M251"===l||"M253"===l||"M261"===l||"NDA102"===l||"M55M1"===l||0===l.indexOf("M235")||"AX58200"===l||0===l.indexOf("M2003"))Ei.specialModuleNames.push("INT"),Ei.specialModuleNames.push("TAMPER");else if(0===l.indexOf("KM1M7AF")||0===l.indexOf("KM1M7BF")||0===l.indexOf("KM1M4"))for(Ei.specialModuleNames.push("IRQ"),Ei.specialModuleNames.push("AD"),i=0,n=26;i<n;i+=1)i<10?Ei.specialModuleNames.push("TM0"+i):Ei.specialModuleNames.push("TM"+i);else if(0===l.indexOf("KM1M7CF"))for(Ei.specialModuleNames.push("IRQ"),Ei.specialModuleNames.push("CAN"),Ei.specialModuleNames.push("AD"),Ei.specialModuleNames.push("FPS"),Ei.specialModuleNames.push("RTC"),Ei.specialModuleNames.push("CLK"),Ei.specialModuleNames.push("OSC"),i=0,n=26;i<n;i+=1)i<10?Ei.specialModuleNames.push("TM0"+i):Ei.specialModuleNames.push("TM"+i);else"M256D"===l||"M258"===l||"M258G"===l?(Ei.specialModuleNames.push("INT"),Ei.specialModuleNames.push("LCD"),Ei.specialModuleNames.push("TAMPER")):"NANO100AN"===l?(Ei.specialModuleNames.push("ADC"),Ei.specialModuleNames.push("DA"),Ei.specialModuleNames.push("AD"),Ei.specialModuleNames.push("PWM0"),Ei.specialModuleNames.push("PWM1"),Ei.specialModuleNames.push("SC0"),Ei.specialModuleNames.push("SC1"),Ei.specialModuleNames.push("TC"),Ei.specialModuleNames.push("SPI"),Ei.specialModuleNames.push("I2C0"),Ei.specialModuleNames.push("I2C1"),Ei.specialModuleNames.push("I2S"),Ei.specialModuleNames.push("TMR"),Ei.specialModuleNames.push("TX"),Ei.specialModuleNames.push("RX")):"NANO100BN"===l?(Ei.specialModuleNames.push("ADC"),Ei.specialModuleNames.push("DA"),Ei.specialModuleNames.push("AD"),Ei.specialModuleNames.push("TC"),Ei.specialModuleNames.push("TM")):"NANO103"===l||"NANO112"===l?Ei.specialModuleNames.push("AD"):"NUC100AN_BN"===l||"NUC100CN"===l||"NUC100DN"===l?(Ei.specialModuleNames.push("INT"),Ei.specialModuleNames.push("ADC"),Ei.specialModuleNames.push("PWM"),Ei.specialModuleNames.push("I2C0"),Ei.specialModuleNames.push("I2C1"),Ei.specialModuleNames.push("TM"),Ei.specialModuleNames.push("TXD"),Ei.specialModuleNames.push("RXD"),Ei.specialModuleNames.push("RTS"),Ei.specialModuleNames.push("PS2"),Ei.specialModuleNames.push("SPI"),Ei.specialModuleNames.push("SC0"),Ei.specialModuleNames.push("SC1"),Ei.specialModuleNames.push("SC2"),Ei.specialModuleNames.push("nWR"),Ei.specialModuleNames.push("I2S"),Ei.specialModuleNames.push("CTS"),Ei.specialModuleNames.push("CP"),Ei.specialModuleNames.push("AD")):"NUC200AE"===l||"NUC200AN"===l?(Ei.specialModuleNames.push("PWM"),Ei.specialModuleNames.push("ADC"),Ei.specialModuleNames.push("INT"),Ei.specialModuleNames.push("AD")):"NUC2201"===l||"M071R1S"===l||"NUC029xEE"===l?(Ei.specialModuleNames.push("PWM"),Ei.specialModuleNames.push("ADC"),Ei.specialModuleNames.push("INT"),Ei.specialModuleNames.push("AD"),Ei.specialModuleNames.push("nWR")):0===l.indexOf("NUC131")||"M0518"===l||"NUC029xDE"===l||"NUC029MDE"===l?(Ei.specialModuleNames.push("ADC"),Ei.specialModuleNames.push("INT")):"NUC122AN"===l?Ei.specialModuleNames.push("PWM"):"NUC123AN"===l||"NUC123AE"===l?(Ei.specialModuleNames.push("ADC"),Ei.specialModuleNames.push("I2S")):"M051DN_DE"===l||"M051AN"===l||"M051BN"===l||"M058S"===l||"NUC029AE"===l||"NUC029TAE"===l||"NUC029AN"===l?(Ei.specialModuleNames.push("AD"),Ei.specialModuleNames.push("AIN"),Ei.specialModuleNames.push("SPI"),Ei.specialModuleNames.push("PWM"),Ei.specialModuleNames.push("T0"),Ei.specialModuleNames.push("T1"),Ei.specialModuleNames.push("T2"),Ei.specialModuleNames.push("T3"),Ei.specialModuleNames.push("nWR"),Ei.specialModuleNames.push("CTS"),Ei.specialModuleNames.push("RTS")):"MINI51AN"===l||"MINI51DE"===l||"MINI55"===l?(Ei.specialModuleNames.push("AIN"),Ei.specialModuleNames.push("PWM"),Ei.specialModuleNames.push("T0"),Ei.specialModuleNames.push("T1"),Ei.specialModuleNames.push("T2"),Ei.specialModuleNames.push("T3")):"NM1200"===l?(Ei.specialModuleNames.push("AIN"),Ei.specialModuleNames.push("PWM")):"NM1500"===l?(Ei.specialModuleNames.push("AINA"),Ei.specialModuleNames.push("AINB"),Ei.specialModuleNames.push("PWM"),Ei.specialModuleNames.push("INT"),Ei.specialModuleNames.push("TM")):"ISD9100"!==l&&"ISD9300"!==l||Ei.specialModuleNames.push("CMP");if(void 0!==e)for(i=0,n=Ei.specialModuleNames.length;i<n;i+=1)if(0===e.indexOf(Ei.specialModuleNames[i])){e=0!==e.indexOf("ADC")?Ei.specialModuleNames[i]:"ADC";break}return e}function Xi(){NUTOOL_PIN.g_pinFunctionString="",s="undefined"==typeof NUTOOL_PER?"NUC200AE"===l?'#include "NUC230_240.h"\n':"NUC200AN"===l?'#include "NUC200Series.h"\n':"NANO100AN"===l||"NANO100BN"===l?'#include "Nano100Series.h"\n':"NANO103"===l?'#include "Nano103.h"\n':"NANO112"===l?'#include "Nano1X2Series.h"\n':"NUC100AN_BN"===l||"NUC100CN"===l||"NUC100DN"===l?'#include "NUC100Series.h"\n':"NUC121AE"===l?'#include "NUC121.h"\n':"NUC122AN"===l?'#include "NUC122.h"\n':"NUC123AN"===l||"NUC123AE"===l?'#include "NUC123.h"\n':0===l.indexOf("M029G")?'#include "M029G.h"\n':0===l.indexOf("M030G")?'#include "M030G.h"\n':0===l.indexOf("M091")?'#include "M091Series.h"\n':0===l.indexOf("M030")||0===l.indexOf("M031")?'#include "M031Series.h"\n':0===l.indexOf("M256D")||0===l.indexOf("M258")||0===l.indexOf("M258G")?'#include "M251.h"\n':0===l.indexOf("M46")?'#include "NuMicro.h"\n':0===l.indexOf("M480")?'#include "M480.h"\n':0===l.indexOf("KM1M4")||0===l.indexOf("KM1M7")?'#include "NuMicro.h"\n':"NUC505"===l?'#include "NUC505Series.h"\n':"M051DN_DE"===l||"M051BN"===l||"M051AN"===l?'#include "M051Series.h"\n':"M451LD"===l||"M451HD"===l?'#include "M451Series.h"\n':"MINI51AN"===l?'#include "Mini51.h"\n':"MINI51DE"===l?'#include "Mini51Series.h"\n':"MINI55"===l?'#include "Mini55Series.h"\n':"MINI57"===l||"NM1120"===l?'#include "Mini57Series.h"\n':"MINI58"===l?'#include "Mini58Series.h"\n':"ML5156"===l||0===l.indexOf("ML51")||0===l.indexOf("ML56")?'#include "Function_Define_ML51.h"\n':0===l.indexOf("MUG51")?'#include "Function_Define_MUG51.h"\n':0===l.indexOf("MS51_8K")?'#include "MS51_8K.h"\n':"NUC029AN"===l||"NUC029TAE"===l?'#include "NUC029xAN.h"\n':"NUC029AE"===l?'#include "NUC029FAE.h"\n':"NUC029KGE"===l||"NUC029xGE"===l?'#include "NUC029xGE.h"\n':"NUC029xDE"===l?'#include "NUC029xDE.h"\n':"NUC029xEE"===l?'#include "NUC029xEE.h"\n':"NM1200"===l?'#include "Mini51.h"\n':"NM1500"===l?'#include "MT500Series.h"\n':"NUC400"===l?'#include "NUC472_442.h"\n':"M0515LDE"===l||"NDA102"===l||"M071M"===l||"M071QV"===l||"M071R1S"===l?'#include "NuMicro.h"\n':0===l.indexOf("MA35")?'#include "'+l.toLowerCase()+'.dtsi"\n':0===l.indexOf("M55M1")||0===l.indexOf("M2003")?'#include "NuMicro.h"\n':'#include "'+l+'.h"\n':'#include "NuCodeGenProj.h"\n'}function Bi(){var e,i,n,t,o,r,c,f,_,u,N,p,O,h,P,T,I,M,C,m,b,L,k=[],A=[],v=[],y=[],D=[],w="SYS->";if("undefined"!=typeof NUTOOL_PER&&Xi(),"h"!==NUTOOL_PIN.g_pinFunctionString&&"dtsi"!==NUTOOL_PIN.g_pinFunctionString||s.sliceAfterX(".")===NUTOOL_PIN.g_pinFunctionString||(s=s.slicePriorToX(".")+"."+NUTOOL_PIN.g_pinFunctionString+'"\n'),a="",0!==NUTOOL_PIN.g_cfg_gpiosDefines.length&&NUTOOL_PIN.g_cfg_gpiosDefines[0].f.length>1&&0===NUTOOL_PIN.g_cfg_gpiosDefines[0].f[1].indexOf("GPIO:GPIO_")&&(w=""),k=zi(Ee),"KM1M7CF"!==l&&k.sort(),0!==NUTOOL_PIN.g_cfg_gpiosDefines.length){if(-1===s.indexOf(".dtsi"))for(e=0,f=k.length;e<f;e+=1)je[k[e]]=Ee[k[e]],y[k[e]]=[];for(e=1;e<=S;e+=1)""!==ve[e-1]&&(T=e,P=ve[e-1],void 0===A[I=Ei(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][T-1])]?(A[I]=[],A[I][0]=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][T-1]+":"+P):A[I].push(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][T-1]+":"+P));for(e=0,f=(v=zi(A).sort(li)).length;e<f;e+=1)for(A[v[e]].sort(li),i=0,_=A[v[e]].length;i<_;i+=1)for(C=M=A[v[e]][i],M=M.slicePriorToX(":"),(C=C.sliceAfterX(":"))===M&&(C="GPIO"),t=0,N=NUTOOL_PIN.g_cfg_gpiosDefines.length;t<N;t+=1)if(M===NUTOOL_PIN.g_cfg_gpiosDefines[t].f[0]){for(o=1,p=NUTOOL_PIN.g_cfg_gpiosDefines[t].f.length;o<p;o+=1)if(0===NUTOOL_PIN.g_cfg_gpiosDefines[t].f[o].indexOf(C+":")){L=NUTOOL_PIN.g_cfg_gpiosDefines[t].f[o];do{for(-1===L.indexOf("/")?(m=L,L=""):(m=L.slicePriorToX("/"),L=L.sliceAfterX("/")),b=m,m=-1===s.indexOf(".dtsi")?m.sliceAfterX("@").slicePriorToX("%"):m.sliceAfterX("@").sliceAfterX("%"),b=-1===b.indexOf(":")?b.slicePriorToX("@"):b.slice(b.indexOf(":")+1,b.indexOf("@")),";"===m.slice(-1)&&(m=m.slice(0,-1)),n=0,u=(D=m.split(";")).length;n<u;n+=1)void 0===y[m=D[n].trim()]&&(y[m]=[]),y[m].push(b);if("KM1M7CF"===l){var F,j,E=NUTOOL_PIN.g_cfg_gpiosDefines[t].f[o].slicePriorToX(":");for(r=0,O=NUTOOL_PIN.g_cfg_gpios_FPS_mapping.length;r<O;r+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPS_mapping[r].indexOf(M)){F=NUTOOL_PIN.g_cfg_gpios_FPS_mapping[r].sliceAfterX(":");break}if(null!=F){if(-1!==F.indexOf("FPSA"))for(c=0,h=NUTOOL_PIN.g_cfg_gpios_FPSA_defines.length;c<h;c+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPSA_defines[c].slicePriorToX(":").indexOf(E)){void 0===y[j=F+"_SEL"]&&(y[j]=[]),y[j].push(NUTOOL_PIN.g_cfg_gpios_FPSA_defines[c].sliceAfterX(":"));break}if(-1!==F.indexOf("FPSB"))for(c=0,h=NUTOOL_PIN.g_cfg_gpios_FPSB_defines.length;c<h;c+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPSB_defines[c].slicePriorToX(":").indexOf(E)){void 0===y[j=F+"_SEL"]&&(y[j]=[]),y[j].push(NUTOOL_PIN.g_cfg_gpios_FPSB_defines[c].sliceAfterX(":"));break}}}}while(""!==L);break}break}if(0===l.indexOf("ML5")||0===l.indexOf("MUG51")){for(e=0,f=k.length;e<f;e+=1)a+="    //"+w+k[e]+" = 0x"+Gi(Ee[k[e]]).toUpperCase()+"UL;\n";for(a+="\n","undefined"==typeof NUTOOL_PER&&(a+="    /* If the macros do not exist in your project, please refer to the corresponding header file in Header folder of the tool package */\n"),d="",e=0,f=k.length;e<f;e+=1)if(y[k[e]].length>0)for(i=y[k[e]].length-1;i>=0;i-=1)a+="    "+y[k[e]][i]+";\n",d=d+"    "+y[k[e]][i]+";"}else if(0===l.indexOf("MS51")){for(e=0,f=k.length;e<f;e+=1)a+="    //"+w+k[e]+" = 0x"+Gi(Ee[k[e]]).toUpperCase()+"UL;\n";for(a+="\n","undefined"==typeof NUTOOL_PER&&(a+="    /* If the macros do not exist in your project, please refer to the corresponding header file in Header folder of the tool package */\n"),d="",e=0,f=k.length;e<f;e+=1)if(y[k[e]].length>0)for(i=0,_=y[k[e]].length;i<_;i+=1)for(t=0,N=(D=y[k[e]][i].split(";")).length;t<N;t+=1)""!==D[t]&&("NULL"!==D[t].toString().toUpperCase()&&(a+="    "+D[t]+";\n"),d=d+"    "+D[t]+";")}else if(0===l.indexOf("KM1M7AF")||0===l.indexOf("KM1M7BF")){for(e=0,f=k.length;e<f;e+=1)a+="    //"+w+"GPIO_MD(0x"+k[e][3]+")->IOPnMD = 0x"+Gi(Ee[k[e]]).toUpperCase()+"UL;\n";for(a+="\n","undefined"==typeof NUTOOL_PER&&(a+="    /* If the macros do not exist in your project, please refer to the corresponding header file in Header folder of the tool package */\n"),d="",e=0,f=k.length;e<f;e+=1)if(y[k[e]].length>0)for(a+="    "+w+"GPIO_MD(0x"+k[e][3]+")->IOPnMD = ",d=d+"    "+w+"GPIO_MD(0x"+k[e][3]+")->IOPnMD = ",i=y[k[e]].length-1;i>=0;i-=1)0!==i?(a+=y[k[e]][i]+" | ",d=d+y[k[e]][i]+" | "):(a+=y[k[e]][i]+";\n",d=d+y[k[e]][i]+";");else a+="    "+w+"GPIO_MD(0x"+k[e][3]+")->IOPnMD = 0x00000000;\n"}else if(0===l.indexOf("KM1M4BF")){for(e=0,f=k.length;e<f;e+=1)-1!==k[e].indexOf("IOP")?a+="    //"+w+"GPIO_MD"+k[e][3]+"->IOPnMD = 0x"+Gi(Ee[k[e]]).toUpperCase()+"UL;\n":a+="    //"+w+"DBG->SELSWD = 0x"+Gi(Ee[k[e]]).toUpperCase().slice(-2)+"UL;\n";for(a+="\n","undefined"==typeof NUTOOL_PER&&(a+="    /* If the macros do not exist in your project, please refer to the corresponding header file in Header folder of the tool package */\n"),d="",e=0,f=k.length;e<f;e+=1)if(-1!==k[e].indexOf("IOP"))if(y[k[e]].length>0)for(a+="    "+w+"GPIO_MD"+k[e][3]+"->IOPnMD = ",d=d+"    "+w+"GPIO_MD"+k[e][3]+"->IOPnMD = ",i=y[k[e]].length-1;i>=0;i-=1)0!==i?(a+=y[k[e]][i]+" | ",d=d+y[k[e]][i]+" | "):(a+=y[k[e]][i]+";\n",d=d+y[k[e]][i]+";");else a+="    "+w+"GPIO_MD"+k[e][3]+"->IOPnMD = 0x00000000;\n";else 0==Gi(Ee[k[e]])?a+="    "+w+"DBG->SELSWD = DEBUG_INTERFACE_DISABLE;\n":a+="    "+w+"DBG->SELSWD = DEBUG_INTERFACE_ENABLE;\n"}else if(0===l.indexOf("KM1M7CF")){for(e=0,f=k.length;e<f;e+=1)-1!==k[e].indexOf("IOP")?a+="    //"+w+"GPIO_MD"+k[e][3]+"->IOPnMD = 0x"+Gi(Ee[k[e]]).toUpperCase()+"UL;\n":a+="    //"+w+k[e].slicePriorToX("_")+"->FPS"+k[e][3]+"n_SEL = 0x"+Gi(Ee[k[e]]).toUpperCase()+"UL;\n";for(a+="\n","undefined"==typeof NUTOOL_PER&&(a+="    /* If the macros do not exist in your project, please refer to the corresponding header file in Header folder of the tool package */\n"),d="",e=0,f=k.length;e<f;e+=1)if(-1!==k[e].indexOf("IOP"))if(y[k[e]].length>0)for(a+="    "+w+"GPIO_MD"+k[e][3]+"->IOPnMD = ",d=d+"    "+w+"GPIO_MD"+k[e][3]+"->IOPnMD = ",i=y[k[e]].length-1;i>=0;i-=1)0!==i?(a+=y[k[e]][i]+" | ",d=d+y[k[e]][i]+" | "):(a+=y[k[e]][i]+";\n",d=d+y[k[e]][i]+";");else a+="    "+w+"GPIO_MD"+k[e][3]+"->IOPnMD = 0x00000000;\n";else if(y[k[e]].length>0)for(a+="    "+w+k[e].slicePriorToX("_")+"->FPS"+k[e][3]+"n_SEL = ",d=d+"    "+w+k[e].slicePriorToX("_")+"->FPS"+k[e][3]+"n_SEL = ",i=y[k[e]].length-1;i>=0;i-=1)0!==i?(a+=y[k[e]][i]+" | ",d=d+y[k[e]][i]+" | "):(a+=y[k[e]][i]+";\n",d=d+y[k[e]][i]+";");else a+="    "+w+k[e].slicePriorToX("_")+"->FPS"+k[e][3]+"n_SEL = 0x00000000;\n"}else if(-1!==s.indexOf(".dtsi")){for(a+='/ {\n    model = "Nuvoton '+l+'";\n};\n\n',d="",(k=zi(y)).sort(),e=0,f=k.length;e<f;e+=1)C=k[e].toLowerCase(),a+="&"+C+' {\n    pinctrl-names = "default";\n    pinctrl-0 = <&pinctrl_'+C+">;\n};\n\n";for(a+="&pinctrl {\n",e=0,f=k.length;e<f;e+=1){for(b=0,i=0,_=y[k[e]].length;i<_;i+=1)y[k[e]][i].length>b&&(b=y[k[e]][i].length);for(b+=1,C=k[e].toLowerCase(),a+="    "+C+" {\n        pinctrl_"+C+": "+C+"grp {\n            nuvoton,pins =\n",d+="    "+C+" {\n        pinctrl_"+C+": "+C+"grp {\n            nuvoton,pins =\n",i=0,_=y[k[e]].length;i<_;i+=1){for(a+="                <"+y[k[e]][i],d+="                <"+y[k[e]][i],t=0,N=b-y[k[e]][i].length;t<N;t+=1)a+=" ",d+=" ";a+="&pcfg_default>",d+="&pcfg_default>",i!==_-1?(a+=",\n",d+=",\n"):(a+=";\n",d+=",\n")}a+=e!==f-1?"        };\n    };\n\n":"        };\n    };\n"}a+="};\n\n"}else{for(e=0,f=k.length;e<f;e+=1)a+="    //"+w+k[e]+" = 0x"+Gi(Ee[k[e]]).toUpperCase()+"UL;\n";for(a+="\n","undefined"==typeof NUTOOL_PER&&(a+="    /* If the macros do not exist in your project, please refer to the corresponding header file in Header folder of the tool package */\n"),d="",e=0,f=k.length;e<f;e+=1)if(y[k[e]].length>0)for(a+="    "+w+k[e]+" = ",d=d+"    "+w+k[e]+" = ",i=y[k[e]].length-1;i>=0;i-=1)0!==i?(a+=y[k[e]][i]+" | ",d=d+y[k[e]][i]+" | "):(a+=y[k[e]][i]+";\n",d=d+y[k[e]][i]+";");else a+="    "+w+k[e]+" = 0x00000000;\n"}}else{for(e=0,f=k.length;e<f;e+=1)a+="    "+w+k[e]+" = 0x"+Gi(Ee[k[e]]).toUpperCase()+"UL;\n";$("#NUC_PinConfiguration_Canvas")[0].setAttribute("innerHTML","")}for(g="",e=1;e<=S;e+=1)""!==ve[e-1]?g+="Pin"+Qi(e)+":"+qi(ve[e-1])+"\n":(P=(P=$e[e-1].slice($e[e-1].indexOf(Ae[e-1]))).slicePriorToX("/"),g+="Pin"+Qi(e)+":"+P+"\n");for(P in x="/* User-defined pins */\n",He)He.hasOwnProperty(P)&&""!==He[P].trim()&&(Ci((b=He[P].replace(/\s/g,"_").replace(/[`~!@#$%^&*()|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"_").toUpperCase()).charAt(0))&&(b="_"+b),x+="#define "+b+" "+P.replace(/[.]/g,"").replace(/\s/g,"_").replace(/[`~!@#$%^&*()|+\-=?;:'",<>\{\}\[\]\\\/]/gi,"_")+"\n");"/* User-defined pins */\n"===x&&(x=""),U||("STADC"===C&&""===d&&(d="We do not Have the Define for STADC;"),$("#NUC_PinConfiguration_Canvas")[0].setAttribute("innerHTML",d))}function Ri(){var e,i,n,t,o,r,d,g,_,u,N,p,O,h,P,T,I,M,C,m,U,b,L,k,$,A=[],v=[],y=[],D="",w=[],F=[],j="SYS->",E=localStorage.getItem("ProjectName");for(O=function(e,i,n){return $=!1,(-1!==e.indexOf("_"+i)||-1!==e.indexOf(i+":")||0===e.indexOf(i+"_")||-1!==e.indexOf(","+i+"_")||-1!==e.lastIndexOf(i)&&e.lastIndexOf(i)+i.length===e.length||"GPIO"===i&&-1!==e.indexOf("_MFP_G"+n)||0===e.indexOf(i)&&-1!==e.indexOf("_FPS"))&&($=!0),"GPIO"===i&&-1===e.indexOf("SYS_G"+n)&&-1===e.indexOf("SYS_MFP_"+n)&&-1===e.indexOf("SYS_"+n)&&-1===e.indexOf("MD_"+n)&&-1===e.indexOf("GPIO_"+n)&&($=!1),$},h=function(e){return 0===e.indexOf("SYS_MFP")?e.substring(0,11)+"_Msk":0===e.indexOf("SYS_GP")&&-1!==e.indexOf("_MFP_")?-1===e.indexOf("_MFPL_")&&-1===e.indexOf("_MFPH_")?e.substring(0,15)+"_Msk":e.slicePriorToX("MFP_")+"MFP_Msk":-1===e.indexOf("SYS_GP")&&e.indexOf("_MFP_")!==e.lastIndexOf("_MFP_")?e.substring(0,e.lastIndexOf("_MFP_")+5)+"Msk":0===e.indexOf("GPIO_IO")?e.substring(0,e.lastIndexOf("MD_")+3)+"Msk":0===e.indexOf("GPIO_P")?"GPIO_MD_IOPnMD_Pn"+e.substring(7,e.lastIndexOf("GPIO_P")+8)+"MD_Msk":0===e.indexOf("GPIO_FPS")?"":e.slicePriorToX("MFP_")+"MFP_Msk"},0!==NUTOOL_PIN.g_cfg_gpiosDefines.length&&NUTOOL_PIN.g_cfg_gpiosDefines[0].f.length>1&&0===NUTOOL_PIN.g_cfg_gpiosDefines[0].f[1].indexOf("GPIO:GPIO_")&&(j=""),"undefined"!=typeof NUTOOL_PER&&Xi(),"h"!==NUTOOL_PIN.g_pinFunctionString&&"dtsi"!==NUTOOL_PIN.g_pinFunctionString||s.sliceAfterX(".")===NUTOOL_PIN.g_pinFunctionString||(s=s.slicePriorToX(".")+"."+NUTOOL_PIN.g_pinFunctionString+'"\n'),(A=zi(Ee)).sort(),e=0,o=A.length;e<o;e+=1)je[A[e]]=Ee[A[e]],F[A[e]]=[];for(e=1;e<=S;e+=1)""!==ve[e-1]&&(N=e,_=ve[e-1],void 0===v[p=Ei(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][N-1])]?(v[p]=[],v[p][0]=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][N-1]+":"+_):v[p].push(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][N-1]+":"+_));for(e=0,o=(w=zi(v).sort(li)).length;e<o;e+=1)for(v[w[e]].sort(li),i=0,r=v[w[e]].length;i<r;i+=1){for(T=P=v[w[e]][i],P=P.slicePriorToX(":"),u=Ei((T=T.sliceAfterX(":")).slicePriorToX("_")).toString(),-1===y.indexOf(u)&&y.push(u),T===P&&(T="GPIO"),n=0,d=NUTOOL_PIN.g_cfg_gpiosDefines.length;n<d;n+=1)if(P===NUTOOL_PIN.g_cfg_gpiosDefines[n].f[0]){for(t=1,g=NUTOOL_PIN.g_cfg_gpiosDefines[n].f.length;t<g;t+=1)if(0===NUTOOL_PIN.g_cfg_gpiosDefines[n].f[t].indexOf(T+":")){U=NUTOOL_PIN.g_cfg_gpiosDefines[n].f[t];do{-1===U.indexOf("/")?(I=U,U=""):(I=U.slicePriorToX("/"),U=U.sliceAfterX("/")),m=I,I=I.sliceAfterX("@").slicePriorToX("%"),-1===m.indexOf(":")||(T=m.slicePriorToX(":")),m=m.slicePriorToX("@"),void 0!==F[I]&&F[I].push(m)}while(""!==U);break}break}if(0===l.indexOf("KM1M7CF")){for(n=0,d=NUTOOL_PIN.g_cfg_gpios_FPS_mapping.length;n<d;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPS_mapping[n].slicePriorToX(":").indexOf(P)){M=NUTOOL_PIN.g_cfg_gpios_FPS_mapping[n].sliceAfterX(":")+"_SEL";break}if(null!=M){if(-1!==M.indexOf("FPSA")){for(n=0,d=NUTOOL_PIN.g_cfg_gpios_FPSA_defines.length;n<d;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPSA_defines[n].slicePriorToX(":").indexOf(T)){C=NUTOOL_PIN.g_cfg_gpios_FPSA_defines[n];break}}else if(-1!==M.indexOf("FPSB"))for(n=0,d=NUTOOL_PIN.g_cfg_gpios_FPSB_defines.length;n<d;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPSB_defines[n].slicePriorToX(":").indexOf(T)){C=NUTOOL_PIN.g_cfg_gpios_FPSB_defines[n];break}null!=C&&void 0!==F[M]&&F[M].push(C)}}}for(y.sort(li),a="",f="",n=0,d=y.length;n<d;n+=1){for(D=mi(y[n]+".0")?"GPIO":y[n],b="void "+E+"_init_"+y[n].toLowerCase()+"(void)\n{\n",k=!1,e=0,o=A.length;e<o;e+=1)if(F[A[e]].length>0&&O(F[A[e]].join(),D,y[n])){for(L=!1,k=!0,b+="    "+j+A[e]+" &= ~(",f+="    "+j+A[e]+" &= ~(",i=F[A[e]].length-1;i>=0;i-=1)O(F[A[e]][i],D,y[n])&&(L&&(b+=" | ",f+=" | "),b+=h(m=F[A[e]][i].sliceAfterX(":")),f+=h(m),L=!0);for(b+=");\n",f+=");<br />",L=!1,b+="    "+j+A[e]+" |= (",f+="    "+j+A[e]+" |= (",i=F[A[e]].length-1;i>=0;i-=1)O(F[A[e]][i],D,y[n])&&(L&&(b+=" | ",f+=" | "),b+=m=F[A[e]][i].sliceAfterX(":"),f+=m,L=!0);b+=");\n",f+=");<br />"}for(b+="\n    return;\n}\n\n",k?a+=b:f+=y[n]+" did not generate modularized code!!<br />",b="void "+E+"_deinit_"+y[n].toLowerCase()+"(void)\n{\n",k=!1,e=0,o=A.length;e<o;e+=1)if(F[A[e]].length>0&&O(F[A[e]].join(),D,y[n])){for(L=!1,k=!0,b+="    "+j+A[e]+" &= ~(",i=F[A[e]].length-1;i>=0;i-=1)O(F[A[e]][i],D,y[n])&&(L&&(b+=" | "),b+=h(m=F[A[e]][i].sliceAfterX(":")),L=!0);b+=");\n"}b+="\n    return;\n}\n\n",k&&(a+=b)}for("undefined"==typeof NUTOOL_PER?a+="void "+E+"_init(void)\n{\n":a+="void Pin_Init(void)\n{\n",e=0,o=A.length;e<o;e+=1)a+="    //"+j+A[e]+" = 0x"+Gi(Ee[A[e]]).toUpperCase()+"UL;\n";for(a+="\n",e=0,o=y.length;e<o;e+=1)a+="    "+E+"_init_"+y[e].toLowerCase()+"();\n";for(a+="\n    return;\n}\n\n","undefined"==typeof NUTOOL_PER?a+="void "+E+"_deinit(void)\n{\n":a+="void Pin_Deinit(void)\n{\n",e=0,o=y.length;e<o;e+=1)a+="    "+E+"_deinit_"+y[e].toLowerCase()+"();\n";for(a+="\n    return;\n}",c="",e=0,o=y.length;e<o;e+=1)c+="void "+E+"_init_"+y[e].toLowerCase()+"(void);\n",c+="void "+E+"_deinit_"+y[e].toLowerCase()+"(void);\n";for(_ in"undefined"==typeof NUTOOL_PER?(c+="void "+E+"_init(void);\n",c+="void "+E+"_deinit(void);\n"):(c+="void Pin_Init(void);\n",c+="void Pin_Deinit(void);\n"),x="/* User-defined pins */\n",He)He.hasOwnProperty(_)&&""!==He[_].trim()&&(Ci((m=He[_].replace(/\s/g,"_").replace(/[`~!@#$%^&*()|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"_").toUpperCase()).charAt(0))&&(m="_"+m),x+="#define "+m+" "+_.replace(/[.]/g,"").replace(/\s/g,"_").replace(/[`~!@#$%^&*()|+\-=?;:'",<>\{\}\[\]\\\/]/gi,"_")+"\n");"/* User-defined pins */\n"===x&&(x=""),A=null,v=null,y=null,w=null,F=null,gpio_MFPsDefine=null}function Gi(e,i){var n=Number(e).toString(16);for(i=null==i?i=8:i;n.length<i;)n="0"+n;return n}function Ki(){var e,i,n,r,s,a,c,d=[],f=[],g={},_=$("#mfpTree"),u=0;for(d=zi(Ee),"KM1M7CF"!==l&&d.sort(),e=0,n=d.length;e<n;e+=1)u<d[e].length&&(u=d[e].length);for(e=0,n=d.length;e<n;e+=1){if(s={},a={},(c=d[e]).length<u)for(i=0,r=u-c.length;i<r;i+=1)c+=T;a.id=d[e],s.data=c+":0x"+Gi(Ee[d[e]]),s.attr=a,f[e]=s}(a={}).id="mfp_tree",Ti(),g.data="Simplified Chinese"===ge?"MFP寄存器":"Traditional Chinese"===ge?"MFP暫存器":"MFP Registers",g.attr=a,g.state="open",g.children=f,le=18*zi(Ee).length+20>oe/3?oe/3:18*zi(Ee).length+20,0===_.length&&($("#rootTree_Pin")[0].appendChild(Hi("div","mfpTree","Loading...")),_=$("#mfpTree"),$("#ChipType").hover((function(){$(this).css("background-color","#FAFAFA"),Vi()}),(function(){$(this).css("background-color","#FFFFFF")})),$("#MCU").hover((function(){$(this).css("background-color","#FAFAFA"),Vi()}),(function(){$(this).css("background-color","#FFFFFF")}))),_[0].setAttribute("style","background-color: #FFFFFF; float:left; overflow-y: scroll; width:"+X+"px; height: "+le+"px; border-bottom: 5px solid #F2F2F2;"),-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?Qe?_.hover((function(){$(this).css("background-color","#FAFAFA"),Vi(),$("#pin_side_0").show(),$("#NUC_PinConfiguration_Canvas_Lining").hide()}),(function(){$(this).css("background-color","#FFFFFF"),$("#pin_side_0").hide(),$("#NUC_PinConfiguration_Canvas_Lining").show()})):_.hover((function(){$(this).css("background-color","#FAFAFA"),Vi(),$("#pin_side_0").css("opacity","0.8"),$("#NUC_PinConfiguration_Canvas_Lining").css("opacity","0")}),(function(){$(this).css("background-color","#FFFFFF"),$("#pin_side_0").css("opacity","0.1"),$("#NUC_PinConfiguration_Canvas_Lining").css("opacity","1")})):_.hover((function(){$(this).css("background-color","#FAFAFA"),Vi()}),(function(){$(this).css("background-color","#FFFFFF")})),_.jstree({json_data:{data:g},themes:{theme:"default",icons:!1},core:{animation:0},plugins:["themes","json_data","ui","crrm"]}).bind("hover_node.jstree",(function(e,i){var n=i.rslt.obj.attr("id").slicePriorToX(":"),l="";t&&NUTOOL_PIN.g_cfg_regDescriptions.hasOwnProperty(n)&&(-1===NUTOOL_PIN.g_cfg_regDescriptions[n].indexOf("nonexistent")&&(l="Simplified Chinese"===ge||"Traditional Chinese"===ge?"位址: ":"Address: "),Vn(n,l+=NUTOOL_PIN.g_cfg_regDescriptions[n],"right"))})).bind("dblclick.jstree",(function(e){var i=$(e.target).closest("li")[0].id;"mfp_tree"!==i&&void 0===Ee.ALT_MFP&&"MINI55"!==l&&"NM1200"!==l&&_.jstree("rename",$("#"+i))})).bind("rename.jstree",(function(e,i){var n,t,o=i.rslt.obj.attr("id"),r=i.rslt.old_name,s=i.rslt.new_name;n=s,t=!1,"NANO100AN"===l||"NANO100BN"===l||"NANO112"===l?8===n.slice(n.toLowerCase().indexOf("0x")+2).length&&0===n.toLowerCase().indexOf("p")&&4===n.toLowerCase().lastIndexOf("_mfp")&&8===n.toLowerCase().lastIndexOf(":0x")&&(t=!0):"NM1500"===l||"M0519"===l||"M051DN_DE"===l||"M051BN"===l||"M051AN"===l||"M058S"===l||"MINI51AN"===l||"MINI51DE"===l||"MINI55"===l||"MINI58"===l||"NUC029AE"===l||"NUC029TAE"===l||"NUC029AN"===l||"NM1200"===l?8===n.slice(n.toLowerCase().indexOf("0x")+2).length&&0===n.toLowerCase().indexOf("p")&&2===n.toLowerCase().lastIndexOf("_mfp")&&6===n.toLowerCase().lastIndexOf(":0x")&&(t=!0):0===l.indexOf("ML5")||0===l.indexOf("MS51")||0===l.indexOf("MUG51")?8===n.slice(n.toLowerCase().indexOf("0x")+2).length&&0===n.toLowerCase().lastIndexOf("p")&&2===n.toLowerCase().lastIndexOf("mf")&&12===n.toLowerCase().lastIndexOf(":0x")&&(t=!0):0===l.indexOf("KM1M7CF")?(8===n.slice(n.toLowerCase().indexOf("0x")+2).length&&0===n.toLowerCase().lastIndexOf("iop")&&4===n.toLowerCase().lastIndexOf("md")||0===n.toLowerCase().lastIndexOf("fps")&&6===n.toLowerCase().lastIndexOf("_sel"))&&(t=!0):0===l.indexOf("KM1M7AF")||0===l.indexOf("KM1M7BF")||0===l.indexOf("KM1M4BF")?8===n.slice(n.toLowerCase().indexOf("0x")+2).length&&0===n.toLowerCase().lastIndexOf("iop")&&4===n.toLowerCase().lastIndexOf("md")&&6===n.toLowerCase().lastIndexOf(":0x")&&(t=!0):8!==n.slice(n.toLowerCase().indexOf("0x")+2).length||0!==n.toLowerCase().lastIndexOf("gp")||3!==n.toLowerCase().lastIndexOf("_mfp")||7!==n.toLowerCase().lastIndexOf(":0x")&&8!==n.toLowerCase().lastIndexOf(":0x")||(t=!0),t?(Fi(r),s=wi(s),Wi()):_.jstree("rename_node",$("#"+o),r)})).bind("destroy.jstree",(function(){e=null,i=null,n=null,r=null,d=[],f=[],s=null,g=null,a=null,_=null,u=null,c=null})),_.css("font-size","16px"),_.css("font-family",'Monaco, Consolas, "Lucida Console", monospace;')}function Wi(){var e,i,n,t,l,o=[],r=0;for(e=0,n=(o=zi(Ee)).length;e<n;e+=1)r<o[e].length&&(r=o[e].length);for(e=0,n=o.length;e<n;e+=1){if((l=o[e]).length<r)for(i=0,t=r-l.length;i<t;i+=1)l+=T;$("#mfpTree").jstree("rename_node",$("#"+o[e]),l+":0x"+Gi(Ee[o[e]]).toUpperCase())}e=null,n=null,o=[],r=null,l=null}function Hi(e,i,n,t){var l;return t?((l=document.createElement("input")).value=n,l.type=e):(l=document.createElement(e)).innerHTML=n,l.id=i,l}function zi(e){var i,n=[],t=0;for(i in e)e.hasOwnProperty(i)&&(n[t]=i,t+=1);return t=null,n}function Yi(){var e,i,n,t,l,r,s,a,c,d,f,g,_=[],u=[],N={};if(void 0!==NUTOOL_PIN.g_cfg_addGPIO&&void 0!==NUTOOL_PIN.g_cfg_addGPIO[o])for(_=zi(N="function"==typeof NUTOOL_PIN.g_cfg_addGPIO[o]?NUTOOL_PIN.g_cfg_addGPIO[o]():NUTOOL_PIN.g_cfg_addGPIO[o]),e=0;e<_.length;e+=1)for(c=_[e]+":0",t=0,a=NUTOOL_PIN.g_cfg_gpios.length;t<a;t+=1)if(c===NUTOOL_PIN.g_cfg_gpios[t].f[0]){for(i=0,r=N[_[e]].length;i<r;i+=1)for(d=N[_[e]][i],n=NUTOOL_PIN.g_cfg_gpios[t].f.length-1;n>=0;n-=1)if(c=NUTOOL_PIN.g_cfg_gpios[t].f[n],parseInt(c.slice(c.indexOf(":")+1),10)<parseInt(d.slice(d.indexOf(":")+1),10)){NUTOOL_PIN.g_cfg_gpios[t].f.splice(n+1,0,d);break}break}for(N={},void 0!==NUTOOL_PIN.g_cfg_unusedGPIO&&void 0!==NUTOOL_PIN.g_cfg_unusedGPIO[NUTOOL_PIN.g_packageNumberIndex]?N="function"==typeof NUTOOL_PIN.g_cfg_unusedGPIO[NUTOOL_PIN.g_packageNumberIndex]?NUTOOL_PIN.g_cfg_unusedGPIO[NUTOOL_PIN.g_packageNumberIndex]():NUTOOL_PIN.g_cfg_unusedGPIO[NUTOOL_PIN.g_packageNumberIndex]:void 0!==NUTOOL_PIN.g_cfg_unusedGPIO&&(void 0!==NUTOOL_PIN.g_cfg_unusedGPIO[o]?N="function"==typeof NUTOOL_PIN.g_cfg_unusedGPIO[o]?NUTOOL_PIN.g_cfg_unusedGPIO[o]():NUTOOL_PIN.g_cfg_unusedGPIO[o]:void 0!==NUTOOL_PIN.g_cfg_unusedGPIO[o.slicePriorToX("(")]&&(N="function"==typeof NUTOOL_PIN.g_cfg_unusedGPIO[o.slicePriorToX("(")]?NUTOOL_PIN.g_cfg_unusedGPIO[o.slicePriorToX("(")]():NUTOOL_PIN.g_cfg_unusedGPIO[o.slicePriorToX("(")])),_=zi(N),e=0;e<_.length;e+=1)if("ALL"===_[e])for(t=0,a=NUTOOL_PIN.g_cfg_gpios.length;t<a;t+=1)for(i=0,r=N[_[e]].length;i<r;i+=1)for(d=N[_[e]][i].toUpperCase(),l=NUTOOL_PIN.g_cfg_gpios[t].f.length-1;l>=0;l-=1)0===NUTOOL_PIN.g_cfg_gpios[t].f[l].toUpperCase().indexOf(d)&&NUTOOL_PIN.g_cfg_gpios[t].f.splice(l,1);else if("PARTIAL"===_[e])for(t=0,a=NUTOOL_PIN.g_cfg_gpios.length;t<a;t+=1)for(i=0,r=N[_[e]].length;i<r;i+=1)for(d=N[_[e]][i].toUpperCase(),l=NUTOOL_PIN.g_cfg_gpios[t].f.length-1;l>=0;l-=1)NUTOOL_PIN.g_cfg_gpios[t].f[l].slicePriorToX(":").toUpperCase()===d&&NUTOOL_PIN.g_cfg_gpios[t].f.splice(l,1);else for(c=_[e]+":0",t=0,a=NUTOOL_PIN.g_cfg_gpios.length;t<a;t+=1)if(c===NUTOOL_PIN.g_cfg_gpios[t].f[0]){for(i=0,r=N[_[e]].length;i<r;i+=1)for(d=N[_[e]][i].toUpperCase(),l=NUTOOL_PIN.g_cfg_gpios[t].f.length-1;l>=0;l-=1)0===NUTOOL_PIN.g_cfg_gpios[t].f[l].toUpperCase().indexOf(d)&&NUTOOL_PIN.g_cfg_gpios[t].f.splice(l,1);break}for(e=(u=zi(NUTOOL_PIN.g_cfg_regDescriptions)).length-1;e>=0;e-=1)void 0===Ee[u[e]]&&delete NUTOOL_PIN.g_cfg_regDescriptions[u[e]];for(we=[],e=0;e<S;e+=1)for(c=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e]+":0",i=0,r=NUTOOL_PIN.g_cfg_gpios.length;i<r;i+=1)if(c===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=0,s=NUTOOL_PIN.g_cfg_gpios[i].f.length;n<s;n+=1)-1!==(g=f=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":")).indexOf("_")&&(g=g.slicePriorToX("_")),g=Ei(g),void 0===we[g]?(we[g]=[],we[g][0]=e+1,Fe[g]=[],Fe[g][0]=f):(we[g].push(e+1),Fe[g].push(f));break}e=null,i=null,n=null,t=null,l=null,r=null,s=null,a=null,c=null,d=null,f=null,g=null,_=[],u=[],N=null}function Vi(){var e;for(e=0;e<be.length;e+=1)be[e].mouseLeave();e=null}function Zi(e,i){var n,t,l=e-1,r=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][l];-1!==o.indexOf("SOP")?t=l-(n=Math.floor(l/S*2))*S/2:-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")||l<A?(n=0,t=l):l>=A&&l<A+v?(n=1,t=l-A):l>=A+v&&l<A+v+y?(n=2,t=l-A-v):l>=A+v+y&&l<S&&(n=3,t=l-A-v-y),be[n].lastPinIndex=t,bi(r)||Li(r)||Ui(r)?be[n].savedPinPadColor[t]=Ie:"savedPinPadColor"!==i&&(be[n].savedPinPadColor[t]=i),be[n].mouseLeave()}function Qi(e){var i=e.toString();return-1===o.indexOf("WLCSP")&&-1===o.indexOf("BGA")||("string"==typeof e&&(e=parseInt(e,10)),e-=1,i=NUTOOL_PIN.g_horizontalIndexArray[Math.floor(e/j)]+(e%j+1)),i}function qi(e){return void 0!==He[e]&&""!==He[e].trim()&&(e=He[e]),e}function Ji(){var e,i,n,t={},r={init:function(i,n,t){var l,s,a;if(r.inner=i,r.stage=n[0],r.whichSide=t,r.pin=[],r.savedPinPadColor=[],r.savedPinName=[],r.x=[],r.y=[],r.currentPinIndex=-1,r.lastPinIndex=-1,ce.addEvent(r.stage,"click",r.pinClickHandler),ce.addEvent(r.stage,"mousemove",(function(e){r.mousePosition=r.getMousePos($("#NUC_PinConfiguration_Canvas")[0],e),r.decideWhichPin()})),$("html").hasClass("ie10+")&&ce.addEvent(r.stage,"dblclick",(function(){yn("userDefined")})),-1!==o.indexOf("SOP")){for(r.oneSidePinNumber=S/2,r.pin[0]=1+t*r.oneSidePinNumber,s=bi(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][0+t*S/2])||Li(a)||Ui(a)?Ie:mi(a)?"#FFFFFF":Ce,r.savedPinPadColor[0]=s,r.x[0]=0,r.y[0]=0,l=1;l<r.oneSidePinNumber;l+=1)s=bi(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][l+t*S/2])||Li(a)||Ui(a)?Ie:mi(a)?"#FFFFFF":Ce,r.pin[l]=l+1+t*r.oneSidePinNumber,r.savedPinPadColor[l]=s;for(l=0;l<r.oneSidePinNumber;l+=1)r.pin[l]<=S/2?(r.x[l]=se-R,r.y[l]=ae+z+(r.pin[l]-1)*(B+K)):(r.x[l]=se+re/2,r.y[l]=ae+re-z-B-(r.pin[l]-S/2-1)*(B+K));switch(t){case 0:r.w=R,r.h=B,r.stage.setAttribute("width",r.w+2*H),r.stage.setAttribute("height",r.h+r.y[r.oneSidePinNumber-1]-r.y[0]+2*H),r.stage.setAttribute("style","z-index:1; position:absolute; left:"+(r.x[0]-H)+"px; top:"+(r.y[0]-H)+"px;");break;case 1:r.w=R,r.h=B,r.stage.setAttribute("width",r.w+2*H),r.stage.setAttribute("height",r.h+r.y[0]-r.y[r.oneSidePinNumber-1]+2*H),r.stage.setAttribute("style","z-index:1; position:absolute; left:"+(r.x[r.oneSidePinNumber-1]-H)+"px; top:"+(r.y[r.oneSidePinNumber-1]-H)+"px;")}}else if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")){for(r.oneSidePinNumber=S,r.w=0,r.pin[0]=1,s=bi(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][0])||Li(a)||Ui(a)?Ie:mi(a)?"#FFFFFF":Ce,r.savedPinPadColor[0]=s,r.x[0]=0,r.y[0]=0,l=1;l<r.oneSidePinNumber;l+=1)s=bi(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][l])||Li(a)||Ui(a)?Ie:mi(a)?"#FFFFFF":Ce,r.pin[l]=l+1,r.savedPinPadColor[l]=s;for(l=0;l<r.oneSidePinNumber;l+=1)r.x[l]=z+G+Math.floor(l/j)*(2*G+K),r.y[l]=z+G+(j-1-l%j)*(2*G+K);r.r=G,r.stage.setAttribute("width",re),r.stage.setAttribute("height",re),r.stage.setAttribute("style","z-index:2; opacity:0.1; filter:alpha(opacity=50); position:absolute; left:"+se+"px; top:"+ae+"px;")}else{switch(t){default:case 0:for(r.oneSidePinNumber=A,r.pin[0]=1,s=bi(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][0])||Li(a)||Ui(a)?Ie:mi(a)?"#FFFFFF":Ce,r.savedPinPadColor[0]=s,l=1;l<r.oneSidePinNumber;l+=1)s=bi(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][l])||Li(a)||Ui(a)?Ie:mi(a)?"#FFFFFF":Ce,r.pin[l]=l+1,r.savedPinPadColor[l]=s;break;case 1:for(r.oneSidePinNumber=v,r.pin[0]=1+A,s=bi(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][0+A])||Li(a)||Ui(a)?Ie:mi(a)?"#FFFFFF":Ce,r.savedPinPadColor[0]=s,l=1;l<r.oneSidePinNumber;l+=1)s=bi(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][l+A])||Li(a)||Ui(a)?Ie:mi(a)?"#FFFFFF":Ce,r.pin[l]=l+1+A,r.savedPinPadColor[l]=s;break;case 2:for(r.oneSidePinNumber=y,r.pin[0]=1+A+v,s=bi(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][0+A+v])||Li(a)||Ui(a)?Ie:mi(a)?"#FFFFFF":Ce,r.savedPinPadColor[0]=s,l=1;l<r.oneSidePinNumber;l+=1)s=bi(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][l+A+v])||Li(a)||Ui(a)?Ie:mi(a)?"#FFFFFF":Ce,r.pin[l]=l+1+A+v,r.savedPinPadColor[l]=s;break;case 3:for(r.oneSidePinNumber=D,r.pin[0]=1+A+v+y,s=bi(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][0+A+v+y])||Li(a)||Ui(a)?Ie:mi(a)?"#FFFFFF":Ce,r.savedPinPadColor[0]=s,l=1;l<r.oneSidePinNumber;l+=1)s=bi(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][l+A+v+y])||Li(a)||Ui(a)?Ie:mi(a)?"#FFFFFF":Ce,r.pin[l]=l+1+A+v+y,r.savedPinPadColor[l]=s}for(r.x[0]=0,r.y[0]=0,l=0;l<r.oneSidePinNumber;l+=1)switch(t){default:case 0:e=Math.floor((w-A)/2),r.x[l]=se+z+(r.pin[l]-1+e)*(B+K)-W,r.y[l]=ae+re;break;case 1:e=Math.floor((w-v)/2),r.x[l]=se+re,r.y[l]=ae+re-z-B-(r.pin[l]-A-1+e)*(B+K);break;case 2:e=Math.floor((w-y)/2),r.x[l]=se+re-z-B-(r.pin[l]-A-v-1+e)*(B+K)-W,r.y[l]=ae-R+W;break;case 3:e=Math.floor((w-D)/2),r.x[l]=se-R,r.y[l]=ae+z+(r.pin[l]-A-v-y-1+e)*(B+K)}switch(t){default:case 0:r.w=B,r.h=R,r.stage.setAttribute("width",r.w+r.x[r.oneSidePinNumber-1]-r.x[0]+2*H),r.stage.setAttribute("height",r.h+2*H),r.stage.setAttribute("style","z-index:1; position:absolute; left:"+(r.x[0]-H)+"px; top:"+(r.y[0]-H)+"px;");break;case 1:r.w=R,r.h=B,r.stage.setAttribute("width",r.w+2*H),r.stage.setAttribute("height",r.h+r.y[0]-r.y[r.oneSidePinNumber-1]+2*H),r.stage.setAttribute("style","z-index:1; position:absolute; left:"+(r.x[r.oneSidePinNumber-1]-H)+"px; top:"+(r.y[r.oneSidePinNumber-1]-H)+"px;");break;case 2:r.w=B,r.h=R,r.stage.setAttribute("width",r.w+r.x[0]-r.x[r.oneSidePinNumber-1]+2*H),r.stage.setAttribute("height",r.h+2*H),r.stage.setAttribute("style","z-index:1; position:absolute; left:"+(r.x[r.oneSidePinNumber-1]-H)+"px; top:"+(r.y[r.oneSidePinNumber-1]-H)+"px;");break;case 3:r.w=R,r.h=B,r.stage.setAttribute("width",r.w+2*H),r.stage.setAttribute("height",r.h+r.y[r.oneSidePinNumber-1]-r.y[0]+2*H),r.stage.setAttribute("style","z-index:1; position:absolute; left:"+(r.x[0]-H)+"px; top:"+(r.y[0]-H)+"px;")}}return r.ctx=ce.getContext(r.stage),s=null,a=null,r},draw:function(){var e,i,n,t;if(r.ctx.strokeStyle="#000000",-1!==o.indexOf("SOP"))switch(r.whichSide){case 0:for(e=0;e<r.oneSidePinNumber;e+=1)r.ctx.strokeRect(W+H,r.y[e]-r.y[0]+H,r.w,r.h),r.ctx.fillStyle=r.savedPinPadColor[e],r.ctx.fillRect(W+H,r.y[e]-r.y[0]+H,r.w,r.h),-1!==(i=$e[r.pin[e]-1]).lastIndexOf("/")&&(i=i.slice(i.lastIndexOf("/")+1)),!mi(i)&&i.length>4&&(i=i.slice(0,4)+".."),r.savedPinName[e]=i,r.ctx.font=E,r.ctx.fillStyle="black",r.ctx.fillText(i,W+H,r.y[e]-r.y[0]+H+4*B/5);break;case 1:for(e=0;e<r.oneSidePinNumber;e+=1)r.ctx.strokeRect(W+H,r.y[e]-r.y[r.oneSidePinNumber-1]+H,r.w,r.h),r.ctx.fillStyle=r.savedPinPadColor[e],r.ctx.fillRect(W+H,r.y[e]-r.y[r.oneSidePinNumber-1]+H,r.w,r.h),!mi(i=(i=$e[r.pin[e]-1]).slicePriorToX("/"))&&i.length>4&&(i=i.slice(0,4)+".."),r.savedPinName[e]=i,r.ctx.font=E,r.ctx.fillStyle="black",r.ctx.fillText(i,W+H,r.y[e]-r.y[r.oneSidePinNumber-1]+H+4*B/5)}else if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA"))for(e=0;e<r.oneSidePinNumber;e+=1)i=$e[r.pin[e]-1],r.savedPinName[e]=i,-1===i.toLowerCase().indexOf("toolnotshow")&&(r.ctx.beginPath(),r.ctx.arc(r.x[e],r.y[e],r.r,0,2*Math.PI,!0),r.ctx.strokeStyle="white",r.ctx.stroke(),r.ctx.strokeStyle="#000000",r.ctx.fillStyle=r.savedPinPadColor[e],r.ctx.fill(),-1!==i.lastIndexOf("/")&&(i=i.slice(i.lastIndexOf("/")+1)),i.length>6&&(i=i.slice(0,6)+".."),r.savedPinName[e]=i,r.ctx.font=E,r.ctx.fillStyle="black",r.ctx.fillText(i,r.x[e]-r.ctx.measureText(i).width/2,r.y[e]+parseInt(r.ctx.font,10)/2));else switch(r.whichSide){case 0:for(e=0;e<r.oneSidePinNumber;e+=1)r.ctx.strokeRect(r.x[e]-r.x[0]+H,W+H,r.w,r.h),r.ctx.fillStyle=r.savedPinPadColor[e],r.ctx.fillRect(r.x[e]-r.x[0]+H,W+H,r.w,r.h),-1!==(i=$e[r.pin[e]-1]).lastIndexOf("/")&&(i=i.slice(i.lastIndexOf("/")+1)),!mi(i)&&i.length>4&&(i=i.slice(0,4)+".."),r.savedPinName[e]=i,r.ctx.font=E,r.ctx.fillStyle="black",n=r.x[e]-r.x[0]+H,t=W+H+R,r.ctx.save(),r.ctx.translate(n,t),r.ctx.rotate(-Math.PI/2),r.ctx.fillText(i,W,4*B/5),r.ctx.restore();break;case 1:for(e=0;e<r.oneSidePinNumber;e+=1)r.ctx.strokeRect(W+H,r.y[e]-r.y[r.oneSidePinNumber-1]+H,r.w,r.h),r.ctx.fillStyle=r.savedPinPadColor[e],r.ctx.fillRect(W+H,r.y[e]-r.y[r.oneSidePinNumber-1]+H,r.w,r.h),!mi(i=(i=$e[r.pin[e]-1]).slicePriorToX("/"))&&i.length>4&&(i=i.slice(0,4)+".."),r.savedPinName[e]=i,r.ctx.font=E,r.ctx.fillStyle="black",r.ctx.fillText(i,W+H,r.y[e]-r.y[r.oneSidePinNumber-1]+H+4*B/5);break;case 2:for(e=0;e<r.oneSidePinNumber;e+=1)r.ctx.strokeRect(r.x[e]-r.x[r.oneSidePinNumber-1]+H,H,r.w,r.h),r.ctx.fillStyle=r.savedPinPadColor[e],r.ctx.fillRect(r.x[e]-r.x[r.oneSidePinNumber-1]+H,H,r.w,r.h),!mi(i=(i=$e[r.pin[e]-1]).slicePriorToX("/"))&&i.length>4&&(i=i.slice(0,4)+".."),r.savedPinName[e]=i,r.ctx.font=E,r.ctx.fillStyle="black",n=r.x[e]-r.x[r.oneSidePinNumber-1]+H,t=H+R,r.ctx.save(),r.ctx.translate(n,t),r.ctx.rotate(-Math.PI/2),r.ctx.textAlign="end",r.ctx.fillText(i,R,4*B/5),r.ctx.restore();break;case 3:for(e=0;e<r.oneSidePinNumber;e+=1)r.ctx.strokeRect(W+H,r.y[e]-r.y[0]+H,r.w,r.h),r.ctx.fillStyle=r.savedPinPadColor[e],r.ctx.fillRect(W+H,r.y[e]-r.y[0]+H,r.w,r.h),-1!==(i=$e[r.pin[e]-1]).lastIndexOf("/")&&(i=i.slice(i.lastIndexOf("/")+1)),!mi(i)&&i.length>4&&(i=i.slice(0,4)+".."),r.savedPinName[e]=i,r.ctx.font=E,r.ctx.fillStyle="black",r.ctx.fillText(i,W+H,r.y[e]-r.y[0]+H+4*B/5)}i=null,n=null,t=null},restore:function(){ce.removeContext($("#"+r.inner)),r=null},getMousePos:function(e,i){var n=e.getBoundingClientRect();return{x:i.clientX-n.left,y:i.clientY-n.top}},decideWhichPin:function(){var e,i,n;if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA"))for(e=r.mousePosition.x-se*me/100,i=r.mousePosition.y-ae*me/100,n=0;n<r.oneSidePinNumber;n+=1){if(e>=(r.x[n]-r.r)*me/100&&e<=(r.x[n]+r.r)*me/100&&i>=(r.y[n]-r.r)*me/100&&i<=(r.y[n]+r.r)*me/100){r.currentPinIndex=n;break}r.currentPinIndex=-1}else for(n=0;n<r.oneSidePinNumber;n+=1){if(e=r.x[n]*me/100,r.mousePosition.x>=e&&r.mousePosition.x<=e+r.w*me/100&&r.mousePosition.y>=r.y[n]*me/100&&r.mousePosition.y<=(r.y[n]+r.h)*me/100){r.currentPinIndex=n;break}r.currentPinIndex=-1}-1!==r.currentPinIndex?r.mouseEnter():r.mouseLeave()},mouseEnter:function(){var e,i,n,s,a,c,d,f,g,_,u,N;for(e=0,i=be.length;e<i;e+=1)be[e].lastPinIndex!==r.currentPinIndex&&be[e].mouseLeave();if(r.currentPinIndex!==r.lastPinIndex){if(-1!==(u=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][r.pin[r.currentPinIndex]-1]).toLowerCase().indexOf("toolnotshow"))return;if(n=r.lastPinIndex=r.currentPinIndex,r.ctx.strokeStyle="#000000",r.ctx.fillStyle=Me,-1!==o.indexOf("SOP"))switch(r.whichSide){case 0:Qe&&r.ctx.strokeRect(W+H,r.y[n]-r.y[0]+H,r.w,r.h),r.ctx.fillRect(W+H,r.y[n]-r.y[0]+H,r.w,r.h),r.ctx.font=E,r.ctx.fillStyle="black",r.ctx.fillText(r.savedPinName[n],W+H,r.y[n]-r.y[0]+4*B/5+H);break;case 1:Qe&&r.ctx.strokeRect(W+H,r.y[n]-r.y[r.oneSidePinNumber-1]+H,r.w,r.h),r.ctx.fillRect(W+H,r.y[n]-r.y[r.oneSidePinNumber-1]+H,r.w,r.h),r.ctx.font=E,r.ctx.fillStyle="black",r.ctx.fillText(r.savedPinName[n],W+H,r.y[n]-r.y[r.oneSidePinNumber-1]+H+4*B/5)}else if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA"))r.ctx.beginPath(),r.ctx.arc(r.x[n],r.y[n],r.r,0,2*Math.PI,!0),r.ctx.fill(),N=u=""!==ve[n]?qi(ve[n]):NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][r.pin[r.currentPinIndex]-1],u.length>6&&(N=u.slice(0,6)+".."),r.ctx.font=E,r.ctx.fillStyle="black",r.ctx.fillText(N,r.x[n]-r.ctx.measureText(N).width/2,r.y[n]+parseInt(r.ctx.font,10)/2);else switch(r.whichSide){case 0:Qe&&r.ctx.strokeRect(r.x[n]-r.x[0]+H,W+H,r.w,r.h),r.ctx.fillRect(r.x[n]-r.x[0]+H,W+H,r.w,r.h),r.ctx.font=E,r.ctx.fillStyle="black",s=r.x[n]-r.x[0]+H,a=W+H+R,r.ctx.save(),r.ctx.translate(s,a),r.ctx.rotate(-Math.PI/2),r.ctx.fillText(r.savedPinName[n],W,4*B/5),r.ctx.restore();break;case 1:Qe&&r.ctx.strokeRect(W+H,r.y[n]-r.y[r.oneSidePinNumber-1]+H,r.w,r.h),r.ctx.fillRect(W+H,r.y[n]-r.y[r.oneSidePinNumber-1]+H,r.w,r.h),r.ctx.font=E,r.ctx.fillStyle="black",r.ctx.fillText(r.savedPinName[n],W+H,r.y[n]-r.y[r.oneSidePinNumber-1]+H+4*B/5);break;case 2:Qe&&r.ctx.strokeRect(r.x[n]-r.x[r.oneSidePinNumber-1]+H,H,r.w,r.h),r.ctx.fillRect(r.x[n]-r.x[r.oneSidePinNumber-1]+H,H,r.w,r.h),r.ctx.font=E,r.ctx.fillStyle="black",s=r.x[n]-r.x[r.oneSidePinNumber-1]+H,a=H+R,r.ctx.save(),r.ctx.translate(s,a),r.ctx.rotate(-Math.PI/2),r.ctx.textAlign="end",r.ctx.fillText(r.savedPinName[n],R,4*B/5),r.ctx.restore();break;case 3:Qe&&r.ctx.strokeRect(W+H,r.y[n]-r.y[0]+H,r.w,r.h),r.ctx.fillRect(W+H,r.y[n]-r.y[0]+H,r.w,r.h),r.ctx.font=E,r.ctx.fillStyle="black",r.ctx.fillText(r.savedPinName[n],W+H,r.y[n]-r.y[0]+4*B/5+H)}(!mi(u)||bi(u)||Li(u)||Ui(u))&&(Ui(u)?"AVDD/OPA_VDD"==u&&(c="AVDD + OPA_VDD"):mi(u)?bi(u)?0===l.indexOf("M2L31")?c="Can change function to Write_Protect_Pin by chip configuration":0===l.indexOf("KM1M4BF0")?c="When NDMOD pin input is H level, SWDCLK would be selected. Configurable only when NDMOD pin input is L level.":0===l.indexOf("KM1M4BF5")&&(c="When SELSWD.SWDEN = 1, SWDCLK would be selected. Configurable only when SELSWD.SWDEN = 0."):Li(u)&&(c="Simplified Chinese"===ge?"此脚位包含CCDB功能，带下拉电阻(Rd_ccdb)，并不可被禁用。 当该管脚没用于UTCPD应用时，请检查Rd_ccdb的影响。":"Traditional Chinese"===ge?"此腳位包含CCDB功能，帶下拉電阻(Rd_ccdb)，並不可被禁用。 當該管腳沒用於UTCPD應用時，請檢查Rd_ccdb的影響。":"This pin includes CCDB function with a pull-low resistor(Rd_ccdb) that cannot be disabled. When this pin isn’t used for UTCPD, please check Rd_ccdb influence."):c=u,"unknown"!==c&&(t.stage=$("#panel")[0].appendChild(Hi("canvas",r.inner+"_tooltip_pin")),-1===c.indexOf("/")||-1===c.indexOf("XT1_IN")&&-1===c.indexOf("XT1_OUT")&&-1===c.indexOf("XTAL1")&&-1===c.indexOf("XTAL2")||(-1!==c.indexOf("XTAL1")?c+=" (XTAL1":-1!==c.indexOf("XTAL2")?c+=" (XTAL2":-1!==c.indexOf("XT1_IN")?c+=" (XT1_IN":c+=" (XT1_OUT",c+="Simplified Chinese"===ge?"由User Configuration决定。)":"Traditional Chinese"===ge?"由User Configuration決定。)":" is decided by User Configuration.)"),Qe?(t.w=r.ctx.measureText(c).width,t.h=B,g="12px Arial",_=t.h-4,-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?(d=(se+r.x[r.currentPinIndex])*me/100,f=(ae+r.y[r.currentPinIndex]+10)*me/100):(d=(r.x[r.currentPinIndex]+r.w)*me/100,f=r.y[r.currentPinIndex]*me/100)):(me<100?(t.w=r.ctx.measureText(c).width/me*100,t.h=B/me*100,g=12/me*100+"px Times Arial",_=t.h-5/me*100,d=r.x[r.currentPinIndex]+r.w,f=r.y[r.currentPinIndex]):(t.w=r.ctx.measureText(c).width,t.h=B,g="12px Arial",_=t.h-4,d=r.x[r.currentPinIndex]+r.w,f=r.y[r.currentPinIndex]),-1===o.indexOf("WLCSP")&&-1===o.indexOf("BGA")||(d+=se,f+=ae+10)),t.stage.setAttribute("style","z-index:2; position:absolute; left:"+d+"px; top:"+f+"px;"),t.stage.setAttribute("width",t.w+3*q),t.stage.setAttribute("height",t.h),t.ctx=ce.getContext(t.stage),t.ctx.font=g,t.ctx.strokeStyle="#000000",t.ctx.lineWidth=2,t.ctx.strokeRect(0,0,t.w+3*q,t.h),t.ctx.fillStyle="#FFF6C0",t.ctx.fillRect(J,J,t.w+3*q-2*J,t.h-2*J),t.ctx.fillStyle="#000000",t.ctx.fillText(c,q,_),c=null))}},mouseLeave:function(){var e,t=r.lastPinIndex;if(-1!==r.lastPinIndex){if(r.ctx.strokeStyle="#000000",r.ctx.fillStyle=r.savedPinPadColor[t],-1!==o.indexOf("SOP"))switch(r.whichSide){case 0:Qe&&r.ctx.strokeRect(W+H,r.y[t]-r.y[0]+H,r.w,r.h),r.ctx.fillRect(W+H,r.y[t]-r.y[0]+H,r.w,r.h),r.ctx.fillStyle="black",r.ctx.fillText(r.savedPinName[t],W+H,r.y[t]-r.y[0]+4*B/5+H);break;case 1:Qe&&r.ctx.strokeRect(W+H,r.y[t]-r.y[r.oneSidePinNumber-1]+H,r.w,r.h),r.ctx.fillRect(W+H,r.y[t]-r.y[r.oneSidePinNumber-1]+H,r.w,r.h),r.ctx.fillStyle="black",r.ctx.fillText(r.savedPinName[t],W+H,r.y[t]-r.y[r.oneSidePinNumber-1]+H+4*B/5)}else if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA"))-1===(e=""!==ve[t]?qi(ve[t]):r.savedPinName[t]).toLowerCase().indexOf("toolnotshow")&&(r.ctx.beginPath(),r.ctx.arc(r.x[t],r.y[t],r.r,0,2*Math.PI,!0),r.ctx.fill(),e.length>6&&(e=e.slice(0,6)+".."),r.ctx.font=E,r.ctx.fillStyle="black",r.ctx.fillText(e,r.x[t]-r.ctx.measureText(e).width/2,r.y[t]+parseInt(r.ctx.font,10)/2));else switch(r.whichSide){case 0:Qe&&r.ctx.strokeRect(r.x[t]-r.x[0]+H,W+H,r.w,r.h),r.ctx.fillRect(r.x[t]-r.x[0]+H,W+H,r.w,r.h),r.ctx.fillStyle="black",i=r.x[t]-r.x[0]+H,n=W+H+R,r.ctx.save(),r.ctx.translate(i,n),r.ctx.rotate(-Math.PI/2),r.ctx.fillText(r.savedPinName[t],W,4*B/5),r.ctx.restore();break;case 1:Qe&&r.ctx.strokeRect(W+H,r.y[t]-r.y[r.oneSidePinNumber-1]+H,r.w,r.h),r.ctx.fillRect(W+H,r.y[t]-r.y[r.oneSidePinNumber-1]+H,r.w,r.h),r.ctx.fillStyle="black",r.ctx.fillText(r.savedPinName[t],W+H,r.y[t]-r.y[r.oneSidePinNumber-1]+H+4*B/5);break;case 2:Qe&&r.ctx.strokeRect(r.x[t]-r.x[r.oneSidePinNumber-1]+H,H,r.w,r.h),r.ctx.fillRect(r.x[t]-r.x[r.oneSidePinNumber-1]+H,H,r.w,r.h),r.ctx.fillStyle="black",i=r.x[t]-r.x[r.oneSidePinNumber-1]+H,n=H+R,r.ctx.save(),r.ctx.translate(i,n),r.ctx.rotate(-Math.PI/2),r.ctx.textAlign="end",r.ctx.fillText(r.savedPinName[t],R,4*B/5),r.ctx.restore();break;case 3:Qe&&r.ctx.strokeRect(W+H,r.y[t]-r.y[0]+H,r.w,r.h),r.ctx.fillRect(W+H,r.y[t]-r.y[0]+H,r.w,r.h),r.ctx.fillStyle="black",r.ctx.fillText(r.savedPinName[t],W+H,r.y[t]-r.y[0]+4*B/5+H)}r.lastPinIndex=-1,ce.removeContext($("#"+r.inner+"_tooltip_pin")),t=null}},pinClickHandler:function(){var i,n,t,s,a,c,d,f,g=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][r.pin[r.currentPinIndex]-1],_=[],u=0,N=ce.getContext($("#NUC_PinConfiguration_Canvas")[0]);if(-1!==r.currentPinIndex&&(en(),mi(g))){for(parseInt(g.sliceAfterX("."),10),s=Di(g+=":0",parseInt(g.sliceAfterX("."),10)),-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?(a=r.x[r.currentPinIndex]+se,c=r.y[r.currentPinIndex]+ae+10):(a=r.x[r.currentPinIndex],c=r.y[r.currentPinIndex]),i=0,n=NUTOOL_PIN.g_cfg_gpios[s].f.length;i<n;i+=1)_[i]=NUTOOL_PIN.g_cfg_gpios[s].f[i].slicePriorToX(":"),N.measureText(_[i]).width>u&&(u=N.measureText(_[i]).width);for(_.push("Reset"),Ke=[],i=0,n=_.length;i<n;i+=1){if(t=!Qe&&me>100?c+i*Q:c+i*Q/me*100,f="#6495ED",i!==n-1&&_[i]===ve[r.pin[r.currentPinIndex]-1]&&(f=($.inArray(r.pin[r.currentPinIndex],We),Te)),-1!==l.indexOf("KM1M7CF")){var p=Math.floor(i/20);Ke[i]=nn().init(r.pin[r.currentPinIndex],i.toString(),_[i],u,a+r.w+u*p/me*100+3*q*p,t-20*p*Q/me*100,f,!0)}else Ke[i]=nn().init(r.pin[r.currentPinIndex],i.toString(),_[i],u,a+r.w,t,f,!0);d=(d=i.toString()).replaceSpecialCharacters(),$("#Pin_MultiFunction_Selection_"+d).hover(Ke[i].mouseEnter,Ke[i].mouseLeave),Ke[i].draw()}}g=null,_=[],u=null,N=null,t=null,s=null,e=null,a=null,c=null,d=null,f=null}};return r}function en(){var e,i;for(e=0,i=Ke.length;e<i;e+=1)Ke[e].restore();Ke=[]}function nn(){var e={},i={init:function(e,n,t,l,o,r,s,a){var c,d,f;return i.pin=e,i.label=t,i.color=s,i.inner="Pin_MultiFunction_Selection_"+n,i.stage=$("#panel")[0].appendChild(Hi("canvas",i.inner)),Qe?(i.w=l,i.h=Q,c=o*me/100,d=r*me/100,f="12px Arial",i.textYposition=14):(c=o,d=r,me<100?(i.w=l/me*100,i.h=Q/me*100,f=12/me*100+"px Times Arial",i.textYposition=14/me*100):(i.w=l,i.h=Q,f="12px Arial",i.textYposition=14)),i.positionX=c,i.positionY=d,i.stage.setAttribute("width",i.w+3*q),i.stage.setAttribute("height",i.h),U||i.stage.setAttribute("innerText",t),i.stage.setAttribute("style","z-index:2; position:absolute; left:"+c+"px; top:"+d+"px;"),i.ctx=ce.getContext(i.stage),i.ctx.font=f,i.bInstallClickListener=a,a&&ce.addEvent(i.stage,"click",i.pinMultiFunctionSelectionsClickHandler),c=null,d=null,f=null,i},mouseEnter:function(){var n,r,s,a;if(i.ctx.fillStyle="#B0C4DE",i.ctx.fillRect(J,J,i.w+3*q-2*J,i.h-2*J),i.ctx.fillStyle="#000000",i.ctx.fillText(i.label,q,i.textYposition),t&&NUTOOL_PIN.g_cfg_gpiosDescriptions.length>0&&"Reset"!==i.label&&("MA35D1"===l||!mi(i.label))&&"unknown"!==(s=ln(i.label,i.pin))){for(e.stage=$("#panel")[0].appendChild(Hi("canvas",i.inner+"_tooltip")),a=s.split("<br >"),e.w=0,n=0,r=a.length;n<r;n++)i.ctx.measureText(a[n]).width>e.w&&(e.w=i.ctx.measureText(a[n]).width);for(-1!==o.indexOf("SOP")||-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?i.pin>S/2?e.stage.setAttribute("style","z-index:2; position:absolute; left:"+(i.positionX-e.w-3*q-J)+"px; top:"+i.positionY+"px;"):e.stage.setAttribute("style","z-index:2; position:absolute; left:"+(i.positionX+i.w+3*q+J)+"px; top:"+i.positionY+"px;"):i.pin>A/2&&i.pin<=A+v+y/2?e.stage.setAttribute("style","z-index:2; position:absolute; left:"+(i.positionX-e.w-3*q-J)+"px; top:"+i.positionY+"px;"):e.stage.setAttribute("style","z-index:2; position:absolute; left:"+(i.positionX+i.w+3*q+J)+"px; top:"+i.positionY+"px;"),e.stage.setAttribute("width",e.w+3*q),e.stage.setAttribute("height",i.h*a.length),U||e.stage.setAttribute("innerText",s),e.ctx=ce.getContext(e.stage),e.ctx.font=i.ctx.font,e.ctx.strokeStyle="#000000",e.ctx.lineWidth=2,e.ctx.strokeRect(0,0,e.w+3*q,i.h*a.length),e.ctx.fillStyle="#FFF6C0",e.ctx.fillRect(J,J,e.w+3*q-2*J,i.h*a.length-2*J),e.ctx.fillStyle="#000000",n=0,r=a.length;n<r;n++)e.ctx.fillText(a[n],q,i.textYposition+n*i.h);s=null}},mouseLeave:function(){i.ctx.fillStyle=i.color,i.ctx.fillRect(J,J,i.w+3*q-2*J,i.h-2*J),i.ctx.fillStyle="#000000",i.ctx.fillText(i.label,q,i.textYposition),ce.removeContext($("#"+i.inner+"_tooltip"))},draw:function(){i.ctx.strokeStyle="#000000",i.ctx.strokeRect(0,0,i.w+3*q,i.h),i.ctx.fillStyle=i.color,i.ctx.fillRect(J,J,i.w+3*q-2*J,i.h-2*J),i.ctx.fillStyle="#000000",i.ctx.fillText(i.label,q,i.textYposition)},restore:function(){ce.removeContext($("#"+i.inner+"_tooltip")),ce.removeContext($("#"+i.inner)),gn(),i=null},pinMultiFunctionSelectionsClickHandler:function(){var e,n,t,l,o,r,s,a;if(Vi(),"Reset"===i.label){if(0!==We.length)for(e=0,n=We.length;e<n;e+=1)We[e]===i.pin&&We.splice(e,1);if(t=(t=ve[i.pin-1]+"_Pin"+i.pin).replaceSpecialCharacters(),$("#moduleTree").jstree("uncheck_node",$("#"+t)),!$("#"+t).hasClass("jstree-unchecked")){if(o=Ei(t.slicePriorToX("_")),(r=[])[0]=i.pin,fi(t,o,r),Wi(),void 0!==Re[o]){for(e=0,n=Re[o].length;e<n;e+=1)if(Re[o][e]===t){Re[o][e]="";break}for(e=0,n=Re[o].length;e<n&&""===Re[o][e];e+=1)e===n-1&&$("#"+o+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}o=null,r=[]}Zi(i.pin,"#FFFFFF"),en()}else{if(s=!1,t=i.label+"_Pin"+i.pin,-1!==$.inArray(t.restorePinTreeNodeName()+"_Intermediate",Le))for(e=0,n=ke.length;e<n;e+=1)if(ke[e].restorePinTreeNodeName()===t.restorePinTreeNodeName()&&ke[e]!==t&&(!0===$("#"+ke[e]).hasClass("jstree-checked")||0===ve[parseInt(ke[e].slice(ke[e].indexOf("_Pin")+4),10)-1].replaceSpecialCharacters().indexOf(ke[e].restorePinTreeNodeName()))){s=!0,a=ke[e].slice(ke[e].indexOf("_Pin")+4);break}s?(-1!==(l=Ei(i.label)).indexOf("_")&&(l=l.slicePriorToX("_")),void 0!==i.pin&&null!==i.pin&&function(e,i,n){var t,l,o,r;$("#rootTree_Pin").is(":visible")&&(Ti(),"Simplified Chinese"===ge?(t="通知",l="预期的"+i+"已被第"+n+"脚位设置。请问你要取消旧的且改设置到现在的脚位吗?",o="要",r="不要"):"Traditional Chinese"===ge?(t="通知",l="預期的"+i+"已被第"+n+"腳位設置。請問你要取消舊的且改設置到現在的腳位嗎?",o="要",r="不要"):(t="Notice",l="The expected "+i+" has been configured by the pin"+n+". Would you like to cancel the old one and configure to the current pin?",o="Yes",r="No"),gn(),$('<div id="noticeForMultipleSelectionsDialog"><p>'+l+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:t,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#noticeForMultipleSelectionsDialog").dialog("destroy")},buttons:[{text:o,click:function(){e(),$("#noticeForMultipleSelectionsDialog").dialog("isOpen")&&$("#noticeForMultipleSelectionsDialog").dialog("destroy")}},{text:r,click:function(){en(),$("#noticeForMultipleSelectionsDialog").dialog("isOpen")&&$("#noticeForMultipleSelectionsDialog").dialog("destroy")}}]}));t=null,l=null,o=null,r=null}((function(){tn(l,i.pin,i.label)}),i.label,Qi(a))):tn(Ei(t.slicePriorToX("_")),i.pin,i.label),s=null,a=null}t=null}};return i}function tn(e,i,n){var t,l,o,r,s=$("#moduleTree"),a=ve[i-1]+"_Pin"+i,c=[];if(a=a.replaceSpecialCharacters(),s.jstree("uncheck_node",$("#"+a)),!$("#"+a).hasClass("jstree-unchecked")){if(o=Ei(a.slicePriorToX("_")),(r=[])[0]=i,fi(a,o,r),void 0!==Re[o]){for(t=0,l=Re[o].length;t<l;t+=1)if(Re[o][t]===a){Re[o][t]="";break}for(t=0,l=Re[o].length;t<l&&""===Re[o][t];t+=1)t===l-1&&$("#"+o+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}o=null,r=[]}a=(a=n+"_Pin"+i).replaceSpecialCharacters(),s.jstree("check_node",$("#"+a)),$("#"+a).hasClass("jstree-checked")||(s.jstree("open_node",$("#"+e+"_Root")),s.jstree("open_node",$("#"+n+"_Intermediate")),s.jstree("check_node",$("#"+a))),Zi(i,Te),void 0===We?We[0]=i:We.push(i),en(),e=e.replaceSpecialCharacters(),n=n.replaceSpecialCharacters(),s.jstree("close_all"),s.jstree("open_node",$("#"+e+"_Root")),s.jstree("open_node",$("#"+n+"_Intermediate")),(c=zi(we)).sort(),s.scrollTop(18*$.inArray(e,c)),t=null,l=null,a=null,s=null,c=[]}function ln(e,i){var n,t,l="",o="",r=!1,s=!1;for(n=0,t=NUTOOL_PIN.g_cfg_gpiosDescriptions.length;n<t;n+=1)if(o=l=NUTOOL_PIN.g_cfg_gpiosDescriptions[n].replace("Note:","<br >Note:"),s=!1,-1!==l.indexOf("@")&&(o=o.slice(o.indexOf("@")+1,o.indexOf(":")),s=!0),!(0!==l.indexOf(e+":")&&0!==l.indexOf(e+"@")||s&&o!==NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][i-1])){r=!0;break}return n=null,t=null,l=r?l.slice(l.indexOf(":")+1):"unknown"}function on(){we=[],Se=[],Ee=[],Xe=[],Ae=[],ve=[],$e=[],We=[],void 0!==Ei.specialModuleNames&&delete Ei.specialModuleNames,ni(),en(),$("#panel").unbind("mouseenter mouseleave"),ce.removeContext($("#NUC_PinConfiguration_Canvas")),ce.removeContext($("#NUC_PinConfiguration_Canvas_Lining")),$("#mfpTree").jstree("destroy"),$("#supportedModules").jstree("destroy"),$("#moduleTree").jstree("destroy"),$("#mfpTree").remove(),$("#supportedModules").remove(),$("#moduleTree").remove(),$("div").remove(".tooltip")}function rn(){var e,i,t=$("#MCUselect"),r={},s=[],a=!1;for(t.children().length>0&&t.children().remove(),e=0,i=NUTOOL_PIN.g_cfg_chips.length;e<i;e+=1)try{s.push(NUTOOL_PIN.g_cfg_chips[e].name+"("+NUTOOL_PIN.g_cfg_chips[e].pkg+")")}catch(e){}for(s.sort(li),e=0,i=s.length;e<i;e+=1)(r=document.createElement("option")).id=r.innerHTML=r.value=s[e],t[0].appendChild(r);for(e=0,i=NUTOOL_PIN.g_cfg_chips.length;e<i;e+=1)if(NUTOOL_PIN.g_cfg_chips[e].name+"("+NUTOOL_PIN.g_cfg_chips[e].pkg+")"===o){a=!0;break}if(a)if(ei){for(e=0,i=NUTOOL_PIN.g_cfg_chips.length;e<i;e+=1)if(NUTOOL_PIN.g_cfg_chips[e].name===M){M=NUTOOL_PIN.g_cfg_chips[e].name+"("+NUTOOL_PIN.g_cfg_chips[e].pkg+")";break}t.val(M).change()}else t.val(o);else t.val($("#MCUselect option:first-child").val()).change();$("#ChipTypeSelect").val(ji(l)),t.on("change",(function(){n!==$(this).val()&&(n=$(this).val(),setTimeout(sn,0))})),e=null,i=null,s=[],r=null,a=null,t=null}function sn(){if(Ni(),n!==o){try{window.external.updateCurrentDialogSize()}catch(e){}fn("NUC_"+l+"_Content.js","NUC_"+(l=Ai(n))+"_Content.js","js",an)}}function an(){on(),o=n,NUTOOL_PIN.decidepackageNumber(),Pi(),qe=!1,NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&Qn(),je=[],ye=[],He={},r=null,cn(),me=100,pn(),gn()}function cn(){vi(),"undefined"==typeof NUTOOL_PER&&rn(),Yi(),ki(),Ki(),oi(),ti(),$i()}function dn(e,i){var n;return"js"===i?((n=document.createElement("script")).setAttribute("type","text/javascript"),n.setAttribute("src",`./src/${e}`)):"css"===i&&((n=document.createElement("link")).setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",`./src/${e}`)),n}function fn(e,i,n,t){var l,o,r,s="js"===n?"script":"css"===n?"link":"none",a="js"===n?"src":"css"===n?"href":"none",c=window.document.getElementsByTagName(s),d="NUC_Reset_Content.js";for("undefined"!=typeof NUTOOL_PER&&"js"===n&&(e="PinConfigure/"+e,d="PinConfigure/"+d),o=dn(d,n),l=c.length;l>=0;l-=1)c[l]&&null!==c[l].getAttribute(a)&&(c[l].getAttribute(a)===e||c[l].getAttribute(a)===d)&&c[l].parentNode.removeChild(c[l]);for(c[0].parentNode.appendChild(o),"undefined"!=typeof NUTOOL_PER&&"js"===n&&(e="PinConfigure/"+e,i="PinConfigure/"+i),"PeripheralConfigure/"!==i&&(r=dn(i,n),"function"==typeof t&&(r.onload=function(){t()})),!U&&window.console&&window.console.log("In replacejscssfile, oldfilename:"+e+" / newfilename:"+i),l=c.length;l>=0;l-=1)c[l]&&null!==c[l].getAttribute(a)&&(c[l].getAttribute(a)===e||c[l].getAttribute(a)===i)&&c[l].parentNode.removeChild(c[l]);c[0].parentNode.appendChild(r)}function gn(){$("#conflictDialog").dialog("isOpen")&&$("#conflictDialog").dialog("destroy"),$("#adjustedModulesDialog").dialog("isOpen")&&$("#adjustedModulesDialog").dialog("destroy"),$("#warningForSavingDialog").dialog("isOpen")&&$("#warningForSavingDialog").dialog("destroy"),$("#showPinErrorDialog").dialog("isOpen")&&$("#showPinErrorDialog").dialog("destroy"),$("#noticeForMultipleSelectionsDialog").dialog("isOpen")&&$("#noticeForMultipleSelectionsDialog").dialog("destroy"),$("#generateCodeDialog").dialog("isOpen")&&$("#generateCodeDialog").dialog("destroy"),$("#printReportDialog").dialog("isOpen")&&$("#printReportDialog").dialog("destroy"),$("#runAnotherToolDialog").dialog("isOpen")&&$("#runAnotherToolDialog").dialog("destroy"),$("#connectToTargetDialog").dialog("isOpen")&&$("#connectToTargetDialog").dialog("destroy"),$("#languageDialog").dialog("isOpen")&&$("#languageDialog").dialog("destroy")}function _n(){var e,i,n,t,l,o,r=ce.getContext($("#NUC_PinConfiguration_Canvas")[0]),s=0;"Simplified Chinese"===ge?(n="被用户配置",t="悬停工具提示",l="滑鼠焦点",o="非可配置的","双击用户定义",r.font="12px 新細明體"):"Traditional Chinese"===ge?(n="被使用者配置",t="懸停工具提示",l="滑鼠焦點",o="非可配置的","雙擊用戶定義",r.font="12px 新細明體"):(n="Configured by User",t="Tooltip on Hover",l="Focused by Mouse",o="Not Configurable","Dblclicked for UserDefined",r.font=E),r.strokeStyle="black",e=se-Oe-R-Pe,i=ae-he-(s+=1)*(B+xe),r.strokeRect(e,i,R,B),r.fillStyle=Te,r.fillRect(e,i,R,B),r.fillStyle="black",r.fillText(n,e+R+3,i+4*B/5),e=se-Oe-R-Pe,i=ae-he-(s+=1)*(B+xe),r.strokeRect(e,i,R,B),r.fillStyle=Ie,r.fillRect(e,i,R,B),r.fillStyle="black",r.fillText(t,e+R+3,i+4*B/5),e=se-Oe-R-Pe,i=ae-he-(s+=1)*(B+xe),r.strokeRect(e,i,R,B),r.fillStyle=Me,r.fillRect(e,i,R,B),r.fillStyle="black",r.fillText(l,e+R+3,i+4*B/5),e=se-Oe-R-Pe,i=ae-he-(s+=1)*(B+xe),r.strokeRect(e,i,R,B),r.fillStyle=Ce,r.fillRect(e,i,R,B),r.fillStyle="black",r.fillText(o,e+R+3,i+4*B/5)}function un(e,i,n){var t,o,r,s,a,c;for(i=i.restorePinTreeNodeName().restoreSpecialCharacters(),c=(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e])+":0",t=0,r=NUTOOL_PIN.g_cfg_gpios.length;t<r;t+=1)if(c===NUTOOL_PIN.g_cfg_gpios[t].f[0]){for(o=0,s=NUTOOL_PIN.g_cfg_gpios[t].f.length;o<s;o+=1)if(void 0===n||!1===n){if("AD"!==i){if(0===NUTOOL_PIN.g_cfg_gpios[t].f[o].indexOf(i)){if(yi(a,NUTOOL_PIN.g_cfg_gpios[t].f[o].slice(NUTOOL_PIN.g_cfg_gpios[t].f[o].indexOf(":")+1)),-1!==l.indexOf("KM1M7CF")){for(k=0,r=NUTOOL_PIN.g_cfg_gpios_FPS_mapping.length;k<r;k+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPS_mapping[k].indexOf(a)){d=NUTOOL_PIN.g_cfg_gpios_FPS_mapping[k].sliceAfterX(":");break}null!=d&&(Ee[d+"_SEL"]=0)}break}}else if(0!==NUTOOL_PIN.g_cfg_gpios[t].f[o].indexOf("ADC")&&0===NUTOOL_PIN.g_cfg_gpios[t].f[o].indexOf(i)){yi(a,NUTOOL_PIN.g_cfg_gpios[t].f[o].slice(NUTOOL_PIN.g_cfg_gpios[t].f[o].indexOf(":")+1));break}}else if((c=(c=NUTOOL_PIN.g_cfg_gpios[t].f[o]).slicePriorToX(":"))===i){if(yi(a,NUTOOL_PIN.g_cfg_gpios[t].f[o].slice(NUTOOL_PIN.g_cfg_gpios[t].f[o].indexOf(":")+1)),-1!==l.indexOf("KM1M7CF")){var d,f;for(k=0,r=NUTOOL_PIN.g_cfg_gpios_FPS_mapping.length;k<r;k+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPS_mapping[k].indexOf(a)){d=NUTOOL_PIN.g_cfg_gpios_FPS_mapping[k].sliceAfterX(":");break}if(null!=d){for(m=0,r=NUTOOL_PIN.g_cfg_gpios_FPS_value.length;m<r;m+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPS_value[m].indexOf(i)){f=NUTOOL_PIN.g_cfg_gpios_FPS_value[m].sliceAfterX(":");break}Ee[d+"_SEL"]=null!=f?f>>>0:0}}break}break}-1!==l.indexOf("KM1M4BF5")&&(0!=ve.filter((function(e){return/DBG_SWDD/.test(e)})).length||0!=ve.filter((function(e){return/DBG_SWDCLK/.test(e)})).length?Ee.SELSWD=1:Ee.SELSWD=0),t=null,o=null,r=null,s=null,a=null,c=null}function Nn(){ki(),"none"===$("#mfpTree").css("display")?$("#moduleTree").height(oe-$("#supportedModules").height()):($("#mfpTree").height(le),$("#moduleTree").height(oe-$("#ChipType").height()-$("#MCU").height()-le-6-$("#supportedModules").height())),ti(),function(){var e,i,n,t,l=[];for(e=0,i=(l=zi(ve)).length;e<i;e+=1)n=l[e],""!==(t=ve[n])&&(gi(n=parseInt(n,10),t,!1),Zi(n+1,Te));for(e=0,i=We.length;e<i;e+=1)Zi(n=We[e],Te);l=[],n=null,t=null,e=null,i=null}()}function pn(){var e=$("#panel");Qe?(e.find("canvas").css("zoom"," "+me+"%"),e.width(ne-X-8),e.height(te-8),$("#NUC_PinConfiguration_Canvas").width(ee*me/100),$("#NUC_PinConfiguration_Canvas").height(ie*me/100),$("#NUC_PinConfiguration_Canvas_Lining").width(ee*me/100),$("#NUC_PinConfiguration_Canvas_Lining").height(ie*me/100),-1!==o.indexOf("SOP")?($("#pin_side_0").width((be[0].w+2*H)*me/100),$("#pin_side_0").height((be[0].h+be[0].y[be[0].oneSidePinNumber-1]-be[0].y[0]+2*H)*me/100),$("#pin_side_1").width((be[1].w+2*H)*me/100),$("#pin_side_1").height((be[1].h+be[1].y[0]-be[1].y[be[1].oneSidePinNumber-1]+2*H)*me/100)):-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?($("#pin_side_0").width(re*me/100),$("#pin_side_0").height(re*me/100)):($("#pin_side_0").width((be[0].w+be[0].x[be[0].oneSidePinNumber-1]-be[0].x[0]+2*H)*me/100),$("#pin_side_0").height((be[0].h+2*H)*me/100),$("#pin_side_1").width((be[1].w+2*H)*me/100),$("#pin_side_1").height((be[1].h+be[1].y[0]-be[1].y[be[1].oneSidePinNumber-1]+2*H)*me/100),$("#pin_side_2").width((be[2].w+be[2].x[0]-be[2].x[be[2].oneSidePinNumber-1]+2*H)*me/100),$("#pin_side_2").height((be[2].h+2*H)*me/100),$("#pin_side_3").width((be[3].w+2*H)*me/100),$("#pin_side_3").height((be[3].h+be[3].y[be[3].oneSidePinNumber-1]-be[3].y[0]+2*H)*me/100)),e.css("border","3px solid white")):($("#parentOfPanel").css("zoom"," "+me+"%"),e.width((ne-X-8)/me*100),e.height((te-8)/me*100),e.css({position:"absolute",left:X/me*100+"px"})),en(),e=null}function On(){for(var e,i,n,t,l,o,r,s=[],a=0;Se.length>0&&a<1e3;)for(a+=1,e=parseInt(Se[0].slicePriorToX(":"),10),i=$e[e-1],l=-1,o=0,r=Ae[e-1];l!==o;)l=i.indexOf(r),o=i.lastIndexOf(r),n=Ei((t=(t=i.slice(l).slicePriorToX("/")+"_Pin"+e).replaceSpecialCharacters()).slicePriorToX("_")),s[0]=e,fi(t,n,s),$("#"+t).removeClass("jstree-checked"),$("#"+t).addClass("jstree-unchecked"),$("#"+n+"_Root").removeClass("jstree-undetermined"),$("#"+n+"_Root").removeClass("jstree-checked"),$("#"+n+"_Root").addClass("jstree-unchecked"),i=i.slice(l+1);Wi(),$("#moduleTree").find("li").each((function(e,i){$("#"+$(i).attr("id")+" >a").css("color","black")})),$("#moduleTree").jstree("close_all"),Se=[],s=[],Re=[],Ge=[],e=null,i=null,n=null,t=null,l=null,o=null,r=null,a=null}function hn(e){var i,n,t,l,o,r,s,a,c,d,f,g,_,u,N,p,O,h,P,x,T,I,M,C,m,U=[],b="",L=[],k=!0;if(0!==NUTOOL_PIN.g_cfg_shareBits.length){for(void 0===(c=localStorage.getItem("UIlanguage"))||null==c?(I=" or ",M=" should be ",C=".",m="(configure it again)"):"Simplified Chinese"===c?(I="或",M="应为",C="。",m="(再次配置它)"):"Traditional Chinese"===c?(I="或",M="應為",C="。",m="(再次配置它)"):(I=" or ",M=" should be ",C=".",m="(configure it again)"),i=0,o=NUTOOL_PIN.g_cfg_shareBits.length;i<o;i+=1)for(p=NUTOOL_PIN.g_cfg_shareBits[i],n=0,r=NUTOOL_PIN.g_cfg_gpioMatrix.length;n<r;n+=1){for(_=-1,t=1,s=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<s;t+=1)if(-1!==NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t].indexOf(p)){u=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[0],_=$.inArray(u,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]);break}if(-1!==_&&-1===$.inArray(_,U)){for(U.push(_),f=0,t=1,s=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<s;t+=1)P=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t],d=1<<(T=parseInt(P.slice(P.indexOf("[")+1,P.indexOf("]")),10))>>>0,x=P.slicePriorToX("["),f+=((Ee[x]&d)>>>T)*Math.pow(2,t-1);for(N=ve[_],g=0,O=Di(u,parseInt(u.sliceAfterX("."),10)),t=1,s=NUTOOL_PIN.g_cfg_gpios[O].f.length;t<s;t+=1)if(0===NUTOOL_PIN.g_cfg_gpios[O].f[t].indexOf(N+":")){g=NUTOOL_PIN.g_cfg_gpios[O].f[t],g=parseInt(g.slice(g.indexOf(":")+1),10);break}if(""===N&&(N=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][_]),f!==g){for(k=!1,L=[],t=1,s=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<s;t+=1)if(-1!==$.inArray(NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t].slicePriorToX(":"),NUTOOL_PIN.g_cfg_shareBits)&&(P=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t],d=1<<(T=parseInt(P.slice(P.indexOf("[")+1,P.indexOf("]")),10))>>>0,x=P.slicePriorToX("["),Ee[x]&d))for(d=1<<t-1>>>0,l=1,a=NUTOOL_PIN.g_cfg_gpios[O].f.length;l<a;l+=1)g=NUTOOL_PIN.g_cfg_gpios[O].f[l],(g=parseInt(g.slice(g.indexOf(":")+1),10))&d&&(0===NUTOOL_PIN.g_cfg_gpios[O].f[l].indexOf(N)?L.push(N+m):L.push(NUTOOL_PIN.g_cfg_gpios[O].f[l]));for(0===L.length&&L.push(NUTOOL_PIN.g_cfg_gpios[O].f[0].slicePriorToX(":")),h="",t=0,s=L.length;t<s;t+=1)0!==t&&t===s-1?h+=I:0!==t&&(h+=", "),h+=L[t].slicePriorToX(":"),t===s-1&&(h+=C);b=b+N+"(Pin"+(_+1)+")"+M+h+" <br />"}}}k||e("shareBit",b)}return void 0!==Fe.USB&&-1!==(h=ve.join()).indexOf("USB_D+")&&-1!==h.indexOf("USB_D-")&&-1===h.indexOf("USB_OTG_ID")&&(k=!1,e("USB_OTG_ID",b)),k}function Pn(e,i){var n,t,l,o=localStorage.getItem("UIlanguage");if("shareBit"===e)void 0===o||null==o?(n="Shared Bits Error",t="Some bits of GPIO registers would be configured by multiple multi-functions.These bits are called Shared Bits. The following corresponding relations between shared bits and multi-functions are incorrect.<br /><br />"+i+"<br />Unless they are all fixed, the operations of saving configuration, generating code and printing report will not be permitted.",l="Confirm"):"Simplified Chinese"===o?(n="共享位元错误",t="一些寄存器位元可能被复数个多功能给设置。这些位元称之为共享位元。下面共享位元与多功能组成的对应关系会是不正确的。<br /><br />"+i+"<br />除非它们都被修正，否则存档丶产生程式码及印出报告这些操作将不被允许。",l="确定"):"Traditional Chinese"===o?(n="共享位元錯誤",t="一些暫存器位元可能被複數個多功能給設置。這些位元稱之為共享位元。下面共享位元與多功能組成的對應關係會是不正確的。<br /><br />"+i+"<br />除非它們都被修正，否則存檔、產生程式碼及印出報告這些操作將不被允許。",l="確定"):(n="Shared Bits Error",t="Some bits of GPIO registers would be configured by multiple multi-functions.These bits are called Shared Bits. The following corresponding relations between shared bits and multi-functions are incorrect.<br /><br />"+i+"<br />Unless they are all fixed, the operations of saving configuration, generating code and printing report will not be permitted.",l="Confirm");else{if("USB_OTG_ID"!==e)return;void 0===o||null==o?(n="Incorrect USB Settings",t="USB_OTG_ID must be configured when enabling USB.",l="Confirm"):"Simplified Chinese"===o?(n="不正确的USB设置",t="当USB开启时，USB_OTG_ID必须被设置。",l="确定"):"Traditional Chinese"===o?(n="不正確的USB設置",t="當USB開啟時，USB_OTG_ID必須被設置。",l="確定"):(n="Incorrect USB Settings",t="USB_OTG_ID must be configured when enabling USB.",l="Confirm")}gn(),$('<div id="showPinErrorDialog"><p>'+t+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:n,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#showPinErrorDialog").dialog("destroy")},buttons:[{text:l,click:function(){$("#showPinErrorDialog").dialog("isOpen")&&$("#showPinErrorDialog").dialog("destroy")}}]}),n=null,t=null,l=null,o=null}function xn(e,i){var n,t,l,o,r=localStorage.getItem("UIlanguage");if("shareBit"===e)void 0===r||null==r?(n="Shared Bit Error",t="Some bits of GPIO registers would be configured by multiple multi-functions.These bits are called Shared Bits. The following corresponding relations between shared bits and multi-functions are incorrect.<br /><br />"+i+"<br />If you still want to close the application, please press Close. But all the configuration will be restored to the default.If you want to fix them, please press Fix.",l="Close",o="Fix"):"Simplified Chinese"===r?(n="共享位元错误",t="一些寄存器位元可能被复数个多功能给设置。这些位元称之为共享位元。下面共享位元与多功能组成的对应关系会是不正确的。<br /><br />"+i+"<br />若你仍想要关掉应用程式，请按'关闭'。但所有设置将会回复到初始值。若你想要修正他们，请按'修正'。",l="关闭",o="修正"):"Traditional Chinese"===r?(n="共享位元錯誤",t="一些暫存器位元可能被複數個多功能給設置。這些位元稱之為共享位元。下面共享位元與多功能組成的對應關係會是不正確的。<br /><br />"+i+"<br />若你仍想要關掉應用程式，請按'關閉'。但所有設置將會回復到初始值。若你想要修正他們，請按'修正'。",l="關閉",o="修正"):(n="Shared Bit Error",t="Some bits of GPIO registers would be configured by multiple multi-functions.These bits are called Shared Bits. The following corresponding relations between shared bits and multi-functions are incorrect.<br /><br />"+i+"<br />If you still want to close the application, please press Close. But all the configuration will be restored to the default.If you want to fix them, please press Fix.",l="Close",o="Fix");else{if("USB_OTG_ID"!==e)return;void 0===r||null==r?(n="Incorrect USB Settings",t="USB_OTG_ID must be configured when enabling USB.",l="Close",o="Fix"):"Simplified Chinese"===r?(n="不正确的USB设置",t="当USB开启时，USB_OTG_ID必须被设置。",l="关闭",o="修正"):"Traditional Chinese"===r?(n="不正確的USB設置",t="當USB開啟時，USB_OTG_ID必須被設置。",l="關閉",o="修正"):(n="Incorrect USB Settings",t="USB_OTG_ID must be configured when enabling USB.",l="Close",o="Fix")}gn(),$('<div id="showPinErrorDialog"><p>'+t+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:n,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#showPinErrorDialog").dialog("destroy")},buttons:[{text:l,click:function(){$("#showPinErrorDialog").dialog("isOpen")&&$("#showPinErrorDialog").dialog("destroy"),On(),Si(),window.external.closeFromJS()}},{text:o,click:function(){$("#showPinErrorDialog").dialog("isOpen")&&$("#showPinErrorDialog").dialog("destroy")}}]}),n=null,t=null,l=null,r=null}function Tn(e){var i,n,t,l,o,r,s=!0,a=[];if($("#rootTree_Pin").is(":visible")){for(i=0,n=(a=zi(Ee)).length;i<n;i+=1)if(Xe[a[i]]!==Ee[a[i]]){s=!1;break}s?e():(Ti(),"Simplified Chinese"===ge?(t="警告",l="配置档已被修改过。请问你要储存它吗?",o="要",r="不要"):"Traditional Chinese"===ge?(t="警告",l="配置檔已被修改過。請問你要儲存它嗎?",o="要",r="不要"):(t="Warning",l="The configuration has been modified.<br />Would you like to save it?",o="Yes",r="No"),gn(),$('<div id="warningForSavingDialog"><p>'+l+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!0,draggable:!1,resizable:!1,title:t,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#warningForSavingDialog").dialog("destroy")},buttons:[{text:o,click:function(){if(hn(Pn))try{external.saveConfigFromJS("NUC_BROWSE_PROJECT_PATH")}catch(e){}e(),$("#warningForSavingDialog").dialog("isOpen")&&$("#warningForSavingDialog").dialog("destroy")}},{text:r,click:function(){e(),Sn(),$("#warningForSavingDialog").dialog("isOpen")&&$("#warningForSavingDialog").dialog("destroy")}}]}),t=null,l=null,o=null,r=null),s=null,a=[]}}function In(e){var i,n,t,l,o,r,s,a,c="",d=localStorage.getItem("UIlanguage");for(void 0===d||null==d?(i="Adjustment of the Conflict",n="Some modules have been adjusted. The others unable to adjust have been removed. Here is the list:<hr>",t=" Pin",l="",o="from",s="Undo",a="Confirm"):"Simplified Chinese"===d?(i="冲突的调整",n="一些模组已被调整，其它无法调整的已被移除。列表如下:<hr>",t="第",l="脚位",o="从",r="已移除",s="复原",a="确定"):"Traditional Chinese"===d?(i="衝突的調整",n="一些模組已被調整，其它無法調整的已被移除。列表如下:<hr>",t="第",l="腳位",o="從",r="已移除",s="復原",a="確定"):(i="Adjustment of the Conflict",n="Some modules have been adjusted. The others unable to adjust have been removed. Here is the list:<hr>",t=" Pin",l="",o="from",r=" has been removed",s="Undo",a="Confirm");-1!==e.indexOf(";");)c=e.sliceAfterX("/").slicePriorToX(";"),-1!==e.slicePriorToX(";").indexOf("removed")?(c="",e.slicePriorToX(":")!==ve[parseInt(e.sliceAfterX(":").slicePriorToX("/"),10)-1]&&(n+="<b><big>"+qi(e.slicePriorToX(":"))+":"+t+Qi(e.sliceAfterX(":").slicePriorToX("/"))+l+r+"</big></b><br />",n+=qi(ve[parseInt(e.sliceAfterX(":").slicePriorToX("/"),10)-1])+":"+t+Qi(e.sliceAfterX(":").slicePriorToX("/"))+l+"<hr>")):-1!==e.slicePriorToX(";").indexOf("end")?(c="",n+=qi(e.slicePriorToX(":"))+":"+t+Qi(e.sliceAfterX(":").slicePriorToX("/"))+l+"<hr>"):n+=qi(e.slicePriorToX(":"))+":"+t+Qi(e.sliceAfterX(":").slicePriorToX("/"))+l+"("+o+t+Qi(e.sliceAfterX("/").slicePriorToX(";"))+l+")<br />",e=e.sliceAfterX(";");""!==c&&(n+=qi(ve[parseInt(c,10)-1])+":"+t+Qi(c)+l+"<hr>"),gn(),$('<div id="adjustedModulesDialog"><p>'+n+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:i,width:500,height:400,show:"fade",hide:"fade",close:function(){$("#adjustedModulesDialog").dialog("destroy")},buttons:[{text:s,click:function(){!function(){var e,i,n=zi(Ee);for(qe=!0,je=[],e=0,i=n.length;e<i;e+=1)je[n[e]]=Be[n[e]];for(ye=[],e=0,i=De.length;e<i;e+=1)ye[e]=De[e];Se=[],Ee=[],Ae=[],ve=[],ni(),en(),ce.removeContext($("#NUC_PinConfiguration_Canvas")),ce.removeContext($("#NUC_PinConfiguration_Canvas_Lining")),$("#mfpTree").jstree("destroy"),$("#supportedModules").jstree("destroy"),$("#moduleTree").jstree("destroy"),$("#mfpTree").remove(),$("#supportedModules").remove(),$("#moduleTree").remove(),$("div").remove(".tooltip"),vi(),0===$("#NUC_PinConfiguration_Canvas").length&&$("#panel")[0].appendChild(Hi("canvas","NUC_PinConfiguration_Canvas")),Ki(),oi(),ti(),$i()}(),$("#adjustedModulesDialog").dialog("isOpen")&&$("#adjustedModulesDialog").dialog("destroy")}},{text:a,click:function(){$("#adjustedModulesDialog").dialog("isOpen")&&$("#adjustedModulesDialog").dialog("destroy")}}]}),i=null,n=null,c=null,t=null,l=null,o=null,r=null,a=null,d=null}function Mn(e,i){var n,t,r,s,a,c,d,f,g,_,u,N,p,O,h,P,x=[];Ti(),"Simplified Chinese"===ge?(n="方案",t="方案名称",r="方案日期",s="型号",a="芯片系列",c="微控器名称",d="微控器封装",f="芯片图示",g="脚位配置",_="模组配置",u="多工泛用脚位配置",N="寄存器配置"):"Traditional Chinese"===ge?(n="方案",t="方案名稱",r="方案日期",s="型號",a="晶片系列",c="微控器名稱",d="微控器封裝",f="晶片圖示",g="腳位配置",_="模組配置",u="多工泛用腳位配置",N="暫存器配置"):(n="Project",t="Project Name",r="Project Date",s="Part No.",a="Chip Series",c="MCU Name",d="MCU Package",f="ChipView",g="Pin Configuration",_="Module Configuration",u="GPIO Configuration",N="Register Configuration"),p="<!DOCTYPE html>",p+="<html>",p+="<head><title>Print Report</title></head>",p+="<body>",p+='<table  style="border: 10px ridge black; background-color: white;" align="left" cellpadding="5" cellspacing="5" frame="border" rules="all"><caption style="text-align:left">'+n+'</caption><tr> <td style="border: 1px solid black;">'+t+'</td> <td style="border: 1px solid black;">'+e+'</td> </tr> <tr> <td style="border: 1px solid black;">'+r+'</td> <td style="border: 1px solid black;">'+((O=new Date).getMonth()+1+"/"+O.getDate()+"/"+O.getFullYear()+" "+O.getHours()+":"+O.getMinutes()+":"+O.getSeconds())+"</td> </tr> </table>",h=o.slicePriorToX("("),p+='<table  style="border: 10px ridge black; background-color: white;" align="left" cellpadding="5" cellspacing="5" frame="border" rules="all"><caption style="text-align:left">'+s+'</caption><tr> <td style="border: 1px solid black;">'+a+'</td> <td style="border: 1px solid black;">'+l+'</td> </tr> <tr> <td style="border: 1px solid black;">'+c+'</td> <td style="border: 1px solid black;">'+h+'</td> </tr> <tr> <td style="border: 1px solid black;">'+d+'</td> <td style="border: 1px solid black;">'+NUTOOL_PIN.g_packageNumber+"</td> </tr></table>",p+="<br><br><br><br><br><br><br>",p+="<hr>",null!==i&&(-1!==i.indexOf("checkbox_byChipView")&&(p=function(e,i){var n,t,l,r,s,a,c,d,f,g,_,u,N,p,O,h,P,x,T,I=0;if($("#panel")[0].appendChild(Hi("canvas","NUC_ChipView_Canvas")),(l=$("#NUC_ChipView_Canvas")[0]).setAttribute("style","z-index:1; position:absolute; left:0px; top:0px; border: 1px solid white;"),r=30,a=(s=200)+R+Y+re+R+re/4,c=s+R+re+R+s,l.setAttribute("width",a),l.setAttribute("height",c),(d=ce.getContext(l)).scale(.85,.85),f=s+R+Y,g=s+R,-1!==o.indexOf("SOP")){f-=r,d.strokeRect(f,g,re/2,re),d.fillStyle="white",d.fillRect(f,g,re/2,re),d.beginPath(),d.arc(f+10,g+10,5,0,2*Math.PI,!0),d.stroke(),x=1;do{x+=1,d.font=x+"px Arial Black"}while(d.measureText(_e).width<re/2);for(I=x,d.save(),d.translate(f+re/4,g+re/2-d.measureText(_e).width/2),d.rotate(Math.PI/2),d.fillStyle="#FE2E2E",d.fillText(_e,0,0),d.restore(),_=o.slicePriorToX("("),n=0,t=NUTOOL_PIN.g_cfg_chips.length;n<t;n+=1)if(NUTOOL_PIN.g_cfg_chips[n].name+"("+NUTOOL_PIN.g_cfg_chips[n].pkg+")"===o){void 0!==NUTOOL_PIN.g_cfg_chips[n].display&&(_=NUTOOL_PIN.g_cfg_chips[n].display);break}d.fillStyle="black",T=1;do{T+=1,d.font="bold "+T+"px Calibri"}while(d.measureText(_).width<re/2);T>x&&(T=x,d.font="bold "+T+"px Calibri"),I=T/2+5,d.save(),d.translate(f+re/4-I,g+re/2-d.measureText(_).width/2),d.rotate(Math.PI/2),d.fillText(_,0,0),d.restore(),x=1;do{x+=1,d.font="bold "+x+"px Calibri"}while(d.measureText(NUTOOL_PIN.g_packageNumber).width<re/4);for(I=I+x/2+5,d.save(),d.translate(f+re/4-I,g+re/2-d.measureText(NUTOOL_PIN.g_packageNumber).width/2),d.rotate(Math.PI/2),d.fillText(NUTOOL_PIN.g_packageNumber,0,0),d.restore(),d.font=E,d.fillStyle="black",n=0,t=S/2;n<t;n+=1)N=f+V,p=g+z+n*(B+K)+4*B/5,d.strokeText((n+1).toString(),N,p),""!==ve[n]&&(P=qi(ve[n]),N=f-R-Z,d.save(),d.textAlign="end",d.fillText(P,N,p),d.restore()),N=f-R+W,p=g+z+n*(B+K),d.strokeRect(N,p,R,B),d.fillStyle=be[0].savedPinPadColor[n],d.fillRect(N,p,R,B),-1!==(h=$e[n]).lastIndexOf("/")&&(h=h.slice(h.lastIndexOf("/")+1)),!mi(h)&&h.length>4&&(h=h.slice(0,4)+".."),d.font=E,d.fillStyle="black",d.fillText(h,N,p+4*B/5,R,B),N=f+re/2,p=g+re-z-B-n*(B+K)+4*B/5,O=d.measureText((n+1+S/2).toString()),d.strokeText((n+1+S/2).toString(),N-O.width-V,p),""!==ve[n+S/2]&&(P=qi(ve[n+S/2]),N=f+re/2+R+Z,d.fillText(P,N,p)),N=f+re/2,p=g+re-z-B-n*(B+K),d.strokeRect(N,p,R,B),d.fillStyle=be[1].savedPinPadColor[n],d.fillRect(N,p,R,B),!mi(h=(h=$e[n+S/2]).slicePriorToX("/"))&&h.length>4&&(h=h.slice(0,4)+".."),d.font=E,d.fillStyle="black",d.fillText(h,N,p+4*B/5)}else if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")){for(f-=r,d.lineWidth=2,d.strokeRect(f,g,re,re),d.fillStyle="white",d.fillRect(f,g,re,re),d.beginPath(),d.arc(f+10,g+re-10,5,0,2*Math.PI,!0),d.stroke(),d.font=E,d.fillStyle="black",n=0,t=j;n<t;n+=1)N=f+V,p=g+z+G+(j-1-n%j)*(2*G+K),d.fillText((n+1).toString(),N,p);for(n=0,t=F;n<t;n+=1)N=f+z+G+n*(2*G+K)-4,p=g+re-5,d.fillText(NUTOOL_PIN.g_horizontalIndexArray[n],N,p);for(n=0;n<S;n+=1)N=f+z+G+Math.floor(n/j)*(2*G+K),p=f+z+G+(j-1-n%j)*(2*G+K),d.beginPath(),d.arc(N,p,G,0,2*Math.PI,!0),d.strokeStyle="black",d.stroke(),d.fillStyle=be[0].savedPinPadColor[n],d.fill(),-1!==(h=""!==ve[n]?qi(ve[n]):be[0].savedPinName[n]).lastIndexOf("/")&&(h=h.slice(h.lastIndexOf("/")+1)),h.length>6&&(h=h.slice(0,6)+".."),d.font=E,d.fillStyle="black",d.fillText(h,N-d.measureText(h).width/2,p+parseInt(d.font,10)/2)}else{f-=r,d.strokeRect(f,g,re,re),d.fillStyle="white",d.fillRect(f,g,re,re),d.beginPath(),d.arc(f+10,g+re-10,5,0,2*Math.PI,!0),d.stroke(),x=1;do{x+=1,d.font=x+"px Arial Black"}while(d.measureText(_e).width<re/2);for(d.fillStyle="#FE2E2E",d.fillText(_e,f+re/2-d.measureText(_e).width/2,g+re/2),_=o.slicePriorToX("("),n=0,t=NUTOOL_PIN.g_cfg_chips.length;n<t;n+=1)if(NUTOOL_PIN.g_cfg_chips[n].name+"("+NUTOOL_PIN.g_cfg_chips[n].pkg+")"===o){void 0!==NUTOOL_PIN.g_cfg_chips[n].display&&(_=NUTOOL_PIN.g_cfg_chips[n].display);break}d.fillStyle="black",T=1;do{T+=1,d.font="bold "+T+"px Calibri"}while(d.measureText(_).width<re/2);T>x&&(T=x,d.font="bold "+T+"px Calibri"),I=T/2+10,d.fillText(_,f+re/2-d.measureText(_).width/2,g+re/2+I),x=1;do{x+=1,d.font="bold "+x+"px Calibri"}while(d.measureText(NUTOOL_PIN.g_packageNumber).width<re/4);for(I=I+x/2+10,d.fillText(NUTOOL_PIN.g_packageNumber,f+re/2-d.measureText(NUTOOL_PIN.g_packageNumber).width/2,g+re/2+I),d.font=E,d.fillStyle="black",u=Math.floor((w-A)/2),n=0,t=A;n<t;n+=1)N=f+z+(n+u)*(B+K),p=g+re,d.save(),d.translate(N,p),d.rotate(-Math.PI/2),d.strokeText((n+1).toString(),V,4*B/5),d.restore(),""!==ve[n]&&(P=qi(ve[n]),p=g+re+R,d.save(),d.translate(N,p),d.rotate(-Math.PI/2),d.textAlign="end",d.fillText(P,-V,4*B/5),d.restore()),N=f+z+(n+u)*(B+K)-W,p=g+re,d.strokeRect(N,p,B,R),d.fillStyle=be[0].savedPinPadColor[n],d.fillRect(N,p,B,R),-1!==(h=$e[n]).lastIndexOf("/")&&(h=h.slice(h.lastIndexOf("/")+1)),!mi(h)&&h.length>4&&(h=h.slice(0,4)+".."),p+=R,d.font=E,d.fillStyle="black",d.save(),d.translate(N,p),d.rotate(-Math.PI/2),d.fillText(h,W,4*B/5),d.restore();for(u=Math.floor((w-v)/2),n=0,t=v;n<t;n+=1)N=f+re,p=g+re-z-B-(n+u)*(B+K)+4*B/5,O=d.measureText((n+1+A).toString()),d.strokeText((n+1+A).toString(),N-O.width-V,p),""!==ve[n+A]&&(P=qi(ve[n+A]),N=f+re+R+Z,d.fillText(P,N,p)),N=f+re,p=g+re-z-B-(n+u)*(B+K),d.strokeRect(N,p,R,B),d.fillStyle=be[1].savedPinPadColor[n],d.fillRect(N,p,R,B),!mi(h=(h=$e[n+A]).slicePriorToX("/"))&&h.length>4&&(h=h.slice(0,4)+".."),d.font=E,d.fillStyle="black",d.fillText(h,N,p+4*B/5);for(u=Math.floor((w-y)/2),n=0,t=y;n<t;n+=1)N=f+re-z-B-(n+u)*(B+K)-W,p=g-R,d.save(),d.translate(N,p),d.rotate(-Math.PI/2),O=d.measureText((n+1+A+v).toString()),d.strokeText((n+1+A+v).toString(),-R-O.width-V,4*B/5),d.restore(),""!==ve[n+A+v]&&(P=qi(ve[n+A+v]),d.save(),d.translate(N,p),d.rotate(-Math.PI/2),d.fillText(P,2*Z,4*B/5),d.restore()),p=g-R+W,d.strokeRect(N,p,B,R),d.fillStyle=be[2].savedPinPadColor[n],d.fillRect(N,p,B,R),!mi(h=(h=$e[n+A+v]).slicePriorToX("/"))&&h.length>4&&(h=h.slice(0,4)+".."),d.font=E,d.fillStyle="black",p+=R,d.save(),d.translate(N,p),d.rotate(-Math.PI/2),d.textAlign="end",d.fillText(h,R,4*B/5),d.restore();for(u=Math.floor((w-D)/2),n=0,t=D;n<t;n+=1)N=f+V,p=g+z+(n+u)*(B+K)+4*B/5,d.strokeText((n+1+A+v+y).toString(),N,p),""!==ve[n+A+v+y]&&(P=qi(ve[n+A+v+y]),N=f-R-Z,d.save(),d.textAlign="end",d.fillText(P,N,p),d.restore()),N=f-R+W,p=g+z+(n+u)*(B+K),d.strokeRect(N,p,R,B),d.fillStyle=be[3].savedPinPadColor[n],d.fillRect(N,p,R,B),-1!==(h=$e[n+A+v+y]).lastIndexOf("/")&&(h=h.slice(h.lastIndexOf("/")+1)),!mi(h)&&h.length>4&&(h=h.slice(0,4)+".."),d.font=E,d.fillStyle="black",d.fillText(h,N,p+4*B/5,R,B)}Qe||(e+="<h4>"+i+"</h4>",e+='<img src="'+document.getElementById("NUC_ChipView_Canvas").toDataURL()+'">',e+="<hr>",null);return $("#NUC_ChipView_Canvas").remove(),f+=r,n=null,t=null,l=null,r=null,f=null,g=null,s=null,a=null,c=null,d=null,null,_=null,u=null,N=null,p=null,h=null,null,x=null,T=null,I=null,e}(p,f)),-1!==i.indexOf("checkbox_byRegister")&&(p=function(e,i){var n,t,l=[];for(e+='<table  style="border: 10px ridge black; background-color: white;" align="left" cellpadding="5" cellspacing="5" frame="border" rules="all"><caption style="text-align:left">'+i+"</caption>",(l=zi(Ee)).sort(),n=0,t=l.length;n<t;n+=1)e+='<tr><td style="border: 1px solid black;">'+l[n]+'</td> <td style="border: 1px solid black;">0x'+Gi(Ee[l[n]]).toUpperCase()+"</td></tr>";return e+="</table>",n=null,t=null,e}(p,N)),-1!==i.indexOf("checkbox_byPin")&&(p=function(e,i){var n,t=e,l=!0;for(e+='<table style="border: 10px ridge black; background-color: white;" align="left" cellpadding="5" cellspacing="5" frame="box" rules="all" ><caption style="text-align:left">'+i+"</caption>",n=1;n<=S;n+=1)""!==ve[n-1]&&(e+='<tr><td style="border: 1px solid black;">Pin'+Qi(n)+'</td> <td style="border: 1px solid black;">'+qi(ve[n-1])+"</td></tr>",l=!1);e+="</table>",l&&(e=t);return t=null,l=null,e}(p,g)),-1!==i.indexOf("checkbox_byModule")&&(p=function(e,i){var n,t,l,o,r,s,a,c=e,d=!0,f=[],g=[];for(n=1;n<=S;n+=1)""!==ve[n-1]&&(s=n,-1!==(a=r=ve[n-1]).indexOf("_")&&(a=a.slicePriorToX("_")),void 0===f[a=Ei(a)]?(f[a]=[],f[a][0]=qi(r)+"(Pin:"+Qi(s)+")"):f[a].push(qi(r)+"(Pin:"+Qi(s)+")"),d=!1);for(g=zi(f),e+='<table  style="border: 10px ridge black; background-color: white;" align="left" cellpadding="5" cellspacing="5" frame="border" rules="all"><caption style="text-align:left">'+i+"</caption>",n=0,l=g.length;n<l;n+=1)for(f[g[n]].sort(li),t=0,o=f[g[n]].length;t<o;t+=1)e+='<tr><td style="border: 1px solid black;">'+g[n]+'</td> <td style="border: 1px solid black;">'+f[g[n]][t]+"</td></tr>";e+="</table>",d&&(e=c);return n=null,t=null,l=null,o=null,f=[],g=[],c=null,d=null,r=null,s=null,a=null,e}(p,_)),-1!==i.indexOf("checkbox_byGPIO")&&(p=function(e,i){var n,t,l,o,r,s,a,c,d=e,f=!0,g=[],_=[];for(n=1;n<=S;n+=1)""!==ve[n-1]&&(s=n,r=qi(ve[n-1]),void 0===g[a=Ei(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][s-1])]?(g[a]=[],g[a][0]=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][s-1]+": "+r+"(Pin:"+Qi(s)+")"):g[a].push(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][s-1]+": "+r+"(Pin:"+Qi(s)+")"),f=!1);for(_=zi(g).sort(li),e+='<table  style="border: 10px ridge black; background-color: white;" align="left" cellpadding="5" cellspacing="5" frame="border" rules="all"><caption style="text-align:left">'+i+"</caption>",n=0,l=_.length;n<l;n+=1)for(g[_[n]].sort(li),t=0,o=g[_[n]].length;t<o;t+=1)e+='<tr><td style="border: 1px solid black;">'+(c=g[_[n]][t]).slicePriorToX(":")+'</td> <td style="border: 1px solid black;">'+c.sliceAfterX(": ")+"</td></tr>";e+="</table>",f&&(e=d);return n=null,t=null,l=null,o=null,g=[],_=[],d=null,f=null,r=null,s=null,a=null,c=null,e}(p,u))),p+="</body>",p+="</html>",(P=window.open("dummy.htm","",x)).document.open(),P.document.write(p),P.document.close(),P.moveTo(0,0),P.focus(),P.print(),n=null,t=null,r=null,s=null,a=null,c=null,d=null,f=null,g=null,_=null,u=null,N=null,O=null,p=null,h=null,P=null,x=null}function Cn(e){for($("#ChipTypeSelect").val(e),l=e,n=null,i=0,max=NUTOOL_PIN.g_cfg_chips.length;i<max;i+=1)newPartNumber_package===NUTOOL_PIN.g_cfg_chips[i].name&&(n=NUTOOL_PIN.g_cfg_chips[i].name+"("+NUTOOL_PIN.g_cfg_chips[i].pkg+")");null!==n&&n!==o&&(Ni(),on(),o=n,NUTOOL_PIN.decidepackageNumber(),Pi(),qe=!1,je=[],ye=[],He={},r=null,cn(),me=100,pn(),gn())}function mn(){for(n=null,i=0,max=NUTOOL_PIN.g_cfg_chips.length;i<max;i+=1)newPartNumber_package===NUTOOL_PIN.g_cfg_chips[i].name&&(n=NUTOOL_PIN.g_cfg_chips[i].name+"("+NUTOOL_PIN.g_cfg_chips[i].pkg+")");null!==n&&n!==o&&(Ni(),on(),o=n,NUTOOL_PIN.decidepackageNumber(),Pi(),qe=!1,je=[],ye=[],He={},r=null,cn(),me=100,pn(),gn())}function Un(){$("#rootTree_Pin").is(":visible")&&("undefined"==typeof NUTOOL_PER?"none"===$("#mfpTree").css("display")?($("#ChipType").show(),$("#MCU").show(),$("#mfpTree").show(),$("#mfpTree").height(le),$("#moduleTree").height(oe-$("#ChipType").height()-$("#MCU").height()-le-6-$("#supportedModules").height())):($("#ChipType").hide(),$("#MCU").hide(),$("#mfpTree").hide(),$("#moduleTree").height(oe-$("#supportedModules").height())):"none"===$("#mfpTree").css("display")?($("#mfpTree").show(),$("#mfpTree").height(le),$("#moduleTree").height(oe-$("#ChipType").height()-$("#MCU").height()-le-6-$("#supportedModules").height())):($("#mfpTree").hide(),$("#moduleTree").height(oe-$("#supportedModules").height())))}function bn(){try{Je=!0,hi()||(Oi("配置档不正确。","配置檔不正確。","The config file is incorrect."),qe=!1),Ni(),on(),cn(),Wi(),me=100,pn(),$("#MCUselect").val(o),n=o,gn(),Je=!1}catch(e){}}function Ln(){if(hn(Pn))try{kn();var e=`/****************************************************************************\n * @file     ${o}.ncfg\n * @version  ${NUTOOL_PIN.g_toolName.sliceAfterX("_")}\n * @Date     ${new Date}\n * @brief    ${ue} config file\n *\n * @note Please do not modify this file.\n *       Otherwise, it may not be loaded successfully.\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${Ne} All rights reserved.\n*****************************************************************************/\nMCU:${o}\n${g}${_}${x}${a}/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Ne} ***/\n`,i=new Blob([e],{type:"text/plain;charset=utf-8"});saveAs(i,`${o}.ncfg`)}catch(e){console.log("saveConfig failed, meg:"+e)}}function kn(){var e,i,n,t=[],l="SYS->";for(0!==NUTOOL_PIN.g_cfg_gpiosDefines.length&&NUTOOL_PIN.g_cfg_gpiosDefines[0].f.length>1&&0===NUTOOL_PIN.g_cfg_gpiosDefines[0].f[1].indexOf("GPIO:GPIO_")&&(l="GPIO_MD->"),a="",(t=zi(Ee)).sort(),e=0,i=t.length;e<i;e+=1)a+=l+t[e]+" = 0x"+Gi(Ee[t[e]]).toUpperCase()+"\n";for(g="",e=1;e<=S;e+=1)""!==ve[e-1]?g+="Pin"+Qi(e)+":"+ve[e-1]+"\n":(n=(n=$e[e-1].slice($e[e-1].indexOf(Ae[e-1]))).slicePriorToX("/"),g+="Pin"+Qi(e)+":"+n+"\n");for(_="",e=0,i=ye.length;e<i;e+=1)_+="GPIOpin:"+ye[e]+"\n";for(n in x="",He)He.hasOwnProperty(n)&&""!==He[n].trim()&&(x+="UserDefined:"+n+"=>"+He[n]+"\n");e=null,i=null,t=[],n=null}function $n(){var e,i,n,t,l,o,r,s,a,c,d=[];for(u="Pin,Current Multi Function,Group\n",e=0,i=1;e<S;e+=1)o=""!==ve[e]?NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e]+"/"+qi(ve[e]).replace(/[.]/g,"").replace(/\s/g,"_").replace(/[`~!@#$%^&*()|+\-=?;:'",<>\{\}\[\]\\\/]/gi,"_"):NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e],s=null==NUTOOL_PIN.g_cfg_OrCAD[NUTOOL_PIN.g_packageNumberIndex]?"":NUTOOL_PIN.g_cfg_OrCAD[NUTOOL_PIN.g_packageNumberIndex][e],-1===o.indexOf("NC_ToolNotShow")&&(u+=Qi(e+1)+","+o+","+s+"\n",mi(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e])&&""!==ve[e]&&((c={}).id=i,c.pin=Qi(e+1)+" ("+NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e]+")",c.pinNumber=e+1,c.description=ve[e],void 0!==He[ve[e]]&&""!==He[ve[e]].trim()?c.userDefined=He[ve[e]]:c.userDefined="",i+=1,d.push(c)));for(u+="\nPin,Description,Group\n",e=0;e<S;e+=1){for(o="",a=(r=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e])+":0",i=0,t=NUTOOL_PIN.g_cfg_gpios.length;i<t;i+=1)if(a===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=0,l=NUTOOL_PIN.g_cfg_gpios[i].f.length;n<l;n+=1)o+=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":"),n!==NUTOOL_PIN.g_cfg_gpios[i].f.length-1&&(o+="/");break}""===o&&(o=r),s=null==NUTOOL_PIN.g_cfg_OrCAD[NUTOOL_PIN.g_packageNumberIndex]?"":NUTOOL_PIN.g_cfg_OrCAD[NUTOOL_PIN.g_packageNumberIndex][e],-1===o.indexOf("NC_ToolNotShow")&&(u+=Qi(e+1)+","+o+","+s+"\n")}return d}function Sn(){var e,i,n=[];for(n=zi(Ee),Xe=[],e=0,i=n.length;e<i;e+=1)Xe[n[e]]=Ee[n[e]];e=null,i=null,n=[]}function An(){$("#rootTree_Pin").is(":visible")&&(Ve=!Ve,ni(),en(),Nn(),$("#panel").css("overflow-x","scroll"),$("#panel").css("overflow-y","scroll"),me=100,pn())}function vn(e,i,n){!U&&window.console&&window.console.log(i+": "+n),He[i]=n.trim(),gi(parseInt(e,10)-1,i.trim(),!1),-1===o.indexOf("WLCSP")&&-1===o.indexOf("BGA")||Zi(parseInt(e,10),"savedPinPadColor")}function yn(e){var i,n,t,o,r,s,a,c,d,f,g,_,u,N="checked=true",p="",O=[],h="",P="",x="",T="",I="",M=null,C=[],m=localStorage.getItem("UIlanguage"),U="",b="",L="";if(function(e,i){var n,t,l,o=["*","?",'"',"<",">","|"],r=!0;for(n=0,t=o.length;n<t;n+=1)if(l=o[n],-1!==i.indexOf(o[n])){Oi("工程路径不应该包含"+l+"。请修正它。","專案路徑不應該包含"+l+"。請修正它。","The project path should not contain "+l+". Please fix it."),r=!1;break}for(o.push("\\"),o.push("/"),o.push(":"),n=0,t=o.length;n<t;n+=1)if(l=o[n],-1!==e.indexOf(l)){Oi("工程名称不应该包含"+l+"。请修正它。","專案名稱不應該包含"+l+"。請修正它。","The project name should not contain "+l+". Please fix it."),r=!1;break}return i.charAt(0).match(/^[a-zA-Z]/)&&i.charAt(1).match(/^[:]/)&&i.charAt(2).match(/^[\/\\]/)||(Oi("工程路径开头应为磁碟机代号、磁碟区分隔符号和元件分隔符号(C:)。请修正它。","專案路徑開頭應為磁碟機代號、磁碟區分隔符號和元件分隔符號(C:)。請修正它。","The project path should begin with a drive letter, a volume separator and a component separator (C:). Please fix it."),r=!1),e.slice(-1).match(/^[ .]/)&&(Oi("工程名称不应以空格或句号结尾。请修正它。","專案名稱不應以空格或句號結尾。請修正它。","The project name should not end with a space or peroid. Please fix it."),r=!1),r},g=function(){-1!==ge.indexOf("Simplified")?(h="脚位",P="描述",x="用户定义",T="仅限英文字母、数字和底线。\n最大输入长度为30。",I="没有可用数据，因为尚未配置。"):-1!==ge.indexOf("Traditional")?(h="腳位",P="描述",x="用戶定義",T="僅限英文字母、數字和底線。\n最大輸入長度為30。",I="沒有可用數據，因為尚未配置。"):(h="Pin",P="Description",x="User Defined",T="English letters, digits and underscores only.\nMaximum length of input is 30.",I="No data available because not configured yet."),$("#reviewReportTable")[0]||$("<div id='reviewReportTable'></div>").insertAfter($("#generateCodeDialogMainPart_div")),C=$n(),_=C.length>10?"282px":"100%",C.length>0?(M=new Tabulator("#reviewReportTable",{height:_,data:C,layout:"fitColumns",columns:[{title:h,field:"pin",headerFilter:!0},{title:P,field:"description",headerFilter:!0},{title:x,field:"userDefined",headerFilter:!0,editor:!0,validator:["regex:^[a-zA-Z0-9 _]+$","maxLength:30"],tooltip:T}],cellEdited:function(e){vn(e._cell.row.data.pinNumber,e._cell.row.data.description,e._cell.value)},langs:{Simplified:{headerFilters:{default:"过滤"}},Traditional:{headerFilters:{default:"過濾..."}},English:{headerFilters:{default:"filter..."}}}}),-1!==ge.indexOf("Simplified")?M.setLocale("Simplified"):-1!==ge.indexOf("Traditional")?M.setLocale("Traditional"):M.setLocale("English")):0===C.length&&(M=new Tabulator("#reviewReportTable",{height:_,placeholder:I}))},!1!==hn(Pn)){if(void 0===m||null==m?(t="Generate Code",o="User Defined Functions",r="Project Name","Please input a folder path for storing the generated code:",s="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.",p="Or you can choose a folder from recent projects","Browse",c="Modularize Code",f="Review Report",u="Confirm"):(null==localStorage.getItem("CheckCriteriaPin")&&"No",null==localStorage.getItem("CheckCriteriaModule")&&"No",null==localStorage.getItem("CheckCriteriaGPIO")&&"No",null!=(U=localStorage.getItem("CheckModularizeCode"))&&"No"!==U||(U="No",N=""),null==(b=localStorage.getItem("ProjectName"))&&(b=""),null==localStorage.getItem("ProjectLocation")&&"",null==(L=localStorage.getItem("ProjectLocationHistory"))&&(L=""),"Simplified Chinese"===m?(t="产生程式码",o="用户定义功能",r="工程名称","请输入文件夹路径，用于存放生成的代码:",s="请注意，本软件不能取代技术参考手册或规格书。用户必须参考最新文档以确保正确性。",p="或是您可以从最近的工程中选择一个","浏览",c="模组化代码",f="检阅报告",u="确定"):"Traditional Chinese"===m?(t="產生程式碼",o="用戶定義功能",r="專案名稱","請輸入資料夾路徑，用於存放生成的程式碼:",s="請注意，本軟件不能取代技術參考手冊或規格書。用戶必須參考最新文檔以確保正確性。",p="或是您可以從最近的專案中選擇一個","瀏覽",c="模組化程式碼",f="檢閱報告",u="確定"):(t="Generate Code",o="User Defined Functions",r="Project Name","Please input a folder path for storing the generated code:",s="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.",p="Or you can choose a folder from recent projects","Browse",c="Modularize Code",f="Review Report",u="Confirm")),""===b.trim()&&(b="MyProject"),""!==L.trim()){for('<br /><label><select id="generateCodeDialogSelect" style="width: 450px;height:32px;"><option value="default">'+p+"</option>",i=0,n=(O=L.split(">")).length-1;i<n;i++)'<option value="'+O[i]+'">'+O[i]+"</option>";"</select></label>"}-1===["ML51","ML56","ML5156","MS51_8K","MS51_8KDB","MS51_16K","MS51_32K","MUG51"].indexOf(l)&&0!==NUTOOL_PIN.g_cfg_gpiosDefines.length&&NUTOOL_PIN.g_cfg_gpiosDefines[0].f.length>1&&0===NUTOOL_PIN.g_cfg_gpiosDefines[0].f[1].indexOf("GPIO:")?d="checkbox":(c="",d="hidden",N=""),gn(),void 0===e?(a='<div id="generateCodeDialogMainPart_div"><label>'+r+': <input type="text" id="inputText_projectName" value="'+b+'" style="width:250px;height:24px;"></label><br /><br /><label><p>'+s+"</p></div>",a+='<div id="reviewReportTable"></div>',$('<div id="generateCodeDialog">'+a+"</div>").dialog({modal:!1,resizable:!1,title:t,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#generateCodeDialog").dialog("destroy")},create:function(e,i){var n=$(this).dialog("widget").find(".ui-dialog-buttonpane");$("html").hasClass("ie10+")?$("<div class='generateCodeByModule'><input type='"+d+"' id='checkbox_ModularizeCode' "+N+"/>"+c+"<input type='checkbox' id='checkbox_ReviewReport'/>"+f+"</div>").prependTo(n):$("<div class='generateCodeByModule'><label><input type='"+d+"' id='checkbox_ModularizeCode' "+N+"/>"+c+" </label></div>").prependTo(n)},buttons:[{id:"generateCodeDialog_buttonOk",text:u,click:function(){localStorage.setItem("ProjectName",$("#inputText_projectName").val()),$("#checkbox_ModularizeCode").is(":checked")?localStorage.setItem("CheckModularizeCode","Yes"):localStorage.setItem("CheckModularizeCode","No"),$("#generateCodeDialog_buttonOk").button("disable"),""===$("#inputText_projectName").val().trim()&&$("#inputText_projectName").val("MyProject");try{Dn()}catch(e){}$("#generateCodeDialog").dialog("isOpen")?$("#generateCodeDialog").dialog("destroy"):$("#generateCodeDialog_buttonOk").button("enable")}}]})):0===e.indexOf("userDefined")&&(a='<div id="reviewReportTable"><input type="text" size="1" style="position:relative;top:-5000px;"/></div>',$('<div id="generateCodeDialog">'+a+"</div>").dialog({modal:!1,resizable:!1,title:o,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#generateCodeDialog").dialog("destroy")},buttons:[{id:"generateCodeDialog_buttonOk",text:u,click:function(){-1!==e.indexOf("runAnotherTool")?Bn():$("#generateCodeDialog").dialog("isOpen")&&$("#generateCodeDialog").dialog("destroy")}}]}),g()),$("#generateCodeDialogInput").keypress((function(e){if(22===e.which)$("#generateCodeDialogInput").val(window.clipboardData.getData("Text"))})),$("#generateCodeDialogBrowseFolder").click((function(){""===$("#inputText_projectName").val().trim()&&$("#inputText_projectName").val("MyProject");try{Dn()}catch(e){}""!==NUTOOL_PIN.g_pinFunctionString&&-1!==NUTOOL_PIN.g_pinFunctionString.indexOf(":")&&$("#generateCodeDialogInput").val(NUTOOL_PIN.g_pinFunctionString),$("#generateCodeDialog").focus()})),$("#generateCodeDialogSelect").change((function(){"default"!==$("#generateCodeDialogSelect").val()&&($("#generateCodeDialogInput").val($("#generateCodeDialogSelect").val()),$("#generateCodeDialogSelect").val($("#generateCodeDialogSelect option:first-child").val()))})),$("#checkbox_ReviewReport").change((function(){$("#checkbox_ReviewReport").is(":checked")?(g(),$("#generateCodeDialogMainPart_div").hide(),$("#generateCodeDialog_buttonOk").button("disable")):($("#reviewReportTable").remove(),$("#generateCodeDialogMainPart_div").show(),$("#generateCodeDialog_buttonOk").button("enable"))}))}}function Dn(){if("Yes"==localStorage.getItem("CheckCriteriaPin")&&wn(),"Yes"==localStorage.getItem("CheckCriteriaModule")&&Fn(),"Yes"==localStorage.getItem("CheckCriteriaGPIO")&&jn(),Xi(),-1==s.indexOf(".h")){Bi();var e=`/****************************************************************************\n * @file     ${$("#inputText_projectName").val()}.c\n * @version  ${NUTOOL_PIN.g_toolName.sliceAfterX("_")}\n * @Date     ${new Date}\n * @brief    ${ue} generated code file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${Ne} All rights reserved.\n*****************************************************************************/\n *\n/********************\nMCU:${o}\n`+(null==N?"":`Pin Configuration:\n${N}`)+(null==p?"":`Module Configuration:\n${p}`)+(null==O?"":`GPIO Configuration:\n${O}`)+"********************/\n\n"+`${s}\n`+`${a}`+`/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Ne} ***/\n`,i=new Blob([e],{type:"text/plain;charset=utf-8"});saveAs(i,`${$("#inputText_projectName").val()}.dts`)}if($("#checkbox_ModularizeCode").is(":checked")){Ri();var n=`/****************************************************************************\n * @file     ${$("#inputText_projectName").val()}.c\n * @version  ${NUTOOL_PIN.g_toolName.sliceAfterX("_")}\n * @Date     ${new Date}\n * @brief    ${ue} generated code file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${Ne} All rights reserved.\n*****************************************************************************/\n\n/********************\nMCU:${o}\n`+(null==N?"":`Pin Configuration:\n${N}`)+(null==p?"":`Module Configuration:\n${p}`)+(null==O?"":`GPIO Configuration:\n${O}`)+"********************/\n\n"+`${s}`+(null==x?"":`\n${x}`)+`${a}`+`\n\n/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Ne} ***/\n`,t=new Blob([n],{type:"text/plain;charset=utf-8"});saveAs(t,`${$("#inputText_projectName").val()}.c`);var l=`/****************************************************************************\n * @file     ${$("#inputText_projectName").val()}.h\n * @version  ${NUTOOL_PIN.g_toolName.sliceAfterX("_")}\n * @Date     ${new Date}\n * @brief    ${ue} generated code file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${Ne} All rights reserved.\n*****************************************************************************/\n\n#ifndef __${$("#inputText_projectName").val().toUpperCase()}_H__\n#define __${$("#inputText_projectName").val().toUpperCase()}_H__\n\n#ifdef __cplusplus\nextern "C"\n{\n#endif\n${c}#ifdef __cplusplus\n}\n#endif\n#endif /*__${$("#inputText_projectName").val().toUpperCase()}_H__*/\n\n/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Ne} ***/\n`,r=new Blob([l],{type:"text/plain;charset=utf-8"});saveAs(r,`${$("#inputText_projectName").val()}.h`)}else{Bi();n=`/****************************************************************************\n * @file     ${$("#inputText_projectName").val()}.c\n * @version  ${NUTOOL_PIN.g_toolName.sliceAfterX("_")}\n * @Date     ${new Date}\n * @brief    ${ue} generated code file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${Ne} All rights reserved.\n*****************************************************************************/\n\n/********************\nMCU:${o}\n`+(null==N?"":`Pin Configuration:\n${N}`)+(null==p?"":`Module Configuration:\n${p}`)+(null==O?"":`GPIO Configuration:\n${O}`)+"********************/\n\n"+`${s}`+(null==x?"":`\n${x}`)+"/*\n * @brief This function provides the configured MFP registers\n * @param None\n * @return None\n */\nvoid SYS_Init(void)\n{\n"+`${a}\n    return;\n}\n\n`+`/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Ne} ***/\n`,t=new Blob([n],{type:"text/plain;charset=utf-8"});saveAs(t,`${$("#inputText_projectName").val()}.c`)}kn();var d=`/****************************************************************************\n * @file     ${$("#inputText_projectName").val()}.ncfg\n * @version  ${NUTOOL_PIN.g_toolName.sliceAfterX("_")}\n * @Date     ${new Date}\n * @brief    ${ue} config file\n *\n * @note Please do not modify this file.\n *       Otherwise, it may not be loaded successfully.\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${Ne} All rights reserved.\n*****************************************************************************/\nMCU:${o}\n${g}${_}${x}${a}/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Ne} ***/\n`,f=new Blob([d],{type:"text/plain;charset=utf-8"});saveAs(f,`${$("#inputText_projectName").val()}.ncfg`)}function wn(e){var i;for(N="",i=1;i<=S;i+=1)""!==ve[i-1]&&(N+=void 0!==e&&"primitiveDescription"===e?"Pin"+Qi(i)+":"+ve[i-1]+"\n":"Pin"+Qi(i)+":"+qi(ve[i-1])+"\n");i=null}function Fn(){var e,i,n,t,l,o,r,s=[],a=[];for(e=1;e<=S;e+=1)""!==ve[e-1]&&(o=e,-1!==(r=l=ve[e-1]).indexOf("_")&&(r=r.slicePriorToX("_")),void 0===s[r=Ei(r)]?(s[r]=[],s[r][0]=qi(l)+"(Pin:"+Qi(o)+")"):s[r].push(qi(l)+"(Pin:"+Qi(o)+")"));for(p="",e=0,n=(a=zi(s)).length;e<n;e+=1)for(s[a[e]].sort(li),i=0,t=s[a[e]].length;i<t;i+=1)p+=s[a[e]][i]+"\n";e=null,i=null,n=null,t=null,s=[],a=[],l=null,o=null,r=null}function jn(){var e,i,n,t,l,o,r,s=[],a=[];for(e=1;e<=S;e+=1)""!==ve[e-1]&&(o=e,l=qi(ve[e-1]),void 0===s[r=Ei(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][o-1])]?(s[r]=[],s[r][0]=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][o-1]+":"+l+"(Pin:"+Qi(o)+")"):s[r].push(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][o-1]+":"+l+"(Pin:"+Qi(o)+")"));for(O="",e=0,n=(a=zi(s).sort(li)).length;e<n;e+=1)for(s[a[e]].sort(li),i=0,t=s[a[e]].length;i<t;i+=1)O+=s[a[e]][i]+"\n";e=null,i=null,n=null,t=null,s=[],a=[],l=null,o=null,r=null}function En(){var e,i,n,t,l,o,r,s,a,c,d,f=localStorage.getItem("UIlanguage");$("#rootTree_Pin").is(":visible")&&hn(Pn)&&(void 0===f||null==f?(e="Print Report",i="Project Name",n="Select the criteria by which the configured information is being cataloged.",t="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.","IE8 does not support this feature. If you want to use this feature, please upgrade IE. Thanks.",l="ChipView",o="Pin",r="Module",s="GPIO",a="Register",c="Confirm","Leave"):"Simplified Chinese"===f?(i="方案名称",e="印出报告",n="选择用来展示配置资讯的标准。",t="请注意，本软件不能取代技术参考手册或规格书。用户必须参考最新文档以确保正确性。","IE8不支援这个功能。倘若您想要使用此功能,请升级至IE9以上。谢谢。",l="芯片图示",o="脚位",r="模組",s="多工泛用脚位",a="寄存器",c="确定","离开"):"Traditional Chinese"===f?(i="方案名稱",e="印出報告",n="選擇用來展示配置資訊的標準。",t="請注意，本軟件不能取代技術參考手冊或規格書。用戶必須參考最新文檔以確保正確性。","IE8不支援這個功能。倘若您想要使用此功能,請升級至IE9以上。謝謝。",l="晶片圖示",o="腳位",r="模組",s="多工泛用腳位",a="暫存器",c="確定","離開"):(e="Print Report",i="Project Name",n="Select the criteria by which the configured information is being exhibited.",t="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.","IE8 does not support this feature. If you want to use this feature, please upgrade to IE9 or higher one. Thanks.",l="ChipView",o="Pin",r="Module",s="GPIO",a="Register",c="Confirm","Leave"),gn(),(Qe?$('<div id="printReportDialog"><label>'+i+': <input type="text" id="inputText_projectName" value=""></label><br /><p>'+n+'</p><input type="checkbox" id="checkbox_byRegister" checked=true/>'+a+'</label><br /><label><input type="checkbox" id="checkbox_byPin" checked=true/>'+o+'</label><br /><label><input type="checkbox" id="checkbox_byModule" />'+r+'</label><br /><label><input type="checkbox" id="checkbox_byGPIO" />'+s+"</label><br /><label><p>"+t+'</p></label><input type="text" size="1" style="position:relative;top:-5000px;"/></div>'):$('<div id="printReportDialog"><label>'+i+': <input type="text" id="inputText_projectName" value=""></label><br /><p>'+n+'</p><label><input type="checkbox" id="checkbox_byChipView" checked=true/>'+l+'</label><br /><input type="checkbox" id="checkbox_byRegister" checked=true/>'+a+'</label><br /><label><input type="checkbox" id="checkbox_byPin" checked=true/>'+o+'</label><br /><label><input type="checkbox" id="checkbox_byModule" />'+r+'</label><br /><label><input type="checkbox" id="checkbox_byGPIO" />'+s+"</label><br /><label><p>"+t+'</p></label><input type="text" size="1" style="position:relative;top:-5000px;"/></div>')).dialog({modal:!0,draggable:!1,resizable:!1,title:e,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#printReportDialog").dialog("destroy")},buttons:[{text:c,click:function(){$("#checkbox_byChipView").is(":checked")&&(d="checkbox_byChipView/"),$("#checkbox_byRegister").is(":checked")&&(d+="checkbox_byRegister/"),$("#checkbox_byPin").is(":checked")&&(d+="checkbox_byPin/"),$("#checkbox_byModule").is(":checked")&&(d+="checkbox_byModule/"),$("#checkbox_byGPIO").is(":checked")&&(d+="checkbox_byGPIO/"),Mn($("#inputText_projectName").val(),d),$("#printReportDialog").dialog("isOpen")&&$("#printReportDialog").dialog("destroy")}}]}),null,e=null,null,null,n=null,t=null,o=null,r=null,s=null,c=null,null,f=null,d=null)}function Xn(){if(hn(Pn))try{$n();var e=`/****************************************************************************\n * @file     ${o}.csv\n * @version  ${NUTOOL_PIN.g_toolName.sliceAfterX("_")}\n * @Date     ${new Date}\n * @brief    ${ue} pin descriptions file\n *\n * SPDX-License-Identifier: Apache-2.0\n *\n * Copyright (C) 2013-${(new Date).getFullYear()}${Ne} All rights reserved.\n*****************************************************************************/\nMCU:${o}\n${u}/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${Ne} ***/\n`,i=new Blob([e],{type:"text/plain;charset=utf-8"});saveAs(i,`${o}.csv`)}catch(e){console.log("saveConfig failed, meg:"+e)}}function Bn(){var e,i,n,t,l,o,r,s,a="NuCAD";!1!==hn(Pn)&&(s=localStorage.getItem("UIlanguage"),$("#rootTree_Pin").is(":visible")&&(void 0!==NUTOOL_PIN.g_anotherNameForNuCAD&&""!==NUTOOL_PIN.g_anotherNameForNuCAD&&(a=NUTOOL_PIN.g_anotherNameForNuCAD),void 0===s||null==s?(e="Run "+a,i="Select a tool to run.",n="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.",o="Use NC pin to present a unconfigured pin",t="User Defined Functions",r="Confirm","Leave"):"Simplified Chinese"===s?(e="执行"+a,i="选择一个工具来执行。",n="请注意，本软件不能取代技术参考手册或规格书。用户必须参考最新文档以确保正确性。",o="使用NC脚位来显示未配置的脚位",t="用户定义功能",r="确定","离开"):"Traditional Chinese"===s?(e="執行"+a,i="選擇一個工具來執行。",n="請注意，本軟件不能取代技術參考手冊或規格書。用戶必須參考最新文檔以確保正確性。",o="使用NC腳位來顯示未配置的腳位",t="用戶定義功能",r="確定","離開"):(e="Run "+a,i="Select a tool to run.",n="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.",o="Use NC pins to present unconfigured pins",t="User Defined Functions",r="Confirm","Leave"),gn(),l='<div id="runAnotherToolDialog"><div id="runAnotherToolDialogMainPart_div"><p>'+i+'</p><input type="radio" id="OrCAD" value="OrCAD" name="RunAnotherTool" Checked><label for="OrCAD">OrCAD</label><br /><br /><label><input type="checkbox" id="checkbox_useNCpin"/>'+o+"</label><p>"+n+"</p></div>",l+='<input type="text" size="1" style="position:relative;top:-5000px;"/></div>',$(l).dialog({modal:!1,draggable:!0,resizable:!1,title:e,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#runAnotherToolDialog").dialog("destroy")},create:function(e,i){var n=$(this).dialog("widget").find(".ui-dialog-buttonpane");$("html").hasClass("ie10+")&&$("<div class='generateCodeByModule'><label><input type='checkbox' id='checkbox_ReviewReport'/>"+t+"</label></div>").prependTo(n)},buttons:[{id:"runAnotherToolDialog_buttonOk",text:r,click:function(){$("input").each((function(){"RunAnotherTool"===this.name&&!0===this.checked&&($(this).val(),$("#checkbox_useNCpin").is(":checked")?window.external.runAnotherTool($(this).val()+"_UseNCPin"):window.external.runAnotherTool($(this).val()))})),$("#runAnotherToolDialog").dialog("isOpen")&&$("#runAnotherToolDialog").dialog("destroy")}}]}),$("#checkbox_ReviewReport").change((function(){$("#checkbox_ReviewReport").is(":checked")&&yn("userDefined_runAnotherTool")}))))}function Rn(){Ze?pe.readyState?pe.send("q"):Oi("连线尚未稳定，请稍后再试。","連線尚未穩定，請稍後再試。","The connection is not stable. Please try it later."):((pe=new WebSocket("ws://127.0.0.1:5555","openocd-nuvoton-protocol")).onopen=function(){Ze=!0,pe.readyState?pe.send("q"):Oi("连线尚未稳定，请稍后再试。","連線尚未穩定，請稍後再試。","The connection is not stable. Please try it later.")},pe.onerror=function(){!1===Ze?Oi("请检查NuEclipse是否进入了调试模式。如果没有，PinConfig将无法连接到目标芯片。","請檢查NuEclipse是否進入了調試模式。如果沒有，PinConfig將無法連接到目標晶片。","Please check that NuEclipse has entered the debug mode. If not, PinConfig will not be able to connect to a target chip."):Oi("NuEclipse退出了调试模式。","NuEclipse退出了調試模式。","NuEclipse leaved the debug mode."),Ze=!1,pe=null},pe.onmessage=function(e){0===e.data.indexOf("q")?(!function(e){var i;"UNKNOWN"!==(e=e.slice(1)).toUpperCase()&&((i=Ai(e))!==l?(oldfilename="NUC_"+l+"_Content.js",newfilename="NUC_"+i+"_Content.js",fn(oldfilename,newfilename,"js",Cn(i))):mn())}(e.data),pe.send(function(){var e,i,n,t="m";for(e=0,i=(n=zi(NUTOOL_PIN.g_cfg_regDescriptions)).length;e<i;e+=1)0!==e&&(t+=","),t+=NUTOOL_PIN.g_cfg_regDescriptions[n[e]].slice(2);return t+","}())):0===e.data.indexOf("m")&&function(e){var i,n,t,l,o,r,s;if(t=(e=e.slice(1)).split(","),o=zi(NUTOOL_PIN.g_cfg_regDescriptions),t.length===o.length){for(i=0,n=o.length;i<n;i+=1)l=o[i],(r=Ee[l])!==(s=parseInt(t[i],16))&&(Fi(l+":0x"+Gi(r).toUpperCase()),wi(l+":0x"+Gi(s).toUpperCase()));Wi()}}(e.data)})}function Gn(){$("#rootTree_Pin").is(":visible")&&(me=10*Math.ceil(me/10)+5,pn())}function Kn(){$("#rootTree_Pin").is(":visible")&&(me=Ue,pn())}function Wn(){$("#rootTree_Pin").is(":visible")&&me>=I+5&&(me=10*Math.floor(me/10)-5,pn())}function Hn(){Tn((function(){On()})),Sn()}function zn(){var e,i,n,l,o,r,s,a,c,d,f,g,_,u,N,p="",O="",h="",P="",x="",T="checked=true",I="checked=true",M="checked=true",C=!1,m=!1,U=!1;N=localStorage.getItem("DisplayTooltip"),u=localStorage.getItem("UIlanguage"),$("#rootTree_Pin").is(":visible")&&(void 0===u||null==u?(e="Settings",i="1. Select one of the following languages displayed in UI.",n="2. Display a tooltip.",l="3. Select the criteria by which the configured information is being cataloged.",o="English",r="Simplified Chinese",s="Traditional Chinese",a="Yes",c="No",p="checked",d="Pin",f="Module",g="GPIO",_="Confirm","Leave"):(null!=(C=localStorage.getItem("CheckCriteriaPin"))&&"No"!=C||(T=""),null!=(m=localStorage.getItem("CheckCriteriaModule"))&&"No"!=m||(I=""),null!=(U=localStorage.getItem("CheckCriteriaGPIO"))&&"No"!=U||(M=""),"Simplified Chinese"===u?(e="设定",i="1. 从下面选取一个语言显示在操作介面上。",n="2. 显示提示框。",l="3. 选择用来分类配置资讯的标准。",o="英文",r="简体中文",s="繁体中文",a="要",c="不要",O="checked",d="脚位",f="模組",g="多工泛用脚位",_="确定","离开"):"Traditional Chinese"===u?(e="設定",i="1. 從下面選取一個語言顯示在操作介面上。",n="2. 顯示提示框。",l="3. 選擇用來分類配置資訊的標準。",o="英文",r="简體中文",s="繁體中文",a="要",c="不要",h="checked",d="腳位",f="模組",g="多工泛用腳位",_="確定","離開"):(e="Settings",i="1. Select one of the following languages displayed in UI.",n="2. Display a tooltip.",l="3. Select the criteria by which the configured information is being cataloged.",o="English",r="Simplified Chinese",s="Traditional Chinese",a="Yes",c="No",p="checked",d="Pin",f="Module",g="GPIO",_="Confirm","Leave")),null==N||"No"==N?x="checked":P="checked",gn(),$('<div id="languageDialog"><p>'+i+'</p><input type="radio" id="engiish" value="English" name="UIlanguage" '+p+'><label for="engiish">'+o+'</label><br /><input type="radio" id="simplifiedChinese" value="Simplified Chinese" name="UIlanguage" '+O+'><label for="simplifiedChinese">'+r+'</label><br /><input type="radio" id="traditionalChinese" value="Traditional Chinese" name="UIlanguage" '+h+'><label for="traditionalChinese">'+s+"</label><br /><p>"+n+'</p><input type="radio" id="stringYes" value="Yes" name="DisplayTooltip" '+P+'><label for="stringYes">'+a+'</label><br /><input type="radio" id="stringNo" value="No" name="DisplayTooltip" '+x+'><label for="stringNo">'+c+"</label><br /><p>"+l+'</p><label><input type="checkbox" id="checkbox_byPin" '+T+"/>"+d+'</label><br /><label><input type="checkbox" id="checkbox_byModule" '+I+"/>"+f+'</label><br /><label><input type="checkbox" id="checkbox_byGPIO" '+M+"/>"+g+'</label><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,draggable:!1,resizable:!1,title:e,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#languageDialog").dialog("destroy")},buttons:[{text:_,click:function(){$("input").each((function(){"UIlanguage"===this.name&&!0===this.checked?(localStorage.setItem("UIlanguage",$(this).val()),Yn()):"DisplayTooltip"===this.name&&!0===this.checked&&(localStorage.setItem("DisplayTooltip",$(this).val()),t="No"!==$(this).val())})),$("#checkbox_byPin").is(":checked")?localStorage.setItem("CheckCriteriaPin","Yes"):localStorage.setItem("CheckCriteriaPin","No"),$("#checkbox_byModule").is(":checked")?localStorage.setItem("CheckCriteriaModule","Yes"):localStorage.setItem("CheckCriteriaModule","No"),$("#checkbox_byGPIO").is(":checked")?localStorage.setItem("CheckCriteriaGPIO","Yes"):localStorage.setItem("CheckCriteriaGPIO","No"),$("#languageDialog").dialog("isOpen")&&$("#languageDialog").dialog("destroy")}}]}))}function Yn(){var e,i,n,t,l,o,r,s,a;Ti(),"Simplified Chinese"===ge?(e="芯片系列:",i="型号:",n="MFP寄存器",t="支援模组",l="搜寻..",Vn("ID_BUTTON_SHOW_REGISTERS","开关选择区域和MFP寄存器树状图"),Vn("ID_BUTTON_LOAD","读取配置档"),Vn("ID_BUTTON_SAVE","存放配置档"),Vn("ID_BUTTON_GENERATE_CODE","产生程式码"),Vn("ID_BUTTON_CONNECT_TO_TARGET","连线到目标芯片"),Vn("ID_BUTTON_PRINT_REPORT","印出报告"),Vn("ID_BUTTON_GENERATE_PIN_DESCRIPTIONS","产生脚位描述报告"),Vn("ID_BUTTON_RUN_NUCAD","执行NuCAD"),Vn("ID_BUTTON_SHOW_PIN_DESCRIPTIONS","开关管脚描述"),Vn("ID_BUTTON_ZOOM_IN","放大"),Vn("ID_BUTTON_BEST_FIT","最适大小"),Vn("ID_BUTTON_ZOOM_OUT","缩小"),Vn("ID_BUTTON_DISABLE","取消所有已选模组"),Vn("ID_BUTTON_LANGUAGE","设定"),Vn("ID_BUTTON_INSTRUCTION","阅读用户手册")):"Traditional Chinese"===ge?(e="晶片系列:",i="型號:",n="MFP暫存器",t="支援模組",l="搜尋..",Vn("ID_BUTTON_SHOW_REGISTERS","開關選擇區域和MFP暫存器樹狀圖"),Vn("ID_BUTTON_LOAD","讀取配置檔"),Vn("ID_BUTTON_SAVE","存放配置檔"),Vn("ID_BUTTON_GENERATE_CODE","產生程式碼"),Vn("ID_BUTTON_CONNECT_TO_TARGET","連線到目標晶片"),Vn("ID_BUTTON_PRINT_REPORT","印出報告"),Vn("ID_BUTTON_GENERATE_PIN_DESCRIPTIONS","產生腳位描述報告"),Vn("ID_BUTTON_RUN_NUCAD","執行NuCAD"),Vn("ID_BUTTON_SHOW_PIN_DESCRIPTIONS","開關腳位描述"),Vn("ID_BUTTON_ZOOM_IN","放大"),Vn("ID_BUTTON_BEST_FIT","最適大小"),Vn("ID_BUTTON_ZOOM_OUT","縮小"),Vn("ID_BUTTON_DISABLE","取消所有已選模組"),Vn("ID_BUTTON_LANGUAGE","設定"),Vn("ID_BUTTON_INSTRUCTION","閱讀用戶手冊")):(e="Chip Series:",i="Part No.:",t="Supported Modules",l="Search..",n="MFP Registers",Vn("ID_BUTTON_SHOW_REGISTERS","Switch Select Field and MFP-Registers TreeView"),Vn("ID_BUTTON_LOAD","Load Configuration"),Vn("ID_BUTTON_SAVE","Save Configuration"),Vn("ID_BUTTON_GENERATE_CODE","Generate Code"),Vn("ID_BUTTON_CONNECT_TO_TARGET","Connect to Target Chip"),Vn("ID_BUTTON_PRINT_REPORT","Print Report"),Vn("ID_BUTTON_GENERATE_PIN_DESCRIPTIONS","Generate Report of Pin Description"),Vn("ID_BUTTON_RUN_NUCAD","Run NuCAD"),Vn("ID_BUTTON_SHOW_PIN_DESCRIPTIONS","Switch Pin Description"),Vn("ID_BUTTON_ZOOM_IN","Zoom In"),Vn("ID_BUTTON_BEST_FIT","Best Fit"),Vn("ID_BUTTON_ZOOM_OUT","Zoom Out"),Vn("ID_BUTTON_DISABLE","Disable All Checked Modules"),Vn("ID_BUTTON_LANGUAGE","Settings"),Vn("ID_BUTTON_INSTRUCTION","Read User Manual")),$("#ChipType_span").text(e),$("#MCU_span").text(i),$("#mfpTree").jstree("rename_node",$("#mfp_tree"),n),$("#supportedModules_span").text(t),$("#searchInput_Pin")[0].setAttribute("style","font-family:Times Arial; position:absolute; left:"+($("#supportedModules_span").width()+10)+"px; width:"+(X-16-$("#supportedModules_span").width()-10)+"px; height: 16px;"),$("#searchInput_Pin").val(l),$("#searchInput_Pin").change((function(){ui(this.value)})),a=5,$("html").hasClass("ie10+")||(a=4),o=ce.getContext($("#NUC_PinConfiguration_Canvas")[0]),r=se-Oe-R-Pe-3,s=ae-he-a*(B+xe),o.fillStyle="#FFFFFF",o.fillRect(r,s,Oe+R+Pe,he+4*(B+xe)),o=null,r=null,s=null,_n(),e=null,i=null,n=null,t=null,l=null}function Vn(e,i,n){null!=n&&null!=n||(n="top"),null!=document.querySelector(`#${e}`)&&null!=document.querySelector(`#${e}`)&&document.querySelector(`#${e}`)._tippy&&document.querySelector(`#${e}`)._tippy.destroy(),tippy(`#${e}`,{content:`${i}`,placement:`${n}`})}function Zn(e,i,n){var t,o,r,s,a,c,d,f,g,_,u,N,p=-1,O=!1;for(t=0,r=NUTOOL_PIN.g_cfg_gpios.length;t<r;t+=1){for(o=0,s=NUTOOL_PIN.g_cfg_gpios[t].f.length;o<s;o+=1)if((a=(a=NUTOOL_PIN.g_cfg_gpios[t].f[o]).slice(0,a.indexOf(":")))===i&&(c=(c=NUTOOL_PIN.g_cfg_gpios[t].f[0]).slice(0,c.indexOf(":")))===e){p=NUTOOL_PIN.g_cfg_gpios[t].f[o],p=parseInt(p.slice(p.indexOf(":")+1),10);break}if(-1!==p)break}if(p>0&&(void 0===NUTOOL_PIN.g_cfg_gpioMatrix||0===NUTOOL_PIN.g_cfg_gpioMatrix.length)){for(O=!1,4,15,-1!==e.indexOf(".")&&(f=e.slice(0,e.indexOf(".")),g=e.slice(e.indexOf(".")+1)),"M451HD"===l||"M451LD"===l||"M4521"===l||"NUC121AE"===l||"M0564"===l||"M05641"===l||0===l.indexOf("NUC126")||"M071QV"===l||"NUC029xGE"===l||"NUC029KGE"===l||"NUC400"===l||0===l.indexOf("M46")||0===l.indexOf("M47")||"M480MD"===l||"M480LD"===l||"AX58200"===l||0===l.indexOf("M25")||"NDA102"===l||"M261"===l||0===l.indexOf("M235")||0===l.indexOf("M029")||0===l.indexOf("M030")||0===l.indexOf("M031")||0===l.indexOf("M091")||"NANO103"===l||"NUC505"===l||"NUC123AE"===l||"MA35D1"===l||0===l.indexOf("M2003")?f=parseInt(g)<8?"G"+f+"_MFPL":"G"+f+"_MFPH":"NANO100AN"===l||"NANO100BN"===l||"NANO112"===l?parseInt(g)<8?f+="_L_MFP":f+="_H_MFP":"NM1500"===l||"M0519"===l||"M051DN_DE"===l||"M051BN"===l||"M051AN"===l||"M058S"===l||"MINI51AN"===l||"MINI51DE"===l||"MINI55"===l||"MINI58"===l||"NUC029AE"===l||"NUC029TAE"===l||"NUC029AN"===l||"NM1200"===l?f+="_MFP":0===l.indexOf("ML5")||0===l.indexOf("MS51")||0===l.indexOf("MUG51")?f+="MF76543210":f=0===l.indexOf("KM1M7")||0===l.indexOf("KM1M4")?"IO"+f+"MD":"G"+f+"_MFP",o=0,s=n.length;o<s;o+=1)if(-1!==(N=n[o]).indexOf(f)&&(parseInt(N.slice(N.indexOf("0x")+2),16)&(u=15<<(_=4*parseInt(g,10))>>>0))>>>0>>>_>>>0===p){O=!0;break}}else if(p>0&&NUTOOL_PIN.g_cfg_gpioMatrix.length>0){for(t=0,r=NUTOOL_PIN.g_cfg_gpioMatrix.length;t<r;t+=1)if(c===NUTOOL_PIN.g_cfg_gpioMatrix[t].f[0]){for(d=Math.floor(Math.log(p)/Math.log(2));d>=0;){for(f=NUTOOL_PIN.g_cfg_gpioMatrix[t].f[d+1],u=1<<(_=parseInt(f.slice(f.indexOf("[")+1,f.indexOf("]")),10))>>>0,g=f.slice(0,f.indexOf("[")),O=!1,o=0,s=n.length;o<s;o+=1)if(-1!==(N=n[o]).indexOf(g)&&parseInt(N.slice(N.indexOf("0x")+2),16)&u){O=!0;break}if(!O)return O;if(!(p>2))break;if(!((p-=Math.pow(2,d))>0))break;d=Math.floor(Math.log(p)/Math.log(2))}break}}else 0===p&&(O=!0);return O}function Qn(){var e;for(i=0,max=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex].length;i<max;i+=1)e=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][i].charCodeAt(1)-65,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][i]=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][i].replace(/P[A-Z]\./,"BP"+e+".");for(i=0,max=NUTOOL_PIN.g_cfg_gpios.length;i<max;i+=1)e=NUTOOL_PIN.g_cfg_gpios[i].f[0].charCodeAt(1)-65,NUTOOL_PIN.g_cfg_gpios[i].f[0]=NUTOOL_PIN.g_cfg_gpios[i].f[0].replace(/P[A-Z]\./,"BP"+e+".");for(i=0,max=NUTOOL_PIN.g_cfg_gpiosDefines.length;i<max;i+=1)e=NUTOOL_PIN.g_cfg_gpiosDefines[i].f[0].charCodeAt(1)-65,NUTOOL_PIN.g_cfg_gpiosDefines[i].f[0]=NUTOOL_PIN.g_cfg_gpiosDefines[i].f[0].replace(/P[A-Z]\./,"BP"+e+".")}function qn(){if("undefined"==typeof NUTOOL_PER){if(void 0!==NUTOOL_PIN.g_toolName&&""!==NUTOOL_PIN.g_toolName)try{external.changeDialogContentFromJS("dialogCaption:"+NUTOOL_PIN.g_toolName)}catch(e){}if(void 0!==NUTOOL_PIN.g_toolbarRemovedIndices&&""!==NUTOOL_PIN.g_toolbarRemovedIndices)try{external.changeDialogContentFromJS("dialogToolbarRemovedIndices:"+NUTOOL_PIN.g_toolbarRemovedIndices.replace(/\s/g,""))}catch(e){}void 0!==NUTOOL_PIN.g_cfg_chipSeries&&0!==NUTOOL_PIN.g_cfg_chipSeries.length&&(ze=NUTOOL_PIN.g_cfg_chipSeries),void 0!==NUTOOL_PIN.g_chipSilkScreenPrint_default&&""!==NUTOOL_PIN.g_chipSilkScreenPrint_default&&(_e=NUTOOL_PIN.g_chipSilkScreenPrint_default),void 0!==NUTOOL_PIN.g_briefName_default&&""!==NUTOOL_PIN.g_briefName_default&&(ue=NUTOOL_PIN.g_briefName_default),void 0!==NUTOOL_PIN.g_copyrightCompanyName_default&&""!==NUTOOL_PIN.g_copyrightCompanyName_default&&(Ne=NUTOOL_PIN.g_copyrightCompanyName_default)}xi()||(Ti(),Ii(),hi()||(qe=!1),vi(),Yi(),ki(),"undefined"==typeof NUTOOL_PER&&function(){var e,i,n,t,o=$("#ChipTypeSelect");for($("#ChipType")[0].setAttribute("style","width:"+(X-16)+"px; border-right: 16px solid #F2F2F2;"),$("#MCU")[0].setAttribute("style","width:"+(X-16)+"px; border-right: 16px solid #F2F2F2;"),e=0,i=ze.length;e<i;e+=1){n=document.createElement("option");try{n.id=n.innerHTML=n.value=ze[e]}catch(e){}o[0].appendChild(n)}o.val(ji(l)),rn(),o.on("change",(function(){var e,i;t="NUC_"+l+"_Content.js",i=e=$(this).val(),"NUC200"===e?i="NUC200AN":"NANO100"===e?i="NANO100BN":"NUC100"===e?i="NUC100DN":"M029G"===e?i="M029G":"M030G"===e?i="M030G":"M091"===e?i="M091":"M031"===e?i="M031BT":"M051"===e?i="M0515LDE":"M071"===e?i="M071M":"MINI51"===e?i="MINI51DE":"NUC029"===e?i="NUC029AE":"M451"===e?i="M451HD":"M466"===e?i="M466":"M460"===e?i="M460LD":"M480"===e?i="M480LD":"KM1M7AF"===e?i="KM1M7AF":"KM1M7BF"===e?i="KM1M7BF":"KM1M7CF"===e?i="KM1M7CF":"KM1M4BF"===e?i="KM1M4BF0":"MS51"===e?i="MS51_8K":"ML51"===e?i="ML51":"MUG51"===e?i="MUG51":"M2L31"===e?i="M2L31":"M55M1"===e&&(i="M55M1"),fn(t,"NUC_"+(l=i)+"_Content.js","js",rn)})),e=null,i=null,n=null,o=null,t=null}(),$("#rootTree_Pin")[0].setAttribute("style","width:"+X+"px; height: "+oe+"px;"),Ki(),oi(),Ni(),ti(),$i(),pi(),"undefined"!=typeof NUTOOL_PER||U||Mi())}function Jn(){if(null!=this.files[0]&&null!=this.files[0])if(-1!=this.files[0].name.split(".").pop().toLowerCase().indexOf("ncfg")){var e=this.files[0],i=new FileReader;i.readAsText(e),i.onload=function(i){NUTOOL_PIN.g_readConfigFileContentText=i.target.result,NUTOOL_PIN.g_readConfigFilePath=URL.createObjectURL(e);try{!function(e){var i,n,t;i=NUTOOL_PIN.g_readConfigFileContentText;for(;-1!==i.indexOf("\r")&&i.indexOf("\r")<i.indexOf("MCU:");)i=i.sliceAfterX("\r");if(n=(n=i.sliceBetweenXandX("MCU:","\r")).trim(),t=Ai(n),-1===$.inArray(ji(t),ze))return Oi("从配置档读出的芯片型号 "+t+" 不正确。","從配置檔讀出的晶片型號 "+t+" 不正確。","The chip type of "+t+" read from the config file is incorrect."),i=null,n=null,t=null,null;void 0!==l?fn("NUC_"+l+"_Content.js","NUC_"+t+"_Content.js","js",e):void 0===l&&fn("undefined"==typeof NUTOOL_PER?void 0===NUTOOL_PIN.g_chipType_default||""===NUTOOL_PIN.g_chipType_default?"NUC_NUC400_Content.js":"NUC_"+NUTOOL_PIN.g_chipType_default+"_Content.js":"NUC_M251_Content.js","NUC_"+t+"_Content.js","js",e)}(bn)}catch(e){}}}else alert("Please select a file with a valid file type. (.ncfg)")}window.onload=function(){qn(),$("#ID_BUTTON_SHOW_REGISTERS").on("click",(function(){Un()})),$("#ID_BUTTON_LOAD").on("click",(function(){$("#rootTree_Pin").is(":visible")&&Tn((function(){$("#loadConfiguration").trigger("click")}))})),$("#loadConfiguration").on("change",Jn),$("#ID_BUTTON_SAVE").on("click",(function(){Ln()})),$("#ID_BUTTON_GENERATE_CODE").on("click",(function(){yn()})),$("#ID_BUTTON_CONNECT_TO_TARGET").on("click",(function(){!async function(){var e;null!=C&&(await navigator.usb.getDevices().then((i=>{i.forEach((i=>{e=i}))})).catch((i=>{console.log(i),e=void 0})),null==e&&(e=await navigator.usb.requestDevice({filters:[{vendorId:1046}]}).catch((i=>{console.log(i),e=void 0}))),null!=e&&C.postMessage({action:"connect"}))}()})),$("#ID_BUTTON_PRINT_REPORT").on("click",(function(){En()})),$("#ID_BUTTON_GENERATE_PIN_DESCRIPTIONS").on("click",(function(){Xn()})),$("#ID_BUTTON_RUN_NUCAD").on("click",(function(){Bn()})),$("#ID_BUTTON_SHOW_PIN_DESCRIPTIONS").on("click",(function(){An()})),$("#ID_BUTTON_ZOOM_IN").on("click",(function(){Gn()})),$("#ID_BUTTON_BEST_FIT").on("click",(function(){Kn()})),$("#ID_BUTTON_ZOOM_OUT").on("click",(function(){Wn()})),$("#ID_BUTTON_DISABLE").on("click",(function(){Hn()})),$("#ID_BUTTON_LANGUAGE").on("click",(function(){zn()})),$("#ID_BUTTON_INSTRUCTION").on("click",(function(){window.location.href="https://www.nuvoton.com/export/resource-files/UM_NuTool-PinConfigure_EN_Rev1.24.pdf"})),Yn(),$.ajax({url:"./src/PartNumID.cpp",async:!1}).responseText.split(/\r\n|\n/).filter((function(e){return new RegExp(".*[^/]{.*0x.*[PROJ].*}").test(e)})).forEach((function(e){if(-1==e.indexOf("not release")){let i=e.substring(e.indexOf('"')+1,e.lastIndexOf('"')),n=e.substring(e.indexOf("0x"),e.lastIndexOf("PROJ")-2),t=e.substring(e.indexOf("PROJ"),e.lastIndexOf("}"));ii.push(i+"-"+n+"-"+t)}})),window.Worker&&((C=new Worker("./src/worker/webusb.worker-bundle.js")).onmessage=async function(e){let n=e.data.action,t=e.data;if("connected"==n)ei=!0,C.postMessage({action:"getPIDValue"});else if("returnPIDValue"==n)if(s=t.value,M=ii.filter((e=>-1!=e.indexOf(s)))[0].slicePriorToX("-"),console.log("connected device: "+M),-1!=o.indexOf(M)){var l=[],r=[];for(r=zi(NUTOOL_PIN.g_cfg_regDescriptions),i=0;i<r.length;i++)l.push(NUTOOL_PIN.g_cfg_regDescriptions[r[i]]);C.postMessage({action:"getMFPValues",data:l})}else C.postMessage({action:"connectComplete"}),Ti(),Oi("请切换至与连接芯片相符合的芯片系列与型号。","請切換至與連接晶片相符合的晶片系列與型號。","Please switch to the Chip Series and Part No. that matches the connected chip.");else if("returnRegisterValue"==n){for(r=zi(NUTOOL_PIN.g_cfg_regDescriptions),i=0;i<r.length;i++)if(NUTOOL_PIN.g_cfg_regDescriptions[r[i]]==t.register){console.log(r[i]+", "+t.register+", "+t.value),wi(`${r[i]}:0x${t.value}`);break}C.postMessage({action:"connectComplete"})}else"disconnect"==n&&(ei=!1);var s}),function(){if("undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof process&&"object"==typeof process.versions&&process.versions.electron)return!0;if("object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)return!0;return!1}()&&$("#ID_BUTTON_RUN_NUCAD").show()},NUTOOL_PIN={getg_userSelectUIlanguage:function(){return ge},getg_partNumber_package:function(){return o},getg_pin_descriptions:function(){return u},getg_gpio_MFPsString:function(){return a},getg_gpio_MFPsString1:function(){return c},getg_pinCurrentStateString:function(){return g},getg_pinsConfiguredByGPIOstring:function(){return _},getg_userDefinedPinString:function(){return x},getg_includeHeadFileString:function(){return s},getg_generatedCodeByPinString:function(){return N},getg_generatedCodeByModuleString:function(){return p},getg_generatedCodeByGPIOstring:function(){return O},getg_generatedMFPFunctionList:function(){return h},getg_toolName:function(){return NUTOOL_PIN.g_toolName},getg_anotherNameForNuCAD:function(){return NUTOOL_PIN.g_anotherNameForNuCAD},getg_briefName:function(){return ue},getg_copyrightCompanyName:function(){return Ne},setg_selectedPartNoValue:function(e){n=e},setReviewReportTable:vn,loadPinConfigureTool:qn,loadPinConfigureTool_fromSelectionGuide:function(){xi()||(Ti(),Ii(),$("#rootTree_Pin")[0].setAttribute("style","width:"+X+"px; height: "+oe+"px;"),sn(),pi(),U||Mi())},getGeneratedCodeByPin:wn,getGeneratedCodeByModule:Fn,getGeneratedCodeByGPIO:jn,getGeneratedMFPFunctionList:function(){var e,i,n,t;for(h="/",e=0,n=NUTOOL_PIN.g_cfg_gpios.length;e<n;e+=1)for(i=0,t=NUTOOL_PIN.g_cfg_gpios[e].f.length;i<t;i+=1)h+=NUTOOL_PIN.g_cfg_gpios[e].f[i]+"/"},getIncludeHeadFile:Xi,getDataUsedToCreateText:Bi,getModularizedDataUsedToCreateText:Ri,retrieveGenerateCodeContent:function(){return f},decideNewChipType:Ai,updatePinName:Qi,closeAPP:function(){null!==pe&&pe.close(),hn(xn)&&Tn((function(){window.external.closeFromJS()}))},redrawForResizingDialog:function(){ne=ee,oe=(te=ie)-10,le=18*zi(Ee).length+20>oe/3?oe/3:18*zi(Ee).length+20,$("#panel").width(ne-X-8),$("#panel").height(te-8),"none"===$("#mfpTree").css("display")?$("#moduleTree").height(oe-$("#supportedModules").height()):($("#mfpTree").height(le),$("#moduleTree").height(oe-$("#ChipType").height()-$("#MCU").height()-le-6-$("#supportedModules").height())),me=100,pn(),recordedDialogSize=null},triggerSearch:function(){ui($("#searchInput_Pin").val())},showRegisters:Un,loadConfig_core:bn,saveConfig:Ln,generateCode:yn,connectToTarget:function(){var e,i,n,t,l=localStorage.getItem("UIlanguage");Qe||$("html").hasClass("ie9")?$("#rootTree_Pin").is(":visible")&&(void 0===l||null==l?(e="Connect to Target Chip",i="To use this feature, please upgrade the IE version to 10 or higher.",t="Confirm"):"Simplified Chinese"===l?(e="连线到目标芯片",i="要使用此功能，请将IE版本升级到10或更高版本。",t="确定"):"Traditional Chinese"===l?(e="連線到目標晶片",i="要使用此功能，請將IE版本升級到10或更高版本。",t="確定"):(e="Connect to Target Chip",i="To use this feature, please upgrade the IE version to 10 or higher.",t="Confirm"),gn(),n='<div id="connectToTargetDialog"><p>'+i+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>',$(n).dialog({modal:!1,draggable:!1,resizable:!1,title:e,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#connectToTargetDialog").dialog("destroy")},buttons:[{text:t,click:function(){$("#connectToTargetDialog").dialog("isOpen")&&$("#connectToTargetDialog").dialog("destroy")}}]}),e=null,null,null,i=null,n=null,t=null,null,l=null):Ze?Rn():$("#rootTree_Pin").is(":visible")&&(void 0===l||null==l?(e="Connect to Target Chip",i="When connecting to a target chip, what you have configured is going to be gone. To continue, click the Confirm button.",t="Confirm","Leave"):"Simplified Chinese"===l?(e="连线到目标芯片",i="当连接到目标芯片时，您配置的内容将会消失。 若要继续，请点击确定按钮。",t="确定","离开"):"Traditional Chinese"===l?(e="連線到目標晶片",i="當連接到目標晶片時，您配置的內容將會消失。 若要繼續，請點擊確定按鈕。",t="確定","離開"):(e="Connect to Target Chip",i="When connecting to a target chip, what you have configured is going to be gone. To continue, click the Confirm button.",t="Confirm","Leave"),gn(),n='<div id="connectToTargetDialog"><p>'+i+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>',$(n).dialog({modal:!1,draggable:!1,resizable:!1,title:e,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#connectToTargetDialog").dialog("destroy")},buttons:[{text:t,click:function(){Rn(),$("#connectToTargetDialog").dialog("isOpen")&&$("#connectToTargetDialog").dialog("destroy")}}]}),e=null,null,null,i=null,n=null,t=null,null,l=null)},printReport:En,generatePinDescriptions:Xn,runAnotherTool:Bn,get_pin_descriptions:$n,showPinDescriptions:An,zoomIn:Gn,bestFit:Kn,zoomOut:Wn,uncheckAllNodes:Hn,uncheckAllNodes_core:On,settings:zn,changeUIlanguage:Yn,executePDFfail:function(){Oi("您的电脑不能执行PDF档。请安装必要的软件来支援它。","您的電腦不能執行PDF檔。請安裝必要的軟件來支援它。","Your PC is incapable of executing the PDF files. Please install a necessary software to support it")},executeNuCADfail:function(){var e="NuCAD";void 0!==NUTOOL_PIN.g_anotherNameForNuCAD&&""!==NUTOOL_PIN.g_anotherNameForNuCAD&&(e=NUTOOL_PIN.g_anotherNameForNuCAD),Oi("您的电脑不能执行"+e+"因为它不在Content资料夹里面。","您的電腦不能執行"+e+"因為它不在Content資料夾裡面。","Your PC is incapable of executing "+e+" because it does not exist in the Content folder.")},get_gpio_MFPsNames:kn,recordConfig:Sn,g_readConfigFilePath:"",g_readConfigFileContentText:"",g_pinFunctionString:"",g_bFunctionalTesting:!1,g_bModuleTreeLoaded:!1}}();